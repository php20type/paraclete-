/*! @cc-everywhere/sdk 3.8.11 cce-release-v3-aug23-3-912c7d59a404edb8eb989c1d25b87a68d433a147 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CCEverywhere",[],t):"object"==typeof exports?exports.CCEverywhere=t():e.CCEverywhere=t()}(self,(()=>(()=>{var e={69:(e,t,r)=>{"use strict";const s=r(9448);e.exports=s},9448:e=>{!function(t,r){e.exports=r()}(self,(()=>(()=>{var e={611:function(e,t){var r,s;void 0===(s="function"==typeof(r=function(){function e(t,r){var s=function(e,t){var r=window.document,s=r.createElement("div");return s.innerHTML="&nbsp;",s.setAttribute("class",e),s.setAttribute("style",t),r.body.appendChild(s),s}((r=function(e,t){var r={};for(var s in e)r[s]=e[s],t.hasOwnProperty(s)&&(r[s]=t[s]);return r}(e.defaults,r||{})).testNodeClasses,r.testNodeStyle),i=0,o=!1,n=setInterval((function(){i++,((o=function(e){return 0===e.offsetHeight||!document.body.contains(e)||"none"===e.style.display||"hidden"===e.style.visibility}(s))||i===r.testRuns)&&(clearInterval(n),s.parentNode&&s.parentNode.removeChild(s),t(o))}),r.testInterval)}return e.defaults={testNodeClasses:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",testNodeStyle:"height: 10px !important; font-size: 20px; color: transparent; position: absolute; bottom: 0; left: -10000px;",testInterval:51,testRuns:4},e})?r.apply(t,[]):r)||(e.exports=s)},687:(e,t,r)=>{"use strict";const s=r(44);e.exports=s},44:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(795),i=r.n(s),o=r(877),n=r.n(o);const a=new class{constructor(){}debug(){if(window.logLevel&&window.logLevel>=4){var e=Array.prototype.slice.call(arguments);console.debug.apply(console,e)}}error(){if(!window.logLevel||0!==window.logLevel){var e=Array.prototype.slice.call(arguments);console.error.apply(console,e)}}warn(){if(window.logLevel&&window.logLevel>=2){var e=Array.prototype.slice.call(arguments);console.warn.apply(console,e)}}log(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);console.info.apply(console,e)}}info(){if(window.logLevel&&window.logLevel>=3){var e=Array.prototype.slice.call(arguments);console.info.apply(console,e)}}};var c=r(611),l=r.n(c);const u=new class{userAgentData;init(){this.isUserAgentClientPresent()&&this.getUserAgentData()}isUserAgentClientPresent(){return window.cchome?.util?.hasFeature?.("temp_cch_14970")&&!!navigator.userAgentData}getUserAgentData(){let e=this;navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((t=>{e.userAgentData=t})).catch((e=>{window.cchome.util.hasFeature("temp_enable_cchome_apps_logs")&&console.error("navigator.userAgentData failed to execute",e)}))}compareVersionNumbers(e,t){const r=e.split(".").map((e=>parseInt(e,10))),s=t.split(".").map((e=>parseInt(e,10))),i=r.length>s.length?r:s;for(let e=0;e<i.length;e++){if(void 0===r[e]?r[e]=0:void 0===s[e]&&(s[e]=0),r[e]>s[e])return 1;if(r[e]<s[e])return-1}return 0}isWin(){return this.userAgentData?this.userAgentData.platform.toLowerCase().includes("windows"):i()&&i().os&&i().os.family?i().os.family.toLowerCase().includes("windows"):-1!==navigator.appVersion.indexOf("Win")}isLinux(){return!!(i()&&i().os&&i().os.family)&&("linux"===i().os.family.toLowerCase()||"ubuntu"===i().os.family.toLowerCase())}isMobileOrTab(){return(!this.isWin()||this.isARM())&&!this.isLinux()&&this.isTouchDevice()||this.isChromeOS()}isTouchDevice(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!window.navigator.maxTouchPoints&&!window.navigator.msMaxTouchPoints)}isARM(){if(this.userAgentData)return"arm"===this.userAgentData.architecture;const e=navigator.userAgent.toLowerCase().match("arm;".toLowerCase());return e&&e.length>0}isChromeOS(){return-1!==navigator.userAgent.indexOf("CrOS")}isSafari(){return!(!i()||!i().name)&&i().name.toLowerCase().includes("safari")}isFirefox(){return!(!i()||!i().name)&&i().name.toLowerCase().includes("firefox")}isEdgeOrIE(){return!(!i()||!i().name)&&(i().name.toLowerCase().includes("microsoft edge")||i().name.toLowerCase().includes("ie"))}isEdge(){if(this.userAgentData){for(const e of this.userAgentData.brands)if("Microsoft Edge"===e.brand)return!0;return!1}return!(!i()||!i().name)&&(i().name.toLowerCase().includes("edge")||-1!==navigator.userAgent.search(/\bedg\//i))}isChrome(){if(this.userAgentData){for(const e of this.userAgentData.brands)if("Google Chrome"===e.brand)return!0;return!1}return!(!i()||!i().name)&&i().name.toLowerCase().includes("chrome")&&!(-1!==navigator.userAgent.search(/\bedg\//i))}isEdgeBeta(){return!(!i()||!i().name)&&i().name.toLowerCase().includes("chrome")&&-1!==navigator.userAgent.search(/\bedg\//i)}isInternetExplorer(){return!(!i()||!i().name)&&i().name.toLowerCase().includes("ie")}isIPad(){return!!(i()&&i().os&&i().os.family&&"ios"===i().os.family.toLowerCase()&&i().product&&"ipad"===i().product.toLowerCase())||this.isMacOS()&&this.isSafari()&&!this.isIPhone()&&this.isTouchDevice()}isIPadOS(){if(i()&&i().os&&i().os.family&&"ios"===i().os.family.toLowerCase()&&i().product&&"ipad"===i().product.toLowerCase())return!0;let e=screen.availWidth;return screen.availHeight<screen.availWidth&&(e=screen.availHeight),this.isMacOS()&&this.isTouchDevice()&&(e*devicePixelRatio>=1300||e*devicePixelRatio==768)}isIPhone(){return i()&&i().os&&i().os.family&&"ios"===i().os.family.toLowerCase()&&i().product&&"iphone"===i().product.toLowerCase()}isIOS(){if(i()&&i().os&&i().os.family&&"ios"===i().os.family.toLowerCase()&&i().product&&"iphone"===i().product.toLowerCase())return!0;let e=screen.availWidth;return screen.availHeight<screen.availWidth&&(e=screen.availHeight),this.isMacOS()&&this.isTouchDevice()&&e*devicePixelRatio<1300&&e*devicePixelRatio!=768}isAndroid(){return this.userAgentData?"android"===this.userAgentData.platform.toLowerCase():i()&&i().os&&i().os.family&&"android"===i().os.family.toLowerCase()}getBrowser(){return this.isFirefox()?"firefox":this.isEdge()?"edge":this.isSafari()?"safari":this.isChrome()?"chrome":this.isInternetExplorer()?"ie":null}isMacOS(){return this.userAgentData?"macos"===this.userAgentData.platform.toLowerCase():i()&&i().os&&i().os.family?i().os.family.toLowerCase().includes("os x"):!!navigator.userAgent.toLowerCase().match("mac os x")}isNotMacOrWin(){return!this.isMacOS()&&!this.isWin()}is64bitWindows(){return this.userAgentData?"64"===this.userAgentData.bitness&&"windows"===this.userAgentData.platform.toLowerCase():!(!window.navigator.cpuClass||"x64"!==window.navigator.cpuClass)||window.navigator.platform.toLowerCase().indexOf("win64")>=0||null!==navigator.userAgent.match(/wow64|win64/i)}is64bitMac(){return this.userAgentData?"64"===this.userAgentData.bitness&&"macos"===this.userAgentData.platform.toLowerCase():!(!window.navigator.cpuClass||"x64"!==window.navigator.cpuClass)||"macintel"===window.navigator.platform.toLowerCase()||1===this.compareVersionNumbers(i().os.version,"10.7.0")}getOSVersion(){return this.userAgentData?this.userAgentData.platformVersion:i()&&i().os&&i().os.version?i().os.version:""}getMacVersion(){if(this.isMacOS()&&this.getOSVersion())return this.getOSVersion();const e=navigator.userAgent.toLowerCase();if(e.match("mac os x")){let t,r=e.match(/mac os x ([9][_|\.][0-9]+[_|\.][0-9]+)|mac os x ([1]+[0-9][_|\.][0-9]+[_|\.][0-9]+)/);return r&&0!==r.length||(r=e.match(/mac os x ([9][_|\.][0-9]+)|mac os x ([1]+[0-9][_|\.][0-9]+)/),r instanceof Array&&(r[1]?r[1]+=".0":r[2]+=".0")),r&&r.length>0&&(t=r[1]?r[1]:r[2],t=t.replace(/_/g,".")),t}return null}isDeprecatedWinOS(){const e=navigator.userAgent.toLowerCase(),t=e.match("Windows NT 5.2".toLowerCase())||e.match("Windows NT 5.1".toLowerCase())||e.match("Windows NT 5.0".toLowerCase())||e.match("Windows NT 6.0".toLowerCase());return t&&t.length>0}isDeprecatedMacOS(){const e=this.getMacVersion();if(e&&null!==e){const t=e.split(".");return parseInt(t[0],10)<10||"10"===t[0]&&t[1]&&parseInt(t[1],10)<11}return!1}isNUJDeprecatedOS(){if(this.isWin())return this.isWin7or8();if(this.isMacOS()){const e=this.getMacVersion();if(e&&null!==e){const t=e.split(".");return"10"===t[0]&&t[1]&&"11"===t[1]||parseInt(t[0],10)<10||"10"===t[0]&&t[1]&&parseInt(t[1],10)<11}}return this.isLinux()||this.isChromeOS()}isWin7or8(){return this.userAgentData?"0.1.0"===this.userAgentData.platformVersion||"0.2.0"===this.userAgentData.platformVersion:!!this.isWin()&&("8"===i().os.version||"8.1"===i().os.version||"7"===i().os.version)}getOSName(){return this.isWin()?"Windows":this.isChromeOS()?"ChromeOS":this.isAndroid()||this.isLinux()&&this.isTouchDevice()?"Android":this.isLinux()&&!this.isTouchDevice()?"Linux":this.isMacOS()&&!this.isTouchDevice()?"MacOS":this.isIOS()?"IOS":this.isIPadOS()?"IPadOS":window.navigator.platform}};let p=[],h=[],d={},m=!1;class f{constructor(e){u.init(),this.eventsObject={},this.sourcesObject={},this.contentsObject={},this.usersObject={},this.uiObject={},this.environmentObject={},this.consumerObject={},this.experimentObject={},this.customObject={},this.searchObject={},this.trnObject={},this.contextObject={},this.metricsCollection=[],this.initData={},this.initData.hostName="https://cc-api-data-stage.adobe.io",void 0===e||"production"!==e.environment&&"prod"!==e.environment||(this.initData.hostName="https://cc-api-data.adobe.io"),e&&(a.log("initData = ",e),Object.keys(e).forEach((t=>{e.hasOwnProperty(t)&&(this.initData[t]=e[t])}))),this.haveIMSObject="undefined"!=typeof adobeIMS&&adobeIMS.isSignedInUser()}static getStorageName(){return"INIT_INGEST_DATA"}deferredPost(e,t){p.push(e),h.push(t),d={deferredInitDataArray:h,deferredPostArrays:p}}static initDeferredPost(e){if(0!==Object.getOwnPropertyNames(d).length){const t=d.deferredPostArrays||[],r=d.deferredInitDataArray||[];if(t.length){const s=new f;let i,o=0,a=!0;f.storageAvailable("localStorage")?(i=localStorage.getItem("ingest_guid"),i||(i=n().v4(),localStorage.setItem("ingest_guid",i))):(a=!1,i=n().v4());for(const n of t){s.initData=r[o++];for(const t of n)if("undefined"!=typeof Visitor||m)t.events[0].data["event.visitor_guid"]=f.visitorGuid,t.events[0].data["event.mcid_guid"]=f.visitorGuid;else if(a){if(e){if(i){t.events[0].data["event.context_sequence"]="UN-AB";const e=i;t.events[0].data["event.visitor_guid"]=e,t.events[0].data["event.mcid_guid"]=e}}else if(i){t.events[0].data["event.context_sequence"]="UN-TO";const e=i;t.events[0].data["event.visitor_guid"]=e,t.events[0].data["event.mcid_guid"]=e}}else if(e){t.events[0].data["event.context_sequence"]="UN-AB";const e=i;t.events[0].data["event.visitor_guid"]=e,t.events[0].data["event.mcid_guid"]=e}else{t.events[0].data["event.context_sequence"]="UN-TO";const e=i;t.events[0].data["event.visitor_guid"]=e,t.events[0].data["event.mcid_guid"]=e}s.createPromiseToPostEvents(n)}d={},p=[],h=[]}}}isVisitorGuidDefined(e){return e[0].events[0].data["event.visitor_guid"]||m}getInstance(){let e;if(!window.Visitor)return e;try{e=void 0!==this.initData.visitorGUID?Visitor.getInstance(this.initData.visitorGUID):Visitor.getInstance("D6FAAFAD54CA9F560A4C98A5@AdobeOrg")}catch(e){console.warn(e)}return e}getMCID(){if(!window.Visitor)return null;const e=this.getInstance();return void 0!==e?e.getMarketingCloudVisitorID():null}getVisitorGuid(){if(!window.Visitor)return f.generateVisitorGuid();const e=this.getInstance();return void 0!==e?e.getMarketingCloudVisitorID():f.generateVisitorGuid()}static generateVisitorGuid(){let e;return f.storageAvailable("localStorage")?(e=localStorage.getItem("ingest_guid"),e||(e=n().v4(),localStorage.setItem("ingest_guid",e))):e=n().v4(),e}initAnalytics(){if(void 0===f.visitorGuid&&"undefined"!=typeof Visitor){m=!0;const e=this.getMCID();e&&(f.visitorGuid=e)}a.log("Ingest.visitorGuid = ",f.visitorGuid)}initArrays(e){this.eventsObject={},this.sourcesObject={},this.contentsObject={},this.usersObject={},this.uiObject={},this.environmentObject={},this.consumerObject={},this.experimentObject={},this.customObject={},this.searchObject={},this.trnObject={},this.contextObject={},e&&(this.metricsCollection=[])}getIMSTokenAndLocale(){return adobeIMS.version.startsWith("v2-")?{locale:adobeIMS.adobeIdData.locale,token:adobeIMS.getAccessToken().token}:{locale:adobeIMS.getLocale(),token:adobeIMS.getAccessToken()}}getDefaultHeaders(){let e={"x-api-key":this.initData.xApiKey,"content-type":"application/json"},t="";return this.haveIMSObject?t=this.getIMSTokenAndLocale().token:this.objectExists(this.initData.userIMSData)&&(t=this.initData.userIMSData.accessToken),t&&(e.Authorization=`Bearer ${t}`),e}flattenObj(e,t,r){try{Object.keys(e).forEach((s=>{const i=e[s],o=r?`${r}.${s}`:s;i&&"object"==typeof i?this.flattenObj(i,t,o):t[o]=i}))}catch(e){t=e}return t}getBody(e,t,r,s,i,o,n,a,c,l,u,p,h={}){const d={event:Object.assign({},h,e),source:t,content:r,user:s,ui:i,consumer:o,env:n,exp:a,custom:c,search:l,trn:u,context:p},m={time:this.getTimeString(),project:this.initData.project,environment:this.initData.environment,ingesttype:"dunamis",data:this.flattenObj(d,{})},f={events:[m]};try{window&&window.sessionStorage&&"true"===window.sessionStorage.getItem("IngestAnalyticsDataLog")&&console.log("[Ingest Analytics] Event Data: ",JSON.stringify(m),m)}catch(e){}return f}initializeDefaultData(e=!0){return this.initArrays(e),this.initAnalytics(),{events:this.getDefaultEventData(this.eventsObject),source:this.getDefaultSourceData(this.sourcesObject),contents:this.getDefaultContentData(this.contentsObject),user:this.getDefaultUserData(this.usersObject),ui:this.getDefaultUIData(this.uiObject),consumer:this.getDefaultConsumerData(this.consumerObject),env:this.getDefaultEnvironmentData(this.environmentObject),exp:this.getDefaultExperimentData(this.experimentObject),custom:this.getDefaultCustomData(this.customObject),search:this.getDefaultSearchData(this.searchObject),trn:this.getDefaultTrnData(this.trnObject),context:this.getDefaultConextData(this.contextObject),eventsArray:[]}}isIMS_SignedIn(){let e=!1;return(this.haveIMSObject||this.objectExists(this.initData.userIMSData))&&(e=!0),e}getParamsAppendedUrl(e){let t=e;if(f.storageAvailable("sessionStorage")&&sessionStorage.getItem("ingest_url_params")){const e=JSON.parse(sessionStorage.getItem("ingest_url_params"));Object.keys(e).forEach((r=>{if(-1===t.indexOf(`&${r}=`)&&-1===t.indexOf(`?${r}=`)){const s=-1===t.indexOf("?")?"?":"&";t=`${t}${s}${r}=${e[r]}`}}))}return t}getDefaultEventData(e){if(f.storageAvailable("sessionStorage")){let t=sessionStorage.getItem("ingestSessionId");t||(t=n().v4(),sessionStorage.setItem("ingestSessionId",t)),e.session_guid=t}e.guid=n().v4(),this.haveIMSObject?e.language=this.getIMSTokenAndLocale().locale:this.objectExists(this.initData.userIMSData)&&(e.language=this.initData.userIMSData.locale);let t=window.document.referrer,r=window.document.location.href;if(this.initData.useLocalReferrer&&f.storageAvailable("sessionStorage")){a.log("used eventData.referrer");const e=sessionStorage.getItem(this.initData.referrerStorageName);if(e){const s=JSON.parse(e);t=s.referrer,s.url&&(r=s.url)}}e.referrer=t,e.url=this.getParamsAppendedUrl(r),a.log("referrer = ",e.referrer),a.log("url = ",e.url),e.category="WEB",e.visitor_guid=f.visitorGuid,e.mcid_guid=f.visitorGuid,e.dts_end=this.getTimeString(),e.link_type="o",this.initData.userAgent?e.user_agent=this.initData.userAgent:e.user_agent=navigator.userAgent,this.initData.category?e.category=this.initData.category:e.category="WEB","boolean"==typeof this.initData.offline?e.offline=this.initData.offline:e.offline=!0;let s="";return this.haveIMSObject&&!adobeIMS.version.startsWith("v2-")?s=adobeIMS.getUserProfile()&&adobeIMS.getUserProfile().userId?adobeIMS.getUserProfile().userId:null:this.objectExists(this.initData.userIMSData)&&(s=this.initData.userIMSData.adobeId),s&&(e.user_guid=s),this.initData.sessionGuid&&(e.session_guid=this.initData.sessionGuid),e}getDefaultSourceData(e){return e.client_id=this.initData.clientId,this.initData.version?e.version=this.initData.version:e.version="1.0",this.initData.platformType?e.platform=this.initData.platformType:e.platform="Web",this.initData.device?e.device=this.initData.device:e.device=u.getOSName(),this.initData.source&&(e.name=this.initData.source),this.initData.osVersion?e.os_version=this.initData.osVersion:e.os_version=this.getOSVersion(),e}getDefaultContentData(e){if(f.storageAvailable("sessionStorage")){const t=sessionStorage.getItem("stakeholder");this.objectExists(t)&&t.length>0&&(e.author="true"===t?"stakeholder":"designer")}return e}getDefaultUserData(e){let t=[];if(this.haveIMSObject&&!adobeIMS.version.startsWith("v2-")?(t=adobeIMS.getUserProfile().serviceAccounts,t&&t.length>0&&(t[0].serviceLevel&&(e.service_level=t[0].serviceLevel),t[0].serviceStatus&&(e.service_status=t[0].serviceStatus,e.service_code=t[0].serviceCode))):this.objectExists(this.initData.userIMSData)&&this.objectExists(this.initData.userIMSData.serviceAccounts)&&(t=this.initData.userIMSData.serviceAccounts.serviceAccount,t&&t.length>0&&(e.service_level=t[0].serviceLevel,e.service_status=t[0].serviceStatus,e.service_code=t[0].serviceCode)),f.storageAvailable("sessionStorage")){const t=sessionStorage.getItem("subscriptionPlan");this.objectExists(t)&&t.length>0&&(e.service_code=t)}return e}getDefaultUIData(e){return e}getDefaultConsumerData(e){return this.initData.source&&(e.name=this.initData.source),this.initData.componentName&&(e.name=this.initData.componentName),this.initData.componentVersion&&(e.version=this.initData.componentVersion),e}getDefaultEnvironmentData(e){return this.initData.envComponentName&&(e["com.name"]=this.initData.envComponentName),this.initData.envComponentVersion&&(e["com.version"]=this.initData.envComponentVersion),e}getDefaultExperimentData(e){return e}getDefaultCustomData(e){return e}getDefaultSearchData(e){return e}getDefaultTrnData(e){return e}getDefaultConextData(e){return e}objectExists(e){return null!=e}setDataValue(e,t,r){switch(e){case"event":this.eventsObject[t]=r;break;case"source":this.sourcesObject[t]=r;break;case"content":{let e=r;"name"===t&&(e="string"==typeof r?r.replace(/[^\x00-\x7F]/g,""):""),this.contentsObject[t]=e}break;case"user":this.usersObject[t]=r;break;case"ui":this.uiObject[t]=r;break;case"consumer":this.consumerObject[t]=r;break;case"env":this.environmentObject[t]=r;break;case"exp":this.experimentObject[t]=r;break;case"custom":this.customObject[t]=r;break;case"search":this.searchObject[t]=r;break;case"trn":this.trnObject[t]=r;break;case"context":this.contextObject[t]=r}}getDevice(){return window.navigator.platform}getOSVersion(){return i().os.version}getPlatformData(){return i()}addToCollection(){this.metricsCollection.push(this.getBody(this.eventsObject,this.sourcesObject,this.contentsObject,this.usersObject,this.uiObject,this.consumerObject,this.environmentObject,this.experimentObject,this.customObject,this.searchObject,this.trnObject,this.contextObject)),this.initializeDefaultData(!1)}getContextGuid(){let e;return f.storageAvailable("sessionStorage")&&(e=sessionStorage.getItem("context.guid")),"string"!=typeof e&&(e=n().v4(),f.storageAvailable("sessionStorage")&&sessionStorage.setItem("context.guid",e)),e}getEvents(e){const t=[];for(const r of e)t.push(r.events[0]);return{events:t}}hasAdBlocker(){return new Promise((e=>{l()((t=>{const r={};t?(r.hasAdBlocker=!0,e(r)):(r.hasAdBlocker=!1,e(r))}),{testInterval:1,testRuns:1})}))}static storageAvailable(e){let t;try{if("cookie"===e){let e=navigator.cookieEnabled;return e||(document.cookie="testcookie",e=-1!==document.cookie.indexOf("testcookie")),e}t=window[e];const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&void 0!==t&&0!==t.length}}sendToIngest(){if(this.objectExists(this.initData.dontPostAnalytics)&&!0===this.initData.dontPostAnalytics)return;let e=5e3;this.objectExists(this.initData.timeOutForScripts)&&(e=this.initData.timeOutForScripts);const t=this.metricsCollection.slice(),r=[this.hasAdBlocker()];return this.haveIMSObject&&adobeIMS.version.startsWith("v2-")?r.push(adobeIMS.getProfile().catch((()=>null))):r.push(new Promise((e=>{e(null)}))),new Promise(((s,i)=>{Promise.all(r).then((([r,o])=>{if(r?r.hasAdBlocker?a.log("Ingest: Ad blocker is detected"):a.log("Ingest: Ad blocker is not detected"):r.hasAdBlocker=!1,o&&t.forEach((e=>{e.events.forEach((e=>{e.data["event.user_guid"]||(e.data["event.user_guid"]=o.userId),o.serviceAccounts&&o.serviceAccounts.length>0&&(!e.data["user.service_level"]&&o.serviceAccounts[0].serviceLevel&&(e.data["user.service_level"]=o.serviceAccounts[0].serviceLevel),!e.data["user.service_status"]&&o.serviceAccounts[0].serviceStatus&&(e.data["user.service_status"]=o.serviceAccounts[0].serviceStatus),!e.data["user.service_code"]&&o.serviceAccounts[0].serviceCode&&(e.data["user.service_code"]=o.serviceAccounts[0].serviceCode))}))})),setTimeout((function(){f.initDeferredPost(r.hasAdBlocker)}),e),!this.isVisitorGuidDefined(t))return this.deferredPost(t,this.initData),s();const n=this.createPromiseToPostEvents(t,o);n&&n.then?n.then(s).catch(i):s()}))}))}createPromiseToPostEvents(e,t){if(this.objectExists(window.visitorset)&&!window.visitorset)return;if(this.objectExists(this.initData.sendEventsToHost)&&!0===this.initData.sendEventsToHost&&this.objectExists(this.initData.eventsCallBack))return void this.initData.eventsCallBack(e);const r=this.logToIngest(e,t);return r.then((()=>{a.log("Post to Ingest request successful")}),(()=>{a.warn("Post to ingest request failed")})),r}getTimeString(){const e=new Date;let t="",r=-e.getTimezoneOffset();return r>=0?t="+":(t="-",r*=-1),t+=("0"+parseInt(r/60)).slice(-2)+("0"+r%60).slice(-2),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+(e.getMilliseconds()/1e3).toFixed(3).slice(2,5)+t}logToIngest(e,t){let r;return r=this.initData.apiKey?`/ingest/?api_key=${this.initData.apiKey}`:this.initData.path,new Promise(((s,i)=>{window.XMLHttpRequest||(a.debug("Ingest: logToIngest - XMLHttpRequest is not supported in browser!!"),i(Error("problem with window XMLHttpRequest"))),this.httpRequest=new XMLHttpRequest,this.httpRequest||(a.debug("Ingest: logToIngest: Cannot create an XMLHTTP instance"),i(Error("problem with creating XMLHttpRequest"))),this.httpRequest.onload=()=>{a.debug("Ingest: logToIngest: Event successfully posted"),s(this.httpRequest.responseText)},this.httpRequest.onerror=()=>{a.debug("Ingest: logToIngest: Error in sending ingest data"),i(Error("Ingest: logToIngest: Got error response in XMLHttpRequest"))},this.httpRequest.ontimeout=()=>{a.debug("Ingest: logToIngest: Request timed out while sending ingest data"),this.httpRequest.abort(),i(Error("Ingest: logToIngest: Request got timed out"))},navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")>0&&(this.httpRequest.responseType="text");let o=this.initData.hostName;0!==o.indexOf("https://")&&(o=`https://${this.initData.hostName}`),this.httpRequest.open("POST",o+r);const n=this.getDefaultHeaders();for(const e in n)this.httpRequest.setRequestHeader(e,n[e]);this.objectExists(this.initData.setTimeOut)?(a.debug("set time out"),this.httpRequest.timeout=this.initData.setTimeOut):(a.debug("default timeout"),this.httpRequest.timeout=6e4);try{let r="";this.haveIMSObject&&!adobeIMS.version.startsWith("v2-")?r=adobeIMS.getUserProfile().account_type:this.objectExists(this.initData.userIMSData)?r=this.initData.userIMSData.accountType:t&&(r=t.account_type),!r||"type1"===r||this.initData.sendEnterprise&&!0===this.initData.sendEnterprise?this.initData.optOutAnalytics?(a.debug("Ingest: User opts out"),s("User opts out")):this.httpRequest.send(JSON.stringify(this.getEvents(e))):(a.debug("Ingest: User is Enterprise user or offline"),s("Enterprise User or offline"))}catch(e){a.debug("Ingest: logToIngest: Error in sending ingest data"),i(Error("Ingest: logToIngest: Got error response in XMLHttpRequest"))}}))}}f.visitorGuid},795:function(e,t,r){var s;e=r.nmd(e),function(){"use strict";var i={function:!0,object:!0},o=i[typeof window]&&window||this,n=i[typeof t]&&t,a=i.object&&e&&!e.nodeType&&e,c=n&&a&&"object"==typeof r.g&&r.g;!c||c.global!==c&&c.window!==c&&c.self!==c||(o=c);var l=Math.pow(2,53)-1,u=/\bOpera/,p=Object.prototype,h=p.hasOwnProperty,d=p.toString;function m(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function f(e){return e=v(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:m(e)}function y(e,t){for(var r in e)h.call(e,r)&&t(e[r],r,e)}function g(e){return null==e?m(e):d.call(e).slice(8,-1)}function b(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function E(e,t){var r=null;return function(e,t){var r=-1,s=e?e.length:0;if("number"==typeof s&&s>-1&&s<=l)for(;++r<s;)t(e[r],r);else y(e,t)}(e,(function(s,i){r=t(r,s,i,e)})),r}function v(e){return String(e).replace(/^ +| +$/g,"")}var w=function e(t){var r=o,s=t&&"object"==typeof t&&"String"!=g(t);s&&(r=t,t=null);var i=r.navigator||{},n=i.userAgent||"";t||(t=n);var a,c,l,p,h,m=s?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(d.toString()),w="Object",T=s?w:"ScriptBridgingProxyObject",P=s?w:"Environment",_=s&&r.java?"JavaPackage":g(r.java),I=s?w:"RuntimeObject",A=/\bJava/.test(_)&&r.java,S=A&&g(r.environment)==P,C=A?"a":"Î±",O=A?"b":"Î²",k=r.document||{},R=r.operamini||r.opera,D=u.test(D=s&&R?R["[[Class]]"]:g(R))?D:R=null,L=t,N=[],x=null,M=t==n,j=M&&R&&"function"==typeof R.version&&R.version(),$=E([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,r){return e||RegExp("\\b"+(r.pattern||b(r))+"\\b","i").exec(t)&&(r.label||r)})),U=E(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,r){return e||RegExp("\\b"+(r.pattern||b(r))+"\\b","i").exec(t)&&(r.label||r)})),B=V([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),G=E({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,r,s){return e||(r[B]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+b(s)+"(?:\\b|\\w*\\d)","i").exec(t))&&s})),F=E(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,r){var s=r.pattern||b(r);return!e&&(e=RegExp("\\b"+s+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,r){var s={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(s=s[/[\d.]+$/.exec(e)])&&(e="Windows "+s),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),f(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,s,r.label||r)),e}));function V(e){return E(e,(function(e,r){var s=r.pattern||b(r);return!e&&(e=RegExp("\\b"+s+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+s+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+s+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(r.label&&!RegExp(s,"i").test(r.label)?r.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),r=r.label||r,e=f(e[0].replace(RegExp(s,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function H(e){return E(e,(function(e,r){return e||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if($&&($=[$]),/\bAndroid\b/.test(F)&&!B&&(a=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(B=v(a[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),G&&!B?B=V([G]):G&&B&&(B=B.replace(RegExp("^("+b(G)+")[-_.\\s]","i"),G+" ").replace(RegExp("^("+b(G)+")[-_.]?(\\w)","i"),G+" $2")),(a=/\bGoogle TV\b/.exec(B))&&(B=a[0]),/\bSimulator\b/i.test(t)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==U&&/\bOPiOS\b/.test(t)&&N.push("running in Turbo/Uncompressed mode"),"IE"==U&&/\blike iPhone OS\b/.test(t)?(G=(a=e(t.replace(/like iPhone OS/,""))).manufacturer,B=a.product):/^iP/.test(B)?(U||(U="Safari"),F="iOS"+((a=/ OS ([\d_]+)/i.exec(t))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"==U&&/^Linux\b/i.test(F)?F="Kubuntu":G&&"Google"!=G&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(B))||/\bAndroid\b/.test(F)&&/^Chrome/.test(U)&&/\bVersion\//i.test(t)?(U="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==U?(/\bMobi/i.test(t)||(F="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&N.unshift("accelerated")):"UC Browser"==U&&/\bUCWEB\b/.test(t)?N.push("speed mode"):"PaleMoon"==U&&(a=/\bFirefox\/([\d.]+)\b/.exec(t))?N.push("identifying as Firefox "+a[1]):"Firefox"==U&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(F||(F="Firefox OS"),B||(B=a[1])):!U||(a=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(U))?(U&&!B&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(a+"/")+8))&&(U=null),(a=B||G||F)&&(B||G||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:a)+" Browser")):"Electron"==U&&(a=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&N.push("Chromium "+a),j||(j=H(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",b(U),"(?:Firefox|Minefield|NetFront)"])),(a=("iCab"==$&&parseFloat(j)>3?"WebKit":/\bOpera\b/.test(U)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test($)&&"WebKit"||!$&&/\bMSIE\b/i.test(t)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==$&&/\bPlayStation\b(?! Vita\b)/i.test(U)&&"NetFront")&&($=[a]),"IE"==U&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(U+=" Mobile",F="Windows Phone "+(/\+$/.test(a)?a:a+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(U="IE Mobile",F="Windows Phone 8.x",N.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=U&&"Trident"==$&&(a=/\brv:([\d.]+)/.exec(t))&&(U&&N.push("identifying as "+U+(j?" "+j:"")),U="IE",j=a[1]),M){if(p="global",h=null!=(l=r)?typeof l[p]:"number",/^(?:boolean|number|string|undefined)$/.test(h)||"object"==h&&!l[p])g(a=r.runtime)==T?(U="Adobe AIR",F=a.flash.system.Capabilities.os):g(a=r.phantom)==I?(U="PhantomJS",j=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof k.documentMode&&(a=/\bTrident\/(\d+)/i.exec(t))?(j=[j,k.documentMode],(a=+a[1]+4)!=j[1]&&(N.push("IE "+j[1]+" mode"),$&&($[1]=""),j[1]=a),j="IE"==U?String(j[1].toFixed(1)):j[0]):"number"==typeof k.documentMode&&/^(?:Chrome|Firefox)\b/.test(U)&&(N.push("masking as "+U+" "+j),U="IE",j="11.0",$=["Trident"],F="Windows");else if(A&&(L=(a=A.lang.System).getProperty("os.arch"),F=F||a.getProperty("os.name")+" "+a.getProperty("os.version")),S){try{j=r.require("ringo/engine").version.join("."),U="RingoJS"}catch(e){(a=r.system)&&a.global.system==r.system&&(U="Narwhal",F||(F=a[0].os||null))}U||(U="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(a=r.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(N.push("Node "+a.versions.node),U="Electron",j=a.versions.electron):"string"==typeof a.versions.nw&&(N.push("Chromium "+j,"Node "+a.versions.node),U="NW.js",j=a.versions.nw)),U||(U="Node.js",L=a.arch,F=a.platform,j=(j=/[\d.]+/.exec(a.version))?j[0]:null));F=F&&f(F)}if(j&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(M&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(x=/b/i.test(a)?"beta":"alpha",j=j.replace(RegExp(a+"\\+?$"),"")+("beta"==x?O:C)+(/\d+\+?/.exec(a)||"")),"Fennec"==U||"Firefox"==U&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(F))U="Firefox Mobile";else if("Maxthon"==U&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(F=null),"Xbox 360"==B&&/\bIEMobile\b/.test(t)&&N.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||B||/Browser|Mobi/.test(U))||"Windows CE"!=F&&!/Mobi/i.test(t))if("IE"==U&&M)try{null===r.external&&N.unshift("platform preview")}catch(e){N.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(t))&&(a=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||j)?(F=((a=[a,/BB10/.test(t)])[1]?(B=null,G="BlackBerry"):"Device Software")+" "+a[0],j=null):this!=y&&"Wii"!=B&&(M&&R||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==U&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==U&&(F&&!/^Win/.test(F)&&j>5.5||/\bWindows XP\b/.test(F)&&j>8||8==j&&!/\bTrident\b/.test(t)))&&!u.test(a=e.call(y,t.replace(u,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),u.test(U)?(/\bIE\b/.test(a)&&"Mac OS"==F&&(F=null),a="identify"+a):(a="mask"+a,U=D?f(D.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(F=null),M||(j=null)),$=["Presto"],N.push(a));else U+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==U&&"+"==a[1].slice(-1)?(U="WebKit Nightly",x="alpha",j=a[1].slice(0,-1)):j!=a[1]&&j!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(j=null),a[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==$&&($=["Blink"]),M&&(m||a[1])?($&&($[1]="like Chrome"),a=a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=$?"27":"28")):($&&($[1]="like Safari"),a=(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:a<602?9:a<604?10:a<606?11:a<608?12:"12"),$&&($[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==U&&(!j||parseInt(j)>45)?j=a:"Chrome"==U&&/\bHeadlessChrome/i.test(t)&&N.unshift("headless")),"Opera"==U&&(a=/\bzbov|zvav$/.exec(F))?(U+=" ",N.unshift("desktop mode"),"zvav"==a?(U+="Mini",j=null):U+="Mobile",F=F.replace(RegExp(" *"+a+"$"),"")):"Safari"==U&&/\bChrome\b/.exec($&&$[1])?(N.unshift("desktop mode"),U="Chrome Mobile",j=null,/\bOS X\b/.test(F)?(G="Apple",F="iOS 4.3+"):F=null):/\bSRWare Iron\b/.test(U)&&!j&&(j=H("Chrome")),j&&0==j.indexOf(a=/[\d.]+$/.exec(F))&&t.indexOf("/"+a+"-")>-1&&(F=v(F.replace(a,""))),F&&-1!=F.indexOf(U)&&!RegExp(U+" OS").test(F)&&(F=F.replace(RegExp(" *"+b(U)+" *"),"")),$&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||"Safari"!=U&&/^iOS/.test(F)&&/\bSafari\b/.test($[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(U)&&$[1])&&(a=$[$.length-1])&&N.push(a),N.length&&(N=["("+N.join("; ")+")"]),G&&B&&B.indexOf(G)<0&&N.push("on "+G),B&&N.push((/^on /.test(N[N.length-1])?"":"on ")+B),F&&(a=/ ([\d.+]+)$/.exec(F),c=a&&"/"==F.charAt(F.length-a[0].length-1),F={architecture:32,family:a&&!c?F.replace(a[0],""):F,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!c?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(L))&&!/\bi686\b/i.test(L)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+a),"")),U&&(/\bWOW64\b/i.test(t)||M&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&N.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==U&&parseFloat(j)>=39&&(F.architecture=64),t||(t=null);var z={};return z.description=t,z.layout=$&&$[0],z.manufacturer=G,z.name=U,z.prerelease=x,z.product=B,z.ua=t,z.version=U&&j,z.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=e,z.toString=function(){return this.description||""},z.version&&N.unshift(j),z.name&&N.unshift(U),F&&U&&(F!=String(F).split(" ")[0]||F!=U.split(" ")[0]&&!B)&&N.push(B?"("+F+")":"on "+F),N.length&&(z.description=N.join(" ")),z}();o.platform=w,void 0===(s=function(){return w}.call(t,r,t,e))||(e.exports=s)}.call(this)},877:(e,t,r)=>{var s=r(570),i=r(171),o=i;o.v1=s,o.v4=i,e.exports=o},327:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var s=r||0,i=t;return[i[e[s++]],i[e[s++]],i[e[s++]],i[e[s++]],"-",i[e[s++]],i[e[s++]],"-",i[e[s++]],i[e[s++]],"-",i[e[s++]],i[e[s++]],"-",i[e[s++]],i[e[s++]],i[e[s++]],i[e[s++]],i[e[s++]],i[e[s++]]].join("")}},217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var s=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}},570:(e,t,r)=>{var s,i,o=r(217),n=r(327),a=0,c=0;e.exports=function(e,t,r){var l=t&&r||0,u=t||[],p=(e=e||{}).node||s,h=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==h){var d=o();null==p&&(p=s=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:c+1,y=m-a+(f-c)/1e4;if(y<0&&void 0===e.clockseq&&(h=h+1&16383),(y<0||m>a)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,c=f,i=h;var g=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;u[l++]=g>>>24&255,u[l++]=g>>>16&255,u[l++]=g>>>8&255,u[l++]=255&g;var b=m/4294967296*1e4&268435455;u[l++]=b>>>8&255,u[l++]=255&b,u[l++]=b>>>24&15|16,u[l++]=b>>>16&255,u[l++]=h>>>8|128,u[l++]=255&h;for(var E=0;E<6;++E)u[l+E]=p[E];return t||n(u)}},171:(e,t,r)=>{var s=r(217),i=r(327);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var a=0;a<16;++a)t[o+a]=n[a];return t||i(n)}}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(687)})()))},266:(e,t)=>{"use strict";function r(e,t){const r=Object.assign(Object.assign({},t),e);return void 0===r.retries&&(r.retries=t.retries),void 0===r.retryDelay&&(r.retryDelay=t.retryDelay),void 0===r.retryOn&&(r.retryOn=t.retryOn),r}t.Z=function(e,t={}){const s=r(t,{retries:3,retryDelay:500,retryOn:[419,503,504]});return function(t,i){const o=r({retries:null==i?void 0:i.retries,retryDelay:null==i?void 0:i.retryDelay,retryOn:null==i?void 0:i.retryOn},s),n="function"==typeof o.retryDelay?o.retryDelay:()=>o.retryDelay,a="function"==typeof o.retryOn?o.retryOn:(e,t,r,s)=>(!!r||!s||-1!==o.retryOn.indexOf(s.status))&&e<t;return new Promise((function(r,s){const c=function(n){e(t,i).then((function(e){a(n,o.retries,null,e)?l(n,null,e):r(e)})).catch((function(e){a(n,o.retries,e,null)?l(n,e,null):s(e)}))};function l(e,t,r){setTimeout((function(){c(++e)}),n(e,t,r))}c(0)}))}}},9593:(e,t,r)=>{"use strict";const s=r(4411),i=Symbol("max"),o=Symbol("length"),n=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),p=Symbol("lruList"),h=Symbol("cache"),d=Symbol("updateAgeOnGet"),m=()=>1;const f=(e,t,r)=>{const s=e[h].get(t);if(s){const t=s.value;if(y(e,t)){if(b(e,s),!e[a])return}else r&&(e[d]&&(s.value.now=Date.now()),e[p].unshiftNode(s));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},g=e=>{if(e[o]>e[i])for(let t=e[p].tail;e[o]>e[i]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[o]-=r.length,e[h].delete(r.key),e[p].removeNode(t)}};class E{constructor(e,t,r,s,i){this.key=e,this.value=t,this.length=r,this.now=s,this.maxAge=i||0}}const v=(e,t,r,s)=>{let i=r.value;y(e,i)&&(b(e,r),e[a]||(i=void 0)),i&&t.call(s,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||m;if(this[n]="function"!=typeof t?m:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[d]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=m),e!==this[n]&&(this[n]=e,this[o]=0,this[p].forEach((e=>{e.length=this[n](e.value,e.key),this[o]+=e.length}))),g(this)}get lengthCalculator(){return this[n]}get length(){return this[o]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let r=this[p].tail;null!==r;){const s=r.prev;v(this,e,r,t),r=s}}forEach(e,t){t=t||this;for(let r=this[p].head;null!==r;){const s=r.next;v(this,e,r,t),r=s}}keys(){return this[p].toArray().map((e=>e.key))}values(){return this[p].toArray().map((e=>e.value))}reset(){this[l]&&this[p]&&this[p].length&&this[p].forEach((e=>this[l](e.key,e.value))),this[h]=new Map,this[p]=new s,this[o]=0}dump(){return this[p].map((e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[p]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const s=r?Date.now():0,a=this[n](t,e);if(this[h].has(e)){if(a>this[i])return b(this,this[h].get(e)),!1;const n=this[h].get(e).value;return this[l]&&(this[u]||this[l](e,n.value)),n.now=s,n.maxAge=r,n.value=t,this[o]+=a-n.length,n.length=a,this.get(e),g(this),!0}const d=new E(e,t,a,s,r);return d.length>this[i]?(this[l]&&this[l](e,t),!1):(this[o]+=d.length,this[p].unshift(d),this[h].set(e,this[p].head),g(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!y(this,t)}get(e){return f(this,e,!0)}peek(e){return f(this,e,!1)}pop(){const e=this[p].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const s=e[r],i=s.e||0;if(0===i)this.set(s.k,s.v);else{const e=i-t;e>0&&this.set(s.k,s.v,e)}}}prune(){this[h].forEach(((e,t)=>f(this,t,!1)))}}},4155:e=>{var t,r,s=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function n(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],l=!1,u=-1;function p(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=n(p);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||n(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},2257:(e,t,r)=>{const s=Symbol("SemVer ANY");class i{static get ANY(){return s}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===s?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=s}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===s||e===s)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):(!(t=o(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=i;const o=r(2893),{safeRe:n,t:a}=r(5765),c=r(7539),l=r(4225),u=r(6376),p=r(6902)},6902:(e,t,r)=>{class s{constructor(e,t){if(t=o(t),e instanceof s)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new s(e.raw,t);if(e instanceof n)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!y(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&f))+":"+e,r=i.get(t);if(r)return r;const s=this.options.loose,o=s?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];e=e.replace(o,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(l[u.COMPARATORTRIM],p),a("comparator trim",e),e=e.replace(l[u.TILDETRIM],h),a("tilde trim",e),e=e.replace(l[u.CARETTRIM],d),a("caret trim",e);let c=e.split(" ").map((e=>E(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));s&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(l[u.COMPARATORLOOSE]))))),a("range list",c);const g=new Map,b=c.map((e=>new n(e,this.options)));for(const e of b){if(y(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return i.set(t,v),v}intersects(e,t){if(!(e instanceof s))throw new TypeError("a Range is required");return this.set.some((r=>b(r,t)&&e.set.some((e=>b(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(k(this.set[t],e,this.options))return!0;return!1}}e.exports=s;const i=new(r(9593))({max:1e3}),o=r(2893),n=r(2257),a=r(4225),c=r(6376),{safeRe:l,t:u,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:d}=r(5765),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:f}=r(3295),y=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,b=(e,t)=>{let r=!0;const s=e.slice();let i=s.pop();for(;r&&s.length;)r=s.every((e=>i.intersects(e,t))),i=s.pop();return r},E=(e,t)=>(a("comp",e,t),e=P(e,t),a("caret",e),e=w(e,t),a("tildes",e),e=I(e,t),a("xrange",e),e=S(e,t),a("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const r=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(r,((t,r,s,i,o)=>{let n;return a("tilde",e,t,r,s,i,o),v(r)?n="":v(s)?n=`>=${r}.0.0 <${+r+1}.0.0-0`:v(i)?n=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:o?(a("replaceTilde pr",o),n=`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`):n=`>=${r}.${s}.${i} <${r}.${+s+1}.0-0`,a("tilde return",n),n}))},P=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{a("caret",e,t);const r=t.loose?l[u.CARETLOOSE]:l[u.CARET],s=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,o,n)=>{let c;return a("caret",e,t,r,i,o,n),v(r)?c="":v(i)?c=`>=${r}.0.0${s} <${+r+1}.0.0-0`:v(o)?c="0"===r?`>=${r}.${i}.0${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${s} <${+r+1}.0.0-0`:n?(a("replaceCaret pr",n),c="0"===r?"0"===i?`>=${r}.${i}.${o}-${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${n} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===i?`>=${r}.${i}.${o}${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),a("caret return",c),c}))},I=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>A(e,t))).join(" ")),A=(e,t)=>{e=e.trim();const r=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(r,((r,s,i,o,n,c)=>{a("xRange",e,r,s,i,o,n,c);const l=v(i),u=l||v(o),p=u||v(n),h=p;return"="===s&&h&&(s=""),c=t.includePrerelease?"-0":"",l?r=">"===s||"<"===s?"<0.0.0-0":"*":s&&h?(u&&(o=0),n=0,">"===s?(s=">=",u?(i=+i+1,o=0,n=0):(o=+o+1,n=0)):"<="===s&&(s="<",u?i=+i+1:o=+o+1),"<"===s&&(c="-0"),r=`${s+i}.${o}.${n}${c}`):u?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:p&&(r=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",r),r}))},S=(e,t)=>(a("replaceStars",e,t),e.trim().replace(l[u.STAR],"")),C=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),O=e=>(t,r,s,i,o,n,a,c,l,u,p,h,d)=>`${r=v(s)?"":v(i)?`>=${s}.0.0${e?"-0":""}`:v(o)?`>=${s}.${i}.0${e?"-0":""}`:n?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=v(l)?"":v(u)?`<${+l+1}.0.0-0`:v(p)?`<${l}.${+u+1}.0-0`:h?`<=${l}.${u}.${p}-${h}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),k=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==n.ANY&&e[r].semver.prerelease.length>0){const s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}},6376:(e,t,r)=>{const s=r(4225),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(3295),{safeRe:n,t:a}=r(5765),c=r(2893),{compareIdentifiers:l}=r(6742);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);s("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?n[a.LOOSE]:n[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(s("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(s("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return l(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(s("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return l(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let s=this.prerelease.length;for(;--s>=0;)"number"==typeof this.prerelease[s]&&(this.prerelease[s]++,s=-2);if(-1===s){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let s=[t,e];!1===r&&(s=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},3507:(e,t,r)=>{const s=r(3959);e.exports=(e,t)=>{const r=s(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},7539:(e,t,r)=>{const s=r(8718),i=r(1194),o=r(1312),n=r(5903),a=r(1544),c=r(2056);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return s(e,r,l);case"!=":return i(e,r,l);case">":return o(e,r,l);case">=":return n(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},9038:(e,t,r)=>{const s=r(6376),i=r(3959),{safeRe:o,t:n}=r(5765);e.exports=(e,t)=>{if(e instanceof s)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=o[n.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),o[n.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[n.COERCERTL].lastIndex=-1}else r=e.match(o[n.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},8880:(e,t,r)=>{const s=r(6376);e.exports=(e,t,r)=>{const i=new s(e,r),o=new s(t,r);return i.compare(o)||i.compareBuild(o)}},7880:(e,t,r)=>{const s=r(6269);e.exports=(e,t)=>s(e,t,!0)},6269:(e,t,r)=>{const s=r(6376);e.exports=(e,t,r)=>new s(e,r).compare(new s(t,r))},2378:(e,t,r)=>{const s=r(3959);e.exports=(e,t)=>{const r=s(e,null,!0),i=s(t,null,!0),o=r.compare(i);if(0===o)return null;const n=o>0,a=n?r:i,c=n?i:r,l=!!a.prerelease.length;if(!!c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},8718:(e,t,r)=>{const s=r(6269);e.exports=(e,t,r)=>0===s(e,t,r)},1312:(e,t,r)=>{const s=r(6269);e.exports=(e,t,r)=>s(e,t,r)>0},5903:(e,t,r)=>{const s=r(6269);e.exports=(e,t,r)=>s(e,t,r)>=0},253:(e,t,r)=>{const s=r(6376);e.exports=(e,t,r,i,o)=>{"string"==typeof r&&(o=i,i=r,r=void 0);try{return new s(e instanceof s?e.version:e,r).inc(t,i,o).version}catch(e){return null}}},1544:(e,t,r)=>{const s=r(6269);e.exports=(e,t,r)=>s(e,t,r)<0},2056:(e,t,r)=>{const s=r(6269);e.exports=(e,t,r)=>s(e,t,r)<=0},8679:(e,t,r)=>{const s=r(6376);e.exports=(e,t)=>new s(e,t).major},7789:(e,t,r)=>{const s=r(6376);e.exports=(e,t)=>new s(e,t).minor},1194:(e,t,r)=>{const s=r(6269);e.exports=(e,t,r)=>0!==s(e,t,r)},3959:(e,t,r)=>{const s=r(6376);e.exports=(e,t,r=!1)=>{if(e instanceof s)return e;try{return new s(e,t)}catch(e){if(!r)return null;throw e}}},2358:(e,t,r)=>{const s=r(6376);e.exports=(e,t)=>new s(e,t).patch},7559:(e,t,r)=>{const s=r(3959);e.exports=(e,t)=>{const r=s(e,t);return r&&r.prerelease.length?r.prerelease:null}},9795:(e,t,r)=>{const s=r(6269);e.exports=(e,t,r)=>s(t,e,r)},3657:(e,t,r)=>{const s=r(8880);e.exports=(e,t)=>e.sort(((e,r)=>s(r,e,t)))},5712:(e,t,r)=>{const s=r(6902);e.exports=(e,t,r)=>{try{t=new s(t,r)}catch(e){return!1}return t.test(e)}},1100:(e,t,r)=>{const s=r(8880);e.exports=(e,t)=>e.sort(((e,r)=>s(e,r,t)))},6397:(e,t,r)=>{const s=r(3959);e.exports=(e,t)=>{const r=s(e,t);return r?r.version:null}},1249:(e,t,r)=>{const s=r(5765),i=r(3295),o=r(6376),n=r(6742),a=r(3959),c=r(6397),l=r(3507),u=r(253),p=r(2378),h=r(8679),d=r(7789),m=r(2358),f=r(7559),y=r(6269),g=r(9795),b=r(7880),E=r(8880),v=r(1100),w=r(3657),T=r(1312),P=r(1544),_=r(8718),I=r(1194),A=r(5903),S=r(2056),C=r(7539),O=r(9038),k=r(2257),R=r(6902),D=r(5712),L=r(1042),N=r(5775),x=r(1657),M=r(5316),j=r(9042),$=r(6826),U=r(7606),B=r(32),G=r(2937),F=r(7908),V=r(799);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:h,minor:d,patch:m,prerelease:f,compare:y,rcompare:g,compareLoose:b,compareBuild:E,sort:v,rsort:w,gt:T,lt:P,eq:_,neq:I,gte:A,lte:S,cmp:C,coerce:O,Comparator:k,Range:R,satisfies:D,toComparators:L,maxSatisfying:N,minSatisfying:x,minVersion:M,validRange:j,outside:$,gtr:U,ltr:B,intersects:G,simplifyRange:F,subset:V,SemVer:o,re:s.re,src:s.src,tokens:s.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}},3295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},4225:(e,t,r)=>{var s=r(4155);const i="object"==typeof s&&s.env&&s.env.NODE_DEBUG&&/\bsemver\b/i.test(s.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=i},6742:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const s=t.test(e),i=t.test(r);return s&&i&&(e=+e,r=+r),e===r?0:s&&!i?-1:i&&!s?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},2893:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},5765:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=r(3295),n=r(4225),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={};let p=0;const h="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[h,i]],m=(e,t,r)=>{const s=(e=>{for(const[t,r]of d)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),i=p++;n(e,i,t),u[e]=i,l[i]=t,a[i]=new RegExp(t,r?"g":void 0),c[i]=new RegExp(s,r?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),m("FULL",`^${l[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),m("LOOSE",`^${l[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),m("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),m("COERCE",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?(?:$|[^\\d])`),m("COERCERTL",l[u.COERCE],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7606:(e,t,r)=>{const s=r(6826);e.exports=(e,t,r)=>s(e,t,">",r)},2937:(e,t,r)=>{const s=r(6902);e.exports=(e,t,r)=>(e=new s(e,r),t=new s(t,r),e.intersects(t,r))},32:(e,t,r)=>{const s=r(6826);e.exports=(e,t,r)=>s(e,t,"<",r)},5775:(e,t,r)=>{const s=r(6376),i=r(6902);e.exports=(e,t,r)=>{let o=null,n=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==n.compare(e)||(o=e,n=new s(o,r)))})),o}},1657:(e,t,r)=>{const s=r(6376),i=r(6902);e.exports=(e,t,r)=>{let o=null,n=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==n.compare(e)||(o=e,n=new s(o,r)))})),o}},5316:(e,t,r)=>{const s=r(6376),i=r(6902),o=r(1312);e.exports=(e,t)=>{e=new i(e,t);let r=new s("0.0.0");if(e.test(r))return r;if(r=new s("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let n=null;i.forEach((e=>{const t=new s(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!o(t,n)||(n=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!n||r&&!o(r,n)||(r=n)}return r&&e.test(r)?r:null}},6826:(e,t,r)=>{const s=r(6376),i=r(2257),{ANY:o}=i,n=r(6902),a=r(5712),c=r(1312),l=r(1544),u=r(2056),p=r(5903);e.exports=(e,t,r,h)=>{let d,m,f,y,g;switch(e=new s(e,h),t=new n(t,h),r){case">":d=c,m=u,f=l,y=">",g=">=";break;case"<":d=l,m=p,f=c,y="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const s=t.set[r];let n=null,a=null;if(s.forEach((e=>{e.semver===o&&(e=new i(">=0.0.0")),n=n||e,a=a||e,d(e.semver,n.semver,h)?n=e:f(e.semver,a.semver,h)&&(a=e)})),n.operator===y||n.operator===g)return!1;if((!a.operator||a.operator===y)&&m(e,a.semver))return!1;if(a.operator===g&&f(e,a.semver))return!1}return!0}},7908:(e,t,r)=>{const s=r(5712),i=r(6269);e.exports=(e,t,r)=>{const o=[];let n=null,a=null;const c=e.sort(((e,t)=>i(e,t,r)));for(const e of c){s(e,t,r)?(a=e,n||(n=e)):(a&&o.push([n,a]),a=null,n=null)}n&&o.push([n,null]);const l=[];for(const[e,t]of o)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},799:(e,t,r)=>{const s=r(6902),i=r(2257),{ANY:o}=i,n=r(5712),a=r(6269),c=[new i(">=0.0.0-0")],l=[new i(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=l}const s=new Set;let i,u,d,m,f,y,g;for(const t of e)">"===t.operator||">="===t.operator?i=p(i,t,r):"<"===t.operator||"<="===t.operator?u=h(u,t,r):s.add(t.semver);if(s.size>1)return null;if(i&&u){if(d=a(i.semver,u.semver,r),d>0)return null;if(0===d&&(">="!==i.operator||"<="!==u.operator))return null}for(const e of s){if(i&&!n(e,String(i),r))return null;if(u&&!n(e,String(u),r))return null;for(const s of t)if(!n(e,String(s),r))return!1;return!0}let b=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,E=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver;b&&1===b.prerelease.length&&"<"===u.operator&&0===b.prerelease[0]&&(b=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,y=y||"<"===e.operator||"<="===e.operator,i)if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if(m=p(i,e,r),m===e&&m!==i)return!1}else if(">="===i.operator&&!n(i.semver,String(e),r))return!1;if(u)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if(f=h(u,e,r),f===e&&f!==u)return!1}else if("<="===u.operator&&!n(u.semver,String(e),r))return!1;if(!e.operator&&(u||i)&&0!==d)return!1}return!(i&&y&&!u&&0!==d)&&(!(u&&g&&!i&&0!==d)&&(!E&&!b))},p=(e,t,r)=>{if(!e)return t;const s=a(e.semver,t.semver,r);return s>0?e:s<0||">"===t.operator&&">="===e.operator?t:e},h=(e,t,r)=>{if(!e)return t;const s=a(e.semver,t.semver,r);return s<0?e:s>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new s(e,r),t=new s(t,r);let i=!1;e:for(const s of e.set){for(const e of t.set){const t=u(s,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},1042:(e,t,r)=>{const s=r(6902);e.exports=(e,t)=>new s(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},9042:(e,t,r)=>{const s=r(6902);e.exports=(e,t)=>{try{return new s(e,t).range||"*"}catch(e){return null}}},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,r)=>{"use strict";function s(e){var t=this;if(t instanceof s||(t=new s),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var s=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===s.next&&(e.tail=s),null===s.prev&&(e.head=s),e.length++,s}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function n(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,s){if(!(this instanceof a))return new a(e,t,r,s);this.list=s,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=s,s.Node=a,s.create=s,s.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},s.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},s.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},s.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},s.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},s.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},s.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},s.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,s=0;null!==r;s++)e.call(t,r.value,s,this),r=r.next},s.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,s=this.length-1;null!==r;s--)e.call(t,r.value,s,this),r=r.prev},s.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},s.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},s.prototype.map=function(e,t){t=t||this;for(var r=new s,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},s.prototype.mapReverse=function(e,t){t=t||this;for(var r=new s,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},s.prototype.reduce=function(e,t){var r,s=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");s=this.head.next,r=this.head.value}for(var i=0;null!==s;i++)r=e(r,s.value,i),s=s.next;return r},s.prototype.reduceReverse=function(e,t){var r,s=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");s=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==s;i--)r=e(r,s.value,i),s=s.prev;return r},s.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},s.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},s.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new s;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},s.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new s;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},s.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var s=0,o=this.head;null!==o&&s<e;s++)o=o.next;var n=[];for(s=0;o&&s<t;s++)n.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(s=0;s<r.length;s++)o=i(this,o,r[s]);return n},s.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=t,this.tail=e,this};try{r(9602)(s)}catch(e){}}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};return(()=>{"use strict";var e,t,i,o,n,a,c,l,u,p,h,d,m,f,y,g,b,E,v,w,T;r.d(s,{default:()=>rc}),function(e){e.UPFRONT="upfront",e.DELAYED="delayed"}(e||(e={})),function(e){e.IMAGE="image",e.VIDEO="video",e.PDF="pdf"}(t||(t={})),function(e){e.BASE64="base64",e.URL="url"}(i||(i={})),function(e){e.PIXELS="px",e.MILLIMETERS="mm",e.INCHES="in",e.CENTIMETERS="cm"}(o||(o={})),function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(n||(n={})),function(e){e.MP4="video/mp4"}(a||(a={})),function(e){e.PDF="application/pdf"}(c||(c={})),function(e){e.HOST="Host"}(l||(l={})),function(e){e.DOWNLOAD="Download",e.CCX_EDITOR="Editor"}(u||(u={})),function(e){e.CTA="cta",e.ACCENT="accent",e.PRIMARY="primary",e.SECONDARY="secondary"}(p||(p={})),function(e){e.BUTTON_GROUP="group",e.BUTTON="button",e.LINK="link"}(h||(h={})),function(e){e.CUSTOM="custom",e.NATIVE="native"}(d||(d={})),function(e){e.LIGHTEST="lightest",e.LIGHT="light",e.DARK="dark",e.DARKEST="darkest"}(m||(m={})),function(e){e.SPECTRUM="spectrum",e.EXPRESS="express"}(f||(f={})),function(e){e.MEDIUM="medium",e.LARGE="large"}(y||(y={})),function(e){e.DEV="dev",e.STAGE="stage",e.PREPROD="preprod",e.PRODUCTION="prod"}(g||(g={})),function(e){e[e.OPTED_IN=1]="OPTED_IN",e[e.OPTED_OUT=2]="OPTED_OUT"}(b||(b={})),function(e){e.ENGLISH="en_US",e.FRENCH="fr_FR",e.GERMAN="de_DE",e.JAPANESE="ja_JP",e.ITALIAN="it_IT",e.SPANISH="es_ES",e.PORTUGUESE="pt_BR",e.KOREAN="ko_KR",e.DANISH="da_DK",e.DUTCH="nl_NL",e.NORWEGIAN="nb_NO",e.SWEDISH="sv_SE",e.FINNISH="fi_FI",e.CHINESE_SIMPLIFIED="zh_Hans_CN",e.CHINESE_TRADITIONAL="zh_Hant_TW"}(E||(E={})),function(e){e.WEB="web",e.DESKTOP="desktop"}(v||(v={})),function(e){e.OTHER="Other",e.ACROBAT="Acrobat",e.CCD="CCD",e.CONTENT_CAL="CONTENT_CAL",e.STOCK="STOCK",e.AEM_ASSETS="AEM_ASSETS"}(w||(w={})),function(e){e.THIRD_PARTY="THIRD_PARTY",e.FIRST_PARTY="FIRST_PARTY"}(T||(T={}));const P={THIRD_PARTY:"3rd party",FIRST_PARTY:"1st party"},_={search:"search",yourStuff:"yourStuff",templates:"templates",media:"photos",text:"text",elements:"designAssets"};var I,A;!function(e){e[e.HD=1280]="HD",e[e.FULL_HD=1920]="FULL_HD",e[e.UHD=2160]="UHD"}(I||(I={})),function(e){e.PRE_CACHE="PRE_CACHE",e.LAUNCH_TARGET="LAUNCH_TARGET",e.CREATE_DESIGN="CREATE_DESIGN",e.EDIT_DESIGN="EDIT_DESIGN",e.QUICK_ACTION="QUICK_ACTION"}(A||(A={}));const S={[g.DEV]:{[T.FIRST_PARTY]:"https://sdk-1p-dev.cc-embed.adobe.com",[T.THIRD_PARTY]:"https://sdk-dev.cc-embed.adobe.com"},[g.STAGE]:{[T.FIRST_PARTY]:"https://sdk-1p-stage.cc-embed.adobe.com",[T.THIRD_PARTY]:"https://sdk-stage.cc-embed.adobe.com"},[g.PREPROD]:{[T.FIRST_PARTY]:"https://sdk-1p.cc-embed.adobe.com",[T.THIRD_PARTY]:"https://sdk.cc-embed.adobe.com"},[g.PRODUCTION]:{[T.FIRST_PARTY]:"https://sdk-1p.cc-embed.adobe.com",[T.THIRD_PARTY]:"https://sdk.cc-embed.adobe.com"}},C={Instagram:{taskId:"instagram-square-post",width:1080,height:1080,unit:o.PIXELS},InstagramStory:{taskId:"instagram-story",width:1080,height:1920,unit:o.PIXELS},InstagramLandscape:{taskId:"instagram-landscape-post",width:1080,height:602,unit:o.PIXELS},Facebook:{taskId:"facebook-post",width:1080,height:1080,unit:o.PIXELS},FacebookProfileCover:{taskId:"facebook-profile-cover",width:851,height:315,unit:o.PIXELS},FacebookPageCover:{taskId:"facebook-page-cover",width:820,height:312,unit:o.PIXELS},FacebookEventCover:{taskId:"facebook-event-cover",width:1200,height:630,unit:o.PIXELS},Twitter:{taskId:"twitter-post",width:1200,height:675,unit:o.PIXELS},TwitterHeader:{taskId:"twitter-header",width:1500,height:500,unit:o.PIXELS},YouTubeChannelArt:{taskId:"youtube-banner",width:2560,height:1440,unit:o.PIXELS},YoutubeThumbnail:{taskId:"youtube-thumbnail",width:1280,height:720,unit:o.PIXELS},LinkedInBlogPost:{taskId:"linkedin-blog-post",width:1200,height:628,unit:o.PIXELS},LinkedInProfileCover:{taskId:"linkedin-profile-cover",width:1536,height:396,unit:o.PIXELS},SnapchatStory:{taskId:"snapchat-filter",width:1080,height:1920,unit:o.PIXELS},Pinterest:{taskId:"pinterest-post",width:1e3,height:500,unit:o.PIXELS},TwitchBanner:{taskId:"twitch-banner",width:1200,height:480,unit:o.PIXELS},EtsyCover:{taskId:"etsy-shop-cover",width:1600,height:400,unit:o.PIXELS},EventbriteEventImage:{taskId:"eventbrite-header",width:820,height:312,unit:o.PIXELS},Letter:{taskId:"letter",width:8.5,height:11,unit:o.INCHES},Poster:{taskId:"poster",width:11,height:17,unit:o.INCHES},AlbumCover:{taskId:"album-cover",width:750,height:750,unit:o.PIXELS},BannerPrint:{taskId:"banner-print",width:72,height:36,unit:o.INCHES},BannerWeb:{taskId:"banner-web",width:1200,height:1e3,unit:o.PIXELS},BlogGraphic:{taskId:"blog-graphic",width:800,height:1200,unit:o.PIXELS},BlogHeader:{taskId:"blog-header",width:2240,height:1260,unit:o.PIXELS},BookCover:{taskId:"book-cover",width:1410,height:2250,unit:o.PIXELS},Bookmark:{taskId:"bookmark",width:2,height:6,unit:o.INCHES},Brochure:{taskId:"brochure",width:11,height:8.5,unit:o.INCHES},BusinessCard:{taskId:"business-card",width:3.5,height:2,unit:o.INCHES},Calendar:{taskId:"calendar",width:1080,height:1920,unit:o.PIXELS},CardGreeting:{taskId:"card-greeting",width:5,height:7,unit:o.INCHES},Certificate:{taskId:"certificate",width:11,height:8.5,unit:o.INCHES},Checklist:{taskId:"checklist",width:8.5,height:11,unit:o.INCHES},ClassSchedule:{taskId:"class-schedule",width:11,height:8.5,unit:o.INCHES},ComicStrip:{taskId:"comic-strip",width:11,height:8.5,unit:o.INCHES},ConceptMap:{taskId:"concept-map",width:1024,height:768,unit:o.PIXELS},CouponSheet:{taskId:"coupon-sheet",width:8.5,height:11,unit:o.INCHES},CoverPage:{taskId:"cover-page",width:8.5,height:11,unit:o.INCHES},DividerPage:{taskId:"divider-page",width:8.5,height:11,unit:o.INCHES},EmailHeader:{taskId:"email-header",width:600,height:200,unit:o.PIXELS},EtsyShopBanner:{taskId:"etsy-shop-banner",width:1600,height:213,unit:o.PIXELS},FacebookAd:{taskId:"facebook-ad",width:1080,height:1080,unit:o.PIXELS},FacebookGroupCover:{taskId:"facebook-group-cover",width:1640,height:856,unit:o.PIXELS},FacebookShopCover:{taskId:"facebook-shop-cover",width:1600,height:1200,unit:o.PIXELS},FacebookStory:{taskId:"facebook-story",width:1080,height:1920,unit:o.PIXELS},FlashCard:{taskId:"flash-card",width:5,height:3,unit:o.INCHES},FlashCardSheet:{taskId:"flash-card-sheet",width:8.5,height:11,unit:o.INCHES},Flyer:{taskId:"flyer",width:8.5,height:11,unit:o.INCHES},GiftCertificate:{taskId:"gift-certificate",width:8,height:3.75,unit:o.INCHES},Graph:{taskId:"graph",width:1920,height:1080,unit:o.PIXELS},GoogleClassroomBanner:{taskId:"google-classroom-banner",width:1e3,height:250,unit:o.PIXELS},GraphicOrganizer:{taskId:"graphic-organizer",width:8.5,height:11,unit:o.INCHES},IdCard:{taskId:"id-card",width:3.375,height:2.125,unit:o.INCHES},Infographic:{taskId:"infographic",width:800,height:2e3,unit:o.PIXELS},InstagramCarousel:{taskId:"instagram-carousel",width:1080,height:1080,unit:o.PIXELS},InstagramAd:{taskId:"instagram-ad",width:1080,height:1350,unit:o.PIXELS},InstagramPortraitPost:{taskId:"instagram-portrait-post",width:1080,height:1350,unit:o.PIXELS},InstagramReel:{taskId:"instagram-reel",width:1080,height:1920,unit:o.PIXELS},InstagramStoryAd:{taskId:"instagram-story-ad",width:1080,height:1920,unit:o.PIXELS},Invitation:{taskId:"invitation",width:5,height:7,unit:o.INCHES},Invoice:{taskId:"invoice",width:8.5,height:11,unit:o.INCHES},EbookCover:{taskId:"ebook-cover",width:1600,height:2560,unit:o.PIXELS},Label:{taskId:"label",width:4,height:6,unit:o.INCHES},LabelSheet:{taskId:"label-sheet",width:8.5,height:11,unit:o.INCHES},LeafletTrifold:{taskId:"leaflet-trifold",width:210,height:297,unit:o.MILLIMETERS},LessonPlan:{taskId:"lesson-plan",width:8.5,height:11,unit:o.INCHES},Letterhead:{taskId:"letterhead",width:8.5,height:11,unit:o.INCHES},LinkedinPost:{taskId:"linkedin-post",width:1920,height:1920,unit:o.PIXELS},Logo:{taskId:"logo",width:500,height:500,unit:o.PIXELS},Magazine:{taskId:"magazine",width:8.5,height:11,unit:o.INCHES},MediaKit:{taskId:"media-kit",width:8.5,height:11,unit:o.INCHES},Meme:{taskId:"meme",width:1200,height:1200,unit:o.PIXELS},Memo:{taskId:"memo",width:8.5,height:11,unit:o.INCHES},Mindmap:{taskId:"mindmap",width:1024,height:768,unit:o.PIXELS},Menu:{taskId:"menu",width:5,height:7,unit:o.INCHES},Mug:{taskId:"mug",width:3.3,height:3.3,unit:o.INCHES},NameTag:{taskId:"name-tag",width:4,height:3,unit:o.INCHES},Newsletter:{taskId:"newsletter",width:8.5,height:11,unit:o.INCHES},Pamphlet:{taskId:"pamphlet",width:8.5,height:11,unit:o.INCHES},PhotoBook:{taskId:"photo-book",width:1410,height:2250,unit:o.PIXELS},PinterestIdeaPin:{taskId:"pinterest-idea-pin",width:1080,height:1920,unit:o.PIXELS},PinterestSquare:{taskId:"pinterest-square",width:600,height:600,unit:o.PIXELS},PinterestVertical:{taskId:"pinterest-vertical",width:600,height:900,unit:o.PIXELS},PlaceCard:{taskId:"place-card",width:1050,height:1020,unit:o.PIXELS},Planner:{taskId:"planner",width:11,height:8.5,unit:o.INCHES},PlaylistCover:{taskId:"playlist-cover",width:3e3,height:3e3,unit:o.PIXELS},PodcastCover:{taskId:"podcast-cover",width:3e3,height:3e3,unit:o.PIXELS},Postcard:{taskId:"postcard",width:6,height:4,unit:o.INCHES},Presentation:{taskId:"presentation",width:1920,height:1080,unit:o.PIXELS},PrintAd:{taskId:"print-ad",width:6,height:4,unit:o.INCHES},Program:{taskId:"program",width:8.5,height:11,unit:o.INCHES},Proposal:{taskId:"proposal",width:8.5,height:11,unit:o.INCHES},RecipeCard:{taskId:"recipe-card",width:6,height:4,unit:o.INCHES},RedditCover:{taskId:"reddit-cover",width:1920,height:256,unit:o.PIXELS},Report:{taskId:"report",width:8.5,height:11,unit:o.INCHES},ReportCard:{taskId:"report-card",width:8.5,height:11,unit:o.INCHES},Resume:{taskId:"resume",width:8.5,height:11,unit:o.INCHES},Rubric:{taskId:"rubric",width:8.5,height:11,unit:o.INCHES},SnapchatAd:{taskId:"snapchat-ad",width:1080,height:1920,unit:o.PIXELS},SoundcloudBanner:{taskId:"soundcloud-banner",width:2480,height:520,unit:o.PIXELS},GiftTag:{taskId:"gift-tag",width:3.5,height:2,unit:o.INCHES},TableOfContents:{taskId:"table-of-contents",width:8.5,height:11,unit:o.INCHES},Ticket:{taskId:"ticket",width:5.5,height:2,unit:o.INCHES},TiktokAd:{taskId:"tiktok-ad",width:1080,height:1920,unit:o.PIXELS},TiktokVideo:{taskId:"tiktok-video",width:1080,height:1920,unit:o.PIXELS},Tshirt:{taskId:"tshirt",width:14,height:18,unit:o.INCHES},TumblrBanner:{taskId:"tumblr-banner",width:3e3,height:1055,unit:o.PIXELS},TwitchOverlay:{taskId:"twitch-overlay",width:1920,height:1080,unit:o.PIXELS},TwitterVideo:{taskId:"twitter-video",width:1920,height:1080,unit:o.PIXELS},WallpaperDesktop:{taskId:"wallpaper-desktop",width:1920,height:1080,unit:o.PIXELS},WallpaperMobile:{taskId:"wallpaper-mobile",width:1080,height:1920,unit:o.PIXELS},Video:{taskId:"video",width:1920,height:1080,unit:o.PIXELS},MobileVideo:{taskId:"mobile-video",width:1080,height:1920,unit:o.PIXELS},DisplayAd:{taskId:"display-ad",width:300,height:600,unit:o.PIXELS},Worksheet:{taskId:"worksheet",width:8.5,height:11,unit:o.INCHES},YoutubeDisplayAds:{taskId:"youtube-display-ads",width:300,height:60,unit:o.PIXELS},YoutubeProfilePhoto:{taskId:"youtube-profile-photo",width:800,height:800,unit:o.PIXELS},YoutubeShorts:{taskId:"youtube-shorts",width:1080,height:1920,unit:o.PIXELS},YoutubeVideo:{taskId:"youtube-video",width:1920,height:1080,unit:o.PIXELS},YoutubeVideoAd:{taskId:"youtube-video-ad",width:1920,height:1080,unit:o.PIXELS},ZoomBackground:{taskId:"zoom-background",width:1920,height:1080,unit:o.PIXELS}};var O,k,R,D,L;!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(O||(O={})),function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(k||(k={})),function(e){e.USER="USER",e.OTHER="OTHER"}(R||(R={})),function(e){e.WILL_TARGET_LOAD="WILL_TARGET_LOAD",e.DID_TARGET_LOAD="DID_TARGET_LOAD",e.WILL_PUBLISH="WILL_PUBLISH",e.DID_PUBLISH="DID_PUBLISH",e.CANCEL="CANCEL",e.ERROR="ERROR",e.DID_COMPLETE="DID_COMPLETE",e.LOGIN_COMPLETE="LOGIN_COMPLETE",e.LOGIN_REQUEST="LOGIN_REQUEST",e.TOKEN_REQUEST="TOKEN_REQUEST",e.TOKEN_RESPONSE="TOKEN_RESPONSE",e.PARAMS_REQUEST="PARAMS_REQUEST",e.PARAMS_RESPONSE="PARAMS_RESPONSE",e.NAVIGATION_REQUEST="NAVIGATION_REQUEST",e.NAVIGATION_RESPONSE="NAVIGATION_RESPONSE",e.EVENT="EVENT"}(D||(D={})),function(e){e.LOGIN_COMPLETE="LOGIN_COMPLETE",e.WORKFLOW_CHANGED="WORKFLOW_CHANGED",e.UPDATE_CLOSE_BUTTON="UPDATE_CLOSE_BUTTON",e.TEMPLATE_BATCH_LOADED="TEMPLATE_BATCH_LOADED",e.MEDIA_BATCH_LOADED="MEDIA_BATCH_LOADED",e.ELEMENT_BATCH_LOADED="ELEMENT_BATCH_LOADED",e.URL_INFO="URL_INFO",e.DOWNLOAD_COMPLETE="DOWNLOAD_COMPLETE"}(L||(L={}));const N={ENVIRONMENT:g.STAGE,CLIENTS:{IMS:{BASE:"https://ims-na1-stg1.adobelogin.com/ims"},CCX:{EDITOR:{CLIENT_ID:"projectx_webapp"},QUICK_ACTION:{CLIENT_ID:"quickactions_hz_webapp"}},INGEST:{BASE:"https://cc-api-data-stage.adobe.io"},ACROBAT_WEB:{CLIENT_ID:"dc-stage-virgoweb",CLIENT_ID_REGEX:/^dc-.+-virgoweb$/},ACROBAT_DESKTOP:{CLIENT_ID:"AdobeAcrobat9"},CCD:{CLIENT_ID_PREFIX:"CreativeCloud_v"},CONTENT_CAL:{CLIENT_ID:"CCSchedule1"},STOCK:{CLIENT_ID:"AdobeStockClient2"},AEM_ASSETS:{CLIENT_ID:"aem-assets-frontend-1"},TEST_APP:{FIRST_PARTY_CLIENT_ID:"blazon-ui-stg",THIRD_PARTY_CLIENT_ID:"7fecaab334c34daebe32d52c9c454ab1"}}},x={ENVIRONMENT:g.PREPROD,CLIENTS:{IMS:{BASE:"https://ims-na1.adobelogin.com/ims"},CCX:{EDITOR:{CLIENT_ID:"projectx_webapp"},QUICK_ACTION:{CLIENT_ID:"quickactions_hz_webapp"}},INGEST:{BASE:"https://cc-api-data.adobe.io"},ACROBAT_WEB:{CLIENT_ID:"dc-prod-virgoweb",CLIENT_ID_REGEX:/^dc-.+-virgoweb$/},ACROBAT_DESKTOP:{CLIENT_ID:"AdobeAcrobat9"},CCD:{CLIENT_ID_PREFIX:"CreativeCloud_v"},CONTENT_CAL:{CLIENT_ID:"CCSchedule1"},STOCK:{CLIENT_ID:"AdobeStockClient2"},AEM_ASSETS:{CLIENT_ID:"aem-assets-frontend-1"},TEST_APP:{FIRST_PARTY_CLIENT_ID:"blazon-ui-prod",THIRD_PARTY_CLIENT_ID:"695a1c27f4e147b28d4df7a7a8c46d23"}}},M={ENVIRONMENT:g.PRODUCTION,CLIENTS:{IMS:{BASE:"https://ims-na1.adobelogin.com/ims"},CCX:{EDITOR:{CLIENT_ID:"projectx_webapp"},QUICK_ACTION:{CLIENT_ID:"quickactions_hz_webapp"}},INGEST:{BASE:"https://cc-api-data.adobe.io"},ACROBAT_WEB:{CLIENT_ID:"dc-prod-virgoweb",CLIENT_ID_REGEX:/^dc-.+-virgoweb$/},ACROBAT_DESKTOP:{CLIENT_ID:"AdobeAcrobat9"},CCD:{CLIENT_ID_PREFIX:"CreativeCloud_v"},CONTENT_CAL:{CLIENT_ID:"CCSchedule1"},STOCK:{CLIENT_ID:"AdobeStockClient2"},AEM_ASSETS:{CLIENT_ID:"aem-assets-frontend-1"},TEST_APP:{FIRST_PARTY_CLIENT_ID:"blazon-ui-prod",THIRD_PARTY_CLIENT_ID:"695a1c27f4e147b28d4df7a7a8c46d23"}}},j={ENVIRONMENT:g.DEV,CLIENTS:{IMS:{BASE:"https://ims-na1-stg1.adobelogin.com/ims"},CCX:{EDITOR:{CLIENT_ID:"projectx_webapp"},QUICK_ACTION:{CLIENT_ID:"quickactions_hz_webapp"}},INGEST:{BASE:"https://cc-api-data-stage.adobe.io"},ACROBAT_WEB:{CLIENT_ID:"dc-dev-virgoweb",CLIENT_ID_REGEX:/^dc-.+-virgoweb$/},ACROBAT_DESKTOP:{CLIENT_ID:"AdobeAcrobat9"},CCD:{CLIENT_ID_PREFIX:"CreativeCloud_v"},CONTENT_CAL:{CLIENT_ID:"CCSchedule1"},STOCK:{CLIENT_ID:"AdobeStockClient2"},AEM_ASSETS:{CLIENT_ID:"aem-assets-frontend-1"},TEST_APP:{FIRST_PARTY_CLIENT_ID:"blazon-ui-stg",THIRD_PARTY_CLIENT_ID:"7fecaab334c34daebe32d52c9c454ab1"}}},$=JSON.parse('{"u":{"EDITOR":"https://stage.projectx.corp.adobe.com","QUICK_ACTION":"https://quick-actions.stage.projectx.corp.adobe.com"}}'),U=JSON.parse('{"u":{"EDITOR":"https://stage-daily.projectx.corp.adobe.com","QUICK_ACTION":"https://quick-actions-stage-daily.projectx.corp.adobe.com"}}'),B=JSON.parse('{"u":{"EDITOR":"https://pre-prod.projectx.corp.adobe.com","QUICK_ACTION":"https://quick-actions-pre-prod.projectx.corp.adobe.com"}}'),G=JSON.parse('{"u":{"EDITOR":"https://new.express.adobe.com","QUICK_ACTION":"https://quick-actions.express.adobe.com"}}');var F,V=r(266);!function(e){e.INVALID_PARAMETERS="INVALID_PARAMETERS",e.INVALID_TOKEN="INVALID_TOKEN",e.VALIDATE_TOKEN_FAILED="VALIDATE_TOKEN_FAILED",e.LOGIN_ERROR="LOGIN_ERROR",e.ACCESS_DENIED="ACCESS_DENIED",e.TARGET_APP_ERROR="TARGET_APP_ERROR",e.JSON_STRINGIFY_ERROR="JSON_STRINGIFY_ERROR",e.JSON_PARSE_ERROR="JSON_PARSE_ERROR",e.ERROR_STACK_NOT_AVAILABLE="ERROR_STACK_NOT_AVAILABLE",e.GET_TOKEN_TIMEOUT="GET_TOKEN_TIMEOUT",e.TOKEN_NOT_RECEIVED="TOKEN_NOT_RECEIVED",e.PARAMS_REQUEST_TIMEOUT="PARAMS_REQUEST_TIMEOUT",e.PARAMS_REQUEST_FAILED="PARAMS_REQUEST_FAILED",e.REQUIRED_SCOPE_NOT_AVAILABLE="REQUIRED_SCOPE_NOT_AVAILABLE",e.ASSERTION_ERROR="ASSERTION_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.GENERIC_ERROR="GENERIC_ERROR",e.CLIENT_ID_MISMATCH="CLIENT_ID_MISMATCH",e.IMS_JUMP_CONSUMPTION_ERROR="IMS_JUMP_CONSUMPTION_ERROR"}(F||(F={}));const H={[F.INVALID_PARAMETERS]:"Invalid parameters",[F.INVALID_TOKEN]:"Invalid token",[F.VALIDATE_TOKEN_FAILED]:"Unable to validate the token",[F.LOGIN_ERROR]:"Unable to login",[F.ACCESS_DENIED]:"Access is denied",[F.TARGET_APP_ERROR]:"Error from target app",[F.JSON_STRINGIFY_ERROR]:"Unable to stringify",[F.JSON_PARSE_ERROR]:"Unable to parse JSON",[F.ERROR_STACK_NOT_AVAILABLE]:"Error stack not available",[F.GET_TOKEN_TIMEOUT]:"Get Token timeout",[F.TOKEN_NOT_RECEIVED]:"Token not received",[F.PARAMS_REQUEST_TIMEOUT]:"Params request timeout",[F.PARAMS_REQUEST_FAILED]:"Params request failed",[F.REQUIRED_SCOPE_NOT_AVAILABLE]:"Required scope not available",[F.ASSERTION_ERROR]:"Assertion error",[F.NETWORK_ERROR]:"Network Error",[F.GENERIC_ERROR]:"Generic Error",[F.CLIENT_ID_MISMATCH]:"Host clientId does not match with the clientId parsed from token",[F.IMS_JUMP_CONSUMPTION_ERROR]:"IMS jump consumption error"},z=Object.keys(H).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:{code:t,message:H[t]}})),{});class q{constructor(e){this._logLevel=e||1}setLogLevel(e){this._logLevel=e}filterLog(e){return e>=this._logLevel}}const W="[BLAZON]: ";class X extends q{constructor(e){super(e),this._initialize(e)}static error(e){console.error(W,e.toData())}error(e){this.filterLog(3)&&console.error(W,e.toData())}warn(e){this.filterLog(2)&&console.warn(W+e.toString())}info(e){this.filterLog(1)&&console.info(W+e)}_initialize(e){if(!e)switch(ae.CONFIG.ENVIRONMENT){case g.STAGE:this.setLogLevel(2);break;case g.PRODUCTION:this.setLogLevel(3);break;case g.DEV:this.setLogLevel(1)}}}const Y="Couldn't find stack in Error object.",K="Subcategory is not defined in the analytics event. ";class Q extends Error{constructor(e,t,r,s){super(t),this._code=e,this._subError=r,this._customData=function(e){if(!e)return e;try{return JSON.parse(JSON.stringify(e))}catch(e){X.error(Q.create(z.JSON_STRINGIFY_ERROR,e))}return null}(s)}static create(e,t,r){return new Q(e.code,e.message,t,r)}static createErrorFromData(e){const t=new Q(e.code,e.message,e.subError,e.customData);try{e.stack&&(t.stack=e.stack)}catch(e){const t=Q.create(z.ERROR_STACK_NOT_AVAILABLE,e);X.error(t)}return t}get code(){return this._code}toData(){return{code:this._code,message:this.message,subError:this._subError,customData:this._customData,stack:this.stack}}toString(){return this._ccEverywhereErrorToString(this).substring(0,2e3)}_ccEverywhereErrorToString(e){let t=this._ccEverywhereErrorDesc(e);return e._subError?e._subError instanceof Q?(t+="\n\nsubError: "+this._ccEverywhereErrorToString(e._subError),t):e._subError instanceof Error?(t+="\n\nsubError: "+this._standardErrorDesc(e._subError),t):(t+="\n\nsubError: "+e._subError,t):t}_ccEverywhereErrorDesc(e){let t=`${e._code}: ${e.message}\n`;if(t+=e.stack||Y,e._customData)try{t+="\n\ncustomData: "+JSON.stringify(e._customData)}catch(e){const t=Q.create(z.JSON_STRINGIFY_ERROR,e);X.error(t)}return t}_standardErrorDesc(e){let t=`${e.message}\n`;return t+=e.stack||Y,t}}var J=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};const Z={retries:3,retryDelay:(e,t,r)=>{const s=null==r?void 0:r.headers.get("Retry-After");return s?1e3*parseInt(s):Math.floor(1e3*(Math.random()*Math.pow(2,e)+1))},retryOn:[429,503]};const ee=()=>"undefined"!=typeof window&&!!window.postMessage;function te(e,t="data"){return function(r){if(e(r))return r;throw new Q(F.INVALID_PARAMETERS,((e,t)=>e&&0!==e.length?e.map((e=>`${t}${e.instancePath} ${e.message}`)).reduce(((e,t)=>`${e}, ${t}`)):"")(e.errors,t))}}function re(e){const{code:t,message:r,subError:s,customData:i}=e;return new Q(t,r,s,i)}function se(e){return J(this,void 0,void 0,(function*(){try{const t={method:"GET"},r=yield(0,V.Z)(window.fetch,Z)(e,t);if(!r||!r.ok)throw Q.create(z.NETWORK_ERROR,r.status,r.statusText);return yield r.json()}catch(e){let t=e;throw Object.values(F).includes(t.code)||(t=Q.create(z.GENERIC_ERROR,t)),X.error(t),t}}))}function ie(e){return J(this,void 0,void 0,(function*(){for(const t of e)if(t.dataType===i.BASE64){const e=yield fetch(t.data);e.ok&&(t.data=URL.createObjectURL(yield e.blob()),t.dataType=i.URL)}}))}var oe;!function(e){e.assert=function(e,t){if(!e)throw t?new Q(F.ASSERTION_ERROR,t):Q.create(z.ASSERTION_ERROR)}}(oe||(oe={}));var ne=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class ae{static get CONFIG(){return ae._config||(this._env=g.PRODUCTION,this.targetsBase=this._getTargetsBase(this._env),ae._config=this._getEnvironmentConfig(M)),ae._config}static setEnvironmentConfig(e,t){return ne(this,void 0,void 0,(function*(){switch(this._env=e,this.targetsBase=yield this._getTargetsBaseUrls(this._env,t),this._env){case g.STAGE:ae._config=this._getEnvironmentConfig(N);break;case g.DEV:ae._config=this._getEnvironmentConfig(j);break;case g.PREPROD:ae._config=this._getEnvironmentConfig(x);break;case g.PRODUCTION:default:ae._config=this._getEnvironmentConfig(M)}}))}static _getTargetsBaseUrls(e,t){return ne(this,void 0,void 0,(function*(){return this._getTargetsBase(e)}))}static _getTargetsBase(e){switch(e){case g.STAGE:return U.u;case g.DEV:return $.u;case g.PREPROD:return B.u;case g.PRODUCTION:default:return G.u}}static _getEnvironmentConfig(e){oe.assert(this.targetsBase);const{CLIENTS:t}=e;return{ENVIRONMENT:e.ENVIRONMENT,CLIENTS:{CCX:{QUERY_PARAMS:{KEYS:{EMBED:"embed",CC_EVERYWHERE_PROTOCOL_VERSION:"ccEverywhereProtocolVersion",CC_EVERYWHERE_HOST_CLIENT_ID:"ccEverywhereHostClientId",LOCALE:"locale",REFERRER:"referrer",USER_ID:"userId",FEATURE_FLAGS:"featureFlags"}},EDITOR:{CLIENT_ID:t.CCX.EDITOR.CLIENT_ID,BASE:this.getOverriddenBaseEndpoint(this.targetsBase.EDITOR,"base"),PATHS:{NEW_PROJECT:"/new",EDIT_PROJECT:"/id",PRE_CACHE:"/embed/preload"},QUERY_PARAMS:{KEYS:{TASK_ID:"taskID",WIDTH:"width",HEIGHT:"height",UNIT:"unit",CATEGORY:"category",TEMPLATE_TYPE:"templateTaskId",SEARCH_TEXT:"q",SEARCH_CATEGORY:"searchCategory"}}},QUICK_ACTION:{CLIENT_ID:t.CCX.QUICK_ACTION.CLIENT_ID,BASE:this.getOverriddenBaseEndpoint(this.targetsBase.QUICK_ACTION,"base"),PATH:"/",QUERY_PARAMS:{KEYS:{ENTRY:"entry",SHARED:"shared",COLOR_SCHEME:"colorScheme",SPECTRUM_THEME:"spectrumTheme"}}}},IMS:{BASE:t.IMS.BASE,PATHS:{VALIDATE_TOKEN:"validate_token/v1",EXCHANGE_TOKEN:"token/v3",JUMP_TOKEN:"jumptoken/v1",PROFILE:"profile/v1",JUMP_FAIL:"/embed/jump-error"},QUERY_PARAMS:{KEYS:{CLIENT_ID:"client_id",TOKEN:"token",TYPE:"type",CODE:"code",GRANT_TYPE:"grant_type",CODE_VERIFIER:"code_verifier",PROMPT:"prompt",JUMP_FAIL_URI:"jump_fail_uri"},VALUES:{GRANT_TYPE:"authorization_code",PROMPT:"login"}},BODY_PARAMS:{KEYS:{BEARER_TOKEN:"bearer_token",TARGET_CLIENT_ID:"target_client_id",TARGET_REDIRECT_URI:"target_redirect_uri",CLIENT_ID:"client_id",TARGET_RESPONSE_TYPE:"target_response_type",LOCALE:"locale"},VALUES:{GRANT_TYPE:"code"}},TOKEN_TYPE:"access_token"},CC_EVERYWHERE_SDK:{FIRST_PARTY_BASE:S[this._env][T.FIRST_PARTY],THIRD_PARTY_BASE:S[this._env][T.THIRD_PARTY],X_API_KEY:"ccew-web-sdk-service",PROJECT:"ccew-web-sdk-service",SOURCE:"cc-everywhere",SCOPES_VALUE:"AdobeID,openid",HOST_REQUIRED_SCOPES:["openid"]},INGEST:{PATH:"ingest",BASE:t.INGEST.BASE,QUERY_PARAMS:{KEYS:{API_KEY:"api_key"}}},ACROBAT:{WEB:{CLIENT_ID_REGEX:t.ACROBAT_WEB.CLIENT_ID_REGEX},DESKTOP:{CLIENT_ID:t.ACROBAT_DESKTOP.CLIENT_ID}},CCD:{CLIENT_ID_PREFIX:t.CCD.CLIENT_ID_PREFIX},CONTENT_CAL:{CLIENT_ID:t.CONTENT_CAL.CLIENT_ID},STOCK:{CLIENT_ID:t.STOCK.CLIENT_ID},AEM_ASSETS:{CLIENT_ID:t.AEM_ASSETS.CLIENT_ID},TEST_APP:{FIRST_PARTY_CLIENT_ID:t.TEST_APP.FIRST_PARTY_CLIENT_ID,THIRD_PARTY_CLIENT_ID:t.TEST_APP.THIRD_PARTY_CLIENT_ID}}}}static getOverriddenBaseEndpoint(e,t){return e}}var ce=r(1249);const le=(0,ce.parse)("3.8.11");null==le||le.major,null==le||le.minor,null==le||le.patch,null==le||le.version;class ue{static isObject(e){return"object"==typeof e&&null!==e}static isSize(e){return void 0!==e.height}static isCustomExport(e){return!!this.isObject(e)&&(null!==e.id&&e.target===l.HOST)}static isValuePresentInEnum(e,t){return Object.values(e).includes(t)}}var pe=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class he{constructor(){this._isRunning=!1,this._timer=null}start(e){return pe(this,void 0,void 0,(function*(){this._isRunning=!0;const t=new Promise(((t,r)=>{this.interruptPromise=r,this._timer=this._startTimer(e,r)})),r=this.watch();try{return yield Promise.race([r,t])}finally{this._cancelTimer(),this._isRunning=!1}}))}interrupt(e){this._isRunning=!1,null!==this._timer&&window.clearTimeout(this._timer),this.interruptPromise&&this.interruptPromise(e)}isRunning(){return this._isRunning}_startTimer(e,t){return window.setTimeout((()=>{if(!this._isRunning)return;this._timer=null;const e=this.didTimeout();t(e)}),e)}_cancelTimer(){null!==this._timer&&window.clearTimeout(this._timer)}}const de={[A.CREATE_DESIGN]:ae.CONFIG.CLIENTS.CCX.EDITOR.CLIENT_ID,[A.EDIT_DESIGN]:ae.CONFIG.CLIENTS.CCX.EDITOR.CLIENT_ID,[A.LAUNCH_TARGET]:ae.CONFIG.CLIENTS.CCX.EDITOR.CLIENT_ID,[A.PRE_CACHE]:ae.CONFIG.CLIENTS.CCX.EDITOR.CLIENT_ID,[A.QUICK_ACTION]:ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.CLIENT_ID};class me{constructor(e,t,r,s,i,o,n){this._analyticsManager=e,this._performanceLogger=t,this._channelMessageListener=r,this._hostInfo=s,this._locale=i,this._userInfo=o;this._authInfo=n||{accessToken:null,useJumpUrl:!1}}shouldSkipJump(e){return!0}get authInfo(){return this._authInfo}get userInfo(){return this._userInfo}isUserProfileAvailable(){var e,t,r;return!(!(null===(e=this._userInfo.profile)||void 0===e?void 0:e.userId)||null===(null===(t=this._userInfo.profile)||void 0===t?void 0:t.serviceCode)||null===(null===(r=this._userInfo.profile)||void 0===r?void 0:r.serviceLevel))}resetAuthAndProfileInfo(){this.isUserProfileAvailable();this._authInfo.accessToken=null,this._userInfo.profile=null}isSignInNeeded(){return!this._authInfo.accessToken}}var fe=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class ye extends me{getTargetUrl(e){return fe(this,void 0,void 0,(function*(){return e.url}))}doesSupportSignInWorkflow(){return!0}updateAuthAndProfileInfo(e,t){oe.assert(!1)}}var ge=r(69),be=r.n(ge);var Ee=function(){return Ee=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ee.apply(this,arguments)};Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function ve(e){return e.toLowerCase()}var we=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Te=/[^A-Z0-9]+/gi;function Pe(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,s=void 0===r?we:r,i=t.stripRegexp,o=void 0===i?Te:i,n=t.transform,a=void 0===n?ve:n,c=t.delimiter,l=void 0===c?" ":c,u=_e(_e(e,s,"$1\0$2"),o,"\0"),p=0,h=u.length;"\0"===u.charAt(p);)p++;for(;"\0"===u.charAt(h-1);)h--;return u.slice(p,h).split("\0").map(a).join(l)}function _e(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function Ie(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),Pe(e,Ee({delimiter:"."},t))}(e,Ee({delimiter:"_"},t))}function Ae(e){return e.toUpperCase()}class Se{constructor(){}static instance(){return Se._instance||(Se._instance=new Se),Se._instance}get isOnline(){return"online"===this.state}get state(){return window.navigator.onLine?"online":"offline"}addListener(e,t){window.addEventListener(e,t)}removeListener(e,t){window.removeEventListener(e,t)}}class Ce{constructor(e,t,r,s,i){this._hostInfo=t,this._locale=r,this._packageName=s,this._packageVersion=i,this._ingest=new(be())(this._initAnalytics(e)),this._ingest.initializeDefaultData()}getVisitorId(){return this._ingest.getVisitorGuid()}addEventToCollection(e){for(const[i,o]of Object.entries(e)){switch(oe.assert(i),oe.assert(o),i){case"workflow":case"subcategory":case"type":case"subtype":case"userGuid":case"requestGuid":case"value":case"visitorGuid":case"pagename":case"errorCode":case"errorType":case"errorDesc":this._ingest.setDataValue("event",Ie(i),o);break;case"serviceCode":case"serviceLevel":this._ingest.setDataValue("user",Ie(i),o);break;case"contentId":this._ingest.setDataValue("content","id",o);break;case"contentName":this._ingest.setDataValue("content","name",o);break;case"contentExtension":this._ingest.setDataValue("content","extension",o);break;case"contentCategory":this._ingest.setDataValue("content","category",o);break;case"contentAction":this._ingest.setDataValue("content","action",o);break;case"jumpFlow":case"perfActionId":this._ingest.setDataValue("custom",Ie(i),o);break;case"workflowTime":this._ingest.setDataValue("custom",Ie(i),o),this._ingest.setDataValue("event","value",o);break;case"perfActionDuration":this._ingest.setDataValue("custom",Ie(i),o),this._ingest.setDataValue("event","count",o/1e3)}this._hostInfo.platformCategory&&(this._ingest.setDataValue("event","category",(r=this._hostInfo.platformCategory,void 0===(s=void 0)&&(s={}),Pe(r,Ee({delimiter:"_",transform:Ae},s)))),this._ingest.setDataValue("source","platform",this._getSourcePlatform(this._hostInfo.platformCategory))),this._ingest.setDataValue("event","language",this._locale),this._ingest.setDataValue("event","offline",!Se.instance().isOnline),this._ingest.setDataValue("source","client_id",this._hostInfo.clientId),this._ingest.setDataValue("source","name",this._hostInfo.appName),this._hostInfo.appVersion&&this._ingest.setDataValue("source","version",`${(t=this._hostInfo.appVersion).major}.${t.minor}`+(t.patch?`.${t.patch}`:"")),this._ingest.setDataValue("env","com.name",this._packageName),this._ingest.setDataValue("env","com.version",this._packageVersion)}var t,r,s;this._ingest.addToCollection()}send(){this._ingest.sendToIngest(),this._ingest.initializeDefaultData()}_initAnalytics(e){return{xApiKey:ae.CONFIG.CLIENTS.CC_EVERYWHERE_SDK.X_API_KEY,project:ae.CONFIG.CLIENTS.CC_EVERYWHERE_SDK.PROJECT,source:ae.CONFIG.CLIENTS.CC_EVERYWHERE_SDK.SOURCE,hostName:ae.CONFIG.CLIENTS.INGEST.BASE,path:`/${ae.CONFIG.CLIENTS.INGEST.PATH}/?${ae.CONFIG.CLIENTS.INGEST.QUERY_PARAMS.KEYS.API_KEY}=${ae.CONFIG.CLIENTS.CC_EVERYWHERE_SDK.X_API_KEY}`,environment:ae.CONFIG.ENVIRONMENT,sendEnterprise:!0,optOutAnalytics:e!==b.OPTED_IN,timeOutForScripts:1e3}}_getSourcePlatform(e){switch(e){case v.DESKTOP:return"Desktop";case v.WEB:default:return"Web"}}}const Oe=JSON.parse('{"u2":"@cc-everywhere/sdk","i8":"3.8.11"}'),ke=(0,ce.parse)(Oe.i8),Re={major:null==ke?void 0:ke.major,minor:null==ke?void 0:ke.minor,patch:null==ke?void 0:ke.patch},De=null==ke?void 0:ke.version,Le={major:1,minor:2},Ne=Le.major.toString()+"."+Le.minor.toString(),xe=Oe.u2,Me={workflow:"Quick Action",subcategory:"",type:"success",subtype:"action"},je={workflow:"Launch",subcategory:"Initialize",type:"success",subtype:"init"},$e={PRE_CACHE:{Start:{workflow:"Editor",subcategory:"Pre Cache",type:"background",subtype:"start"},Success:{workflow:"Editor",subcategory:"Pre Cache",type:"success",subtype:"background"},Error:{workflow:"Editor",subcategory:"Pre Cache",type:"error",subtype:"background"},Cancel:{workflow:"Editor",subcategory:"Pre Cache",type:"cancel",subtype:"background"}},LAUNCH_TARGET:{Start:{workflow:"Editor",subcategory:"Launch Target",type:"background",subtype:"start"},Success:{workflow:"Editor",subcategory:"Launch Target",type:"success",subtype:"background"},Error:{workflow:"Editor",subcategory:"Launch Target",type:"error",subtype:"background"},Cancel:null},CREATE_DESIGN:{Start:{workflow:"Editor",subcategory:"Create Project",type:"click",subtype:"start"},Success:{workflow:"Editor",subcategory:"Create Project",type:"success",subtype:"create"},Error:{workflow:"Editor",subcategory:"Create Project",type:"error",subtype:"create"},Cancel:{workflow:"Editor",subcategory:"Create Project",type:"click",subtype:"cancel"}},EDIT_DESIGN:{Start:{workflow:"Editor",subcategory:"Edit Project",type:"click",subtype:"start"},Success:{workflow:"Editor",subcategory:"Edit Project",type:"success",subtype:"update"},Error:{workflow:"Editor",subcategory:"Edit Project",type:"error",subtype:"update"},Cancel:{workflow:"Editor",subcategory:"Edit Project",type:"click",subtype:"cancel"}},QUICK_ACTION:{Start:{workflow:"Quick Action",subcategory:"",type:"click",subtype:"task"},Success:Me,Error:{workflow:"Quick Action",subcategory:"",type:"error",subtype:"task"},Cancel:{workflow:"Quick Action",subcategory:"",type:"click",subtype:"close"}},LOGIN:{Start:null,Success:{workflow:"Editor",subcategory:"",type:"success",subtype:"susi"},Error:{workflow:"Editor",subcategory:"",type:"error",subtype:"susi"},Cancel:{workflow:"Editor",subcategory:"",type:"cancel",subtype:"susi"}},LOAD:{Start:null,Success:{workflow:"Editor",subcategory:"",type:"success",subtype:"launch"},Error:{workflow:"Editor",subcategory:"",type:"error",subtype:"launch"},Cancel:{workflow:"Editor",subcategory:"",type:"cancel",subtype:"launch"}}};var Ue,Be=new Uint8Array(16);function Ge(){if(!Ue&&!(Ue="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ue(Be)}const Fe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Ve=function(e){return"string"==typeof e&&Fe.test(e)};for(var He=[],ze=0;ze<256;++ze)He.push((ze+256).toString(16).substr(1));const qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(He[e[t+0]]+He[e[t+1]]+He[e[t+2]]+He[e[t+3]]+"-"+He[e[t+4]]+He[e[t+5]]+"-"+He[e[t+6]]+He[e[t+7]]+"-"+He[e[t+8]]+He[e[t+9]]+"-"+He[e[t+10]]+He[e[t+11]]+He[e[t+12]]+He[e[t+13]]+He[e[t+14]]+He[e[t+15]]).toLowerCase();if(!Ve(r))throw TypeError("Stringified UUID is invalid");return r};const We=function(e,t,r){var s=(e=e||{}).random||(e.rng||Ge)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=s[i];return t}return qe(s)};class Xe{static createRequestId(){return this._requestId=We(),this._updateListeners.forEach((e=>{oe.assert(this._requestId),e.onRequestIdUpdate(this._requestId)})),this._requestId}static getActiveRequestId(){return this._requestId}static updateRequestId(e){return this._requestId=e}static attachUpdateListener(e){this._updateListeners.push(e)}static detachUpdateListener(e){const t=this._updateListeners.findIndex((t=>e===t));-1!==t&&this._updateListeners.splice(t,1)}}var Ye;Xe._updateListeners=[],function(e){e.SDK_NOT_SUPPORTED="SDK_NOT_SUPPORTED",e.SDK_ALREADY_INITIALIZED="SDK_ALREADY_INITIALIZED",e.SDK_NOT_INITIALIZED="SDK_NOT_INITIALIZED",e.PRECACHE_FAILED="PRECACHE_FAILED",e.INVALID_WORKFLOW="INVALID_WORKFLOW",e.WORKFLOW_ALREADY_IN_PROGRESS="WORKFLOW_ALREADY_IN_PROGRESS",e.NO_ACTIVE_WORKFLOW="NO_ACTIVE_WORKFLOW",e.REQUIRED_PROJECT_ID_OR_IMAGE_DATA_URL="REQUIRED_PROJECT_ID_OR_IMAGE_DATA_URL",e.INVALID_IMAGE_DATA_URL="INVALID_IMAGE_DATA_URL",e.INVALID_ASSET_TYPE="INVALID_ASSET_TYPE",e.AUTHORIZATION_URL_NOT_RETRIEVED="AUTHORIZATION_URL_NOT_RETRIEVED",e.HTTP="HTTP",e.NO_INTERNET="NO_INTERNET",e.TARGET_LOAD_TIMED_OUT="TARGET_LOAD_TIMED_OUT",e.TARGET_LOAD_ERROR="TARGET_LOAD_ERROR",e.TARGET_LOAD_FAILED="TARGET_LOAD_FAILED",e.TARGET_LOAD_CANCELLED="TARGET_LOAD_CANCELLED",e.GENERIC_AUTH_ERROR="GENERIC_AUTH_ERROR",e.EXCHANGE_AUTH_CODE_ERROR="EXCHANGE_AUTH_CODE_ERROR",e.CONSENT_NOT_ACCEPTED="CONSENT_NOT_ACCEPTED",e.AUTH_CODE_NOT_FOUND="AUTH_CODE_NOT_FOUND",e.ACCESS_TOKEN_NOT_FOUND="ACCESS_TOKEN_NOT_FOUND",e.IMS_LIBRARY_NOT_READY="IMS_LIBRARY_NOT_READY",e.IMS_JUMP_FAILED="IMS_JUMP_FAILED",e.LOCAL_STORAGE_ERROR="LOCAL_STORAGE_ERROR",e.PRE_LOGIN_CANCELLED="PRE_LOGIN_CANCELLED",e.PRE_LOGIN_FAILED="PRE_LOGIN_FAILED",e.POPUP_CLOSED="POPUP_CLOSED",e.POPUP_BLOCKED="POPUP_BLOCKED",e.POPUP_ERROR="POPUP_ERROR",e.INVALID_ACCESS_TOKEN="INVALID_ACCESS_TOKEN",e.ANALYTICS_ERROR="ANALYTICS_ERROR",e.PERFORMANCE_LOGGING_ERROR="PERFORMANCE_LOGGING_ERROR"}(Ye||(Ye={}));const Ke={[Ye.SDK_NOT_SUPPORTED]:"SDK not supported",[Ye.SDK_ALREADY_INITIALIZED]:"SDK already initialized",[Ye.SDK_NOT_INITIALIZED]:"SDK not initialized",[Ye.PRECACHE_FAILED]:"Precache failed",[Ye.INVALID_WORKFLOW]:"Invalid workflow",[Ye.WORKFLOW_ALREADY_IN_PROGRESS]:"Workflow already in progress",[Ye.NO_ACTIVE_WORKFLOW]:"No active workflow in progress",[Ye.REQUIRED_PROJECT_ID_OR_IMAGE_DATA_URL]:"Required project id or image id",[Ye.INVALID_IMAGE_DATA_URL]:"Provided asset does not have the correct structure required for images",[Ye.INVALID_ASSET_TYPE]:"Provided asset does not contain array of images/videos",[Ye.AUTHORIZATION_URL_NOT_RETRIEVED]:"Authorization url not retrieved",[Ye.HTTP]:"HTTP",[Ye.NO_INTERNET]:"No Internet",[Ye.TARGET_LOAD_TIMED_OUT]:"Timeout loading iframe",[Ye.TARGET_LOAD_ERROR]:"Target load error",[Ye.TARGET_LOAD_CANCELLED]:"Target load cancelled",[Ye.TARGET_LOAD_FAILED]:"Target loaded with error view",[Ye.GENERIC_AUTH_ERROR]:"Generic auth error",[Ye.EXCHANGE_AUTH_CODE_ERROR]:"Exchange auth code error",[Ye.CONSENT_NOT_ACCEPTED]:"Consent not accepted",[Ye.AUTH_CODE_NOT_FOUND]:"Auth code not found",[Ye.ACCESS_TOKEN_NOT_FOUND]:"Access token not found",[Ye.IMS_LIBRARY_NOT_READY]:"IMS library not ready",[Ye.IMS_JUMP_FAILED]:"IMS jump failed",[Ye.LOCAL_STORAGE_ERROR]:"Local storage error",[Ye.PRE_LOGIN_CANCELLED]:"Login flow cancelled",[Ye.PRE_LOGIN_FAILED]:"Login flow failed",[Ye.POPUP_CLOSED]:"Popup closed",[Ye.POPUP_BLOCKED]:"Popup blocked",[Ye.POPUP_ERROR]:"Popup error",[Ye.INVALID_ACCESS_TOKEN]:"Invalid access token",[Ye.ANALYTICS_ERROR]:"Analytics error",[Ye.PERFORMANCE_LOGGING_ERROR]:"Performance logging error"},Qe=Object.assign(Object.assign({},F),Ye),Je=Object.assign(Object.assign({},Object.keys(Ke).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:{code:t,message:Ke[t]}})),{})),z);class Ze{constructor(){this._handlers=[]}addHandler(e){this._handlers.push(e)}removeHandler(e){if(!e)return;const t=this._handlers.indexOf(e);t>-1&&this._handlers.splice(t,1)}removeAllHandlers(){this._handlers=[]}error(e){this._handlers.forEach((t=>t.error(e)))}warn(e){this._handlers.forEach((t=>t.warn(e)))}info(e){this._handlers.forEach((t=>t.info(e)))}}class et{constructor(){this._messageHandler=new Ze,this._messageHandler.addHandler(new X)}static instance(){return et._instance||(et._instance=new et),et._instance}static addHandler(e){et.instance()._messageHandler.addHandler(e)}static removeHandler(e){et.instance()._messageHandler.removeHandler(e)}static error(e){et.instance()._messageHandler.error(e)}static warn(e){et.instance()._messageHandler.warn(e)}static info(e){et.instance()._messageHandler.info(e)}}class tt{constructor(e,t,r){this._workflowStack=[];try{this._hostInfo=t,this._userInfo=e,oe.assert(this._userInfo&&this._userInfo.piipStatus),this._analytics=new Ce(this._userInfo.piipStatus,this._hostInfo,r,xe,De)}catch(e){this.logError("Analytics.initialise",Qe.ANALYTICS_ERROR,e)}}getVisitorId(){return this._analytics.getVisitorId()}start(e,t){try{const r={workflow:e,workflowStage:"Start",startTime:performance.now()},s=$e[e].Start;if(!s)return void this._workflowStack.push(r);const i=t?t(s):s;r.event=i,this._workflowStack.push(r),this.logEvent(i)}catch(t){this.logError("Analytics.start",Qe.ANALYTICS_ERROR,t,e)}}end(e,t,r){var s;try{oe.assert("Start"!==t),oe.assert("Start"===(null===(s=this._workflowStack[this._workflowStack.length-1])||void 0===s?void 0:s.workflowStage));const i=this._workflowStack.pop();oe.assert(i.workflow===e);const o=$e[i.workflow][t];oe.assert(o);const n=r?r(o):o;n.perfActionDuration=performance.now()-i.startTime,this.logEvent(Object.assign({},n))}catch(t){const r=Q.create(Je.ANALYTICS_ERROR,t);X.error(r),this.logError("Analytics.end",Qe.ANALYTICS_ERROR,t,e)}}debug(e){try{oe.assert("Debug"===e.workflow),this.logEvent(e)}catch(e){const t=Q.create(Je.ANALYTICS_ERROR,e);X.error(t),this.logError("Analytics.debug",Qe.ANALYTICS_ERROR,e)}}logEvent(e){try{const t=Object.assign({},e);if(!t.subcategory&&(!t.perfActionId||this._workflowStack.length)){const e=this._workflowStack[this._workflowStack.length-1];if(!e.event)return void et.warn({message:K});oe.assert(e.event.subcategory),t.subcategory=e.event.subcategory}this._addDefaultDataInEvent(t),this._analytics.addEventToCollection(t),this._analytics.send()}catch(e){this.logError("Analytics.log",Qe.ANALYTICS_ERROR,e)}}logError(e,t,r,s){const i={subcategory:e,subtype:t,type:s||"Debug",value:null==r?void 0:r.stack,workflow:"Debug"};this.debug(i)}_addDefaultDataInEvent(e){const t=this._userInfo.profile,r=Xe.getActiveRequestId();r&&(e.requestGuid=r),t&&(e.userGuid=t.userId,t.serviceCode&&(e.serviceCode=t.serviceCode),t.serviceLevel&&(e.serviceLevel=t.serviceLevel)),e.contentCategory=P[this._hostInfo.type]}}const rt=function(){this.__data__=[],this.size=0};const st=function(e,t){return e===t||e!=e&&t!=t};const it=function(e,t){for(var r=e.length;r--;)if(st(e[r][0],t))return r;return-1};var ot=Array.prototype.splice;const nt=function(e){var t=this.__data__,r=it(t,e);return!(r<0)&&(r==t.length-1?t.pop():ot.call(t,r,1),--this.size,!0)};const at=function(e){var t=this.__data__,r=it(t,e);return r<0?void 0:t[r][1]};const ct=function(e){return it(this.__data__,e)>-1};const lt=function(e,t){var r=this.__data__,s=it(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this};function ut(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}ut.prototype.clear=rt,ut.prototype.delete=nt,ut.prototype.get=at,ut.prototype.has=ct,ut.prototype.set=lt;const pt=ut;const ht=function(){this.__data__=new pt,this.size=0};const dt=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};const mt=function(e){return this.__data__.get(e)};const ft=function(e){return this.__data__.has(e)};const yt="object"==typeof global&&global&&global.Object===Object&&global;var gt="object"==typeof self&&self&&self.Object===Object&&self;const bt=yt||gt||Function("return this")();const Et=bt.Symbol;var vt=Object.prototype,wt=vt.hasOwnProperty,Tt=vt.toString,Pt=Et?Et.toStringTag:void 0;const _t=function(e){var t=wt.call(e,Pt),r=e[Pt];try{e[Pt]=void 0;var s=!0}catch(e){}var i=Tt.call(e);return s&&(t?e[Pt]=r:delete e[Pt]),i};var It=Object.prototype.toString;const At=function(e){return It.call(e)};var St=Et?Et.toStringTag:void 0;const Ct=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":St&&St in Object(e)?_t(e):At(e)};const Ot=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const kt=function(e){if(!Ot(e))return!1;var t=Ct(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Rt=bt["__core-js_shared__"];var Dt,Lt=(Dt=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+Dt:"";const Nt=function(e){return!!Lt&&Lt in e};var xt=Function.prototype.toString;const Mt=function(e){if(null!=e){try{return xt.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var jt=/^\[object .+?Constructor\]$/,$t=Function.prototype,Ut=Object.prototype,Bt=$t.toString,Gt=Ut.hasOwnProperty,Ft=RegExp("^"+Bt.call(Gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Vt=function(e){return!(!Ot(e)||Nt(e))&&(kt(e)?Ft:jt).test(Mt(e))};const Ht=function(e,t){return null==e?void 0:e[t]};const zt=function(e,t){var r=Ht(e,t);return Vt(r)?r:void 0};const qt=zt(bt,"Map");const Wt=zt(Object,"create");const Xt=function(){this.__data__=Wt?Wt(null):{},this.size=0};const Yt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Kt=Object.prototype.hasOwnProperty;const Qt=function(e){var t=this.__data__;if(Wt){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Kt.call(t,e)?t[e]:void 0};var Jt=Object.prototype.hasOwnProperty;const Zt=function(e){var t=this.__data__;return Wt?void 0!==t[e]:Jt.call(t,e)};const er=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Wt&&void 0===t?"__lodash_hash_undefined__":t,this};function tr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}tr.prototype.clear=Xt,tr.prototype.delete=Yt,tr.prototype.get=Qt,tr.prototype.has=Zt,tr.prototype.set=er;const rr=tr;const sr=function(){this.size=0,this.__data__={hash:new rr,map:new(qt||pt),string:new rr}};const ir=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const or=function(e,t){var r=e.__data__;return ir(t)?r["string"==typeof t?"string":"hash"]:r.map};const nr=function(e){var t=or(this,e).delete(e);return this.size-=t?1:0,t};const ar=function(e){return or(this,e).get(e)};const cr=function(e){return or(this,e).has(e)};const lr=function(e,t){var r=or(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this};function ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}ur.prototype.clear=sr,ur.prototype.delete=nr,ur.prototype.get=ar,ur.prototype.has=cr,ur.prototype.set=lr;const pr=ur;const hr=function(e,t){var r=this.__data__;if(r instanceof pt){var s=r.__data__;if(!qt||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new pr(s)}return r.set(e,t),this.size=r.size,this};function dr(e){var t=this.__data__=new pt(e);this.size=t.size}dr.prototype.clear=ht,dr.prototype.delete=dt,dr.prototype.get=mt,dr.prototype.has=ft,dr.prototype.set=hr;const mr=dr;const fr=function(e,t){for(var r=-1,s=null==e?0:e.length;++r<s&&!1!==t(e[r],r,e););return e};const yr=function(){try{var e=zt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const gr=function(e,t,r){"__proto__"==t&&yr?yr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var br=Object.prototype.hasOwnProperty;const Er=function(e,t,r){var s=e[t];br.call(e,t)&&st(s,r)&&(void 0!==r||t in e)||gr(e,t,r)};const vr=function(e,t,r,s){var i=!r;r||(r={});for(var o=-1,n=t.length;++o<n;){var a=t[o],c=s?s(r[a],e[a],a,r,e):void 0;void 0===c&&(c=e[a]),i?gr(r,a,c):Er(r,a,c)}return r};const wr=function(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s};const Tr=function(e){return null!=e&&"object"==typeof e};const Pr=function(e){return Tr(e)&&"[object Arguments]"==Ct(e)};var _r=Object.prototype,Ir=_r.hasOwnProperty,Ar=_r.propertyIsEnumerable;const Sr=Pr(function(){return arguments}())?Pr:function(e){return Tr(e)&&Ir.call(e,"callee")&&!Ar.call(e,"callee")};const Cr=Array.isArray;const Or=function(){return!1};var kr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rr=kr&&"object"==typeof module&&module&&!module.nodeType&&module,Dr=Rr&&Rr.exports===kr?bt.Buffer:void 0;const Lr=(Dr?Dr.isBuffer:void 0)||Or;var Nr=/^(?:0|[1-9]\d*)$/;const xr=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Nr.test(e))&&e>-1&&e%1==0&&e<t};const Mr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var jr={};jr["[object Float32Array]"]=jr["[object Float64Array]"]=jr["[object Int8Array]"]=jr["[object Int16Array]"]=jr["[object Int32Array]"]=jr["[object Uint8Array]"]=jr["[object Uint8ClampedArray]"]=jr["[object Uint16Array]"]=jr["[object Uint32Array]"]=!0,jr["[object Arguments]"]=jr["[object Array]"]=jr["[object ArrayBuffer]"]=jr["[object Boolean]"]=jr["[object DataView]"]=jr["[object Date]"]=jr["[object Error]"]=jr["[object Function]"]=jr["[object Map]"]=jr["[object Number]"]=jr["[object Object]"]=jr["[object RegExp]"]=jr["[object Set]"]=jr["[object String]"]=jr["[object WeakMap]"]=!1;const $r=function(e){return Tr(e)&&Mr(e.length)&&!!jr[Ct(e)]};const Ur=function(e){return function(t){return e(t)}};var Br="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gr=Br&&"object"==typeof module&&module&&!module.nodeType&&module,Fr=Gr&&Gr.exports===Br&&yt.process;const Vr=function(){try{var e=Gr&&Gr.require&&Gr.require("util").types;return e||Fr&&Fr.binding&&Fr.binding("util")}catch(e){}}();var Hr=Vr&&Vr.isTypedArray;const zr=Hr?Ur(Hr):$r;var qr=Object.prototype.hasOwnProperty;const Wr=function(e,t){var r=Cr(e),s=!r&&Sr(e),i=!r&&!s&&Lr(e),o=!r&&!s&&!i&&zr(e),n=r||s||i||o,a=n?wr(e.length,String):[],c=a.length;for(var l in e)!t&&!qr.call(e,l)||n&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xr(l,c))||a.push(l);return a};var Xr=Object.prototype;const Yr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Xr)};const Kr=function(e,t){return function(r){return e(t(r))}};const Qr=Kr(Object.keys,Object);var Jr=Object.prototype.hasOwnProperty;const Zr=function(e){if(!Yr(e))return Qr(e);var t=[];for(var r in Object(e))Jr.call(e,r)&&"constructor"!=r&&t.push(r);return t};const es=function(e){return null!=e&&Mr(e.length)&&!kt(e)};const ts=function(e){return es(e)?Wr(e):Zr(e)};const rs=function(e,t){return e&&vr(t,ts(t),e)};const ss=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var is=Object.prototype.hasOwnProperty;const os=function(e){if(!Ot(e))return ss(e);var t=Yr(e),r=[];for(var s in e)("constructor"!=s||!t&&is.call(e,s))&&r.push(s);return r};const ns=function(e){return es(e)?Wr(e,!0):os(e)};const as=function(e,t){return e&&vr(t,ns(t),e)};var cs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ls=cs&&"object"==typeof module&&module&&!module.nodeType&&module,us=ls&&ls.exports===cs?bt.Buffer:void 0,ps=us?us.allocUnsafe:void 0;const hs=function(e,t){if(t)return e.slice();var r=e.length,s=ps?ps(r):new e.constructor(r);return e.copy(s),s};const ds=function(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t};const ms=function(e,t){for(var r=-1,s=null==e?0:e.length,i=0,o=[];++r<s;){var n=e[r];t(n,r,e)&&(o[i++]=n)}return o};const fs=function(){return[]};var ys=Object.prototype.propertyIsEnumerable,gs=Object.getOwnPropertySymbols;const bs=gs?function(e){return null==e?[]:(e=Object(e),ms(gs(e),(function(t){return ys.call(e,t)})))}:fs;const Es=function(e,t){return vr(e,bs(e),t)};const vs=function(e,t){for(var r=-1,s=t.length,i=e.length;++r<s;)e[i+r]=t[r];return e};const ws=Kr(Object.getPrototypeOf,Object);const Ts=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)vs(t,bs(e)),e=ws(e);return t}:fs;const Ps=function(e,t){return vr(e,Ts(e),t)};const _s=function(e,t,r){var s=t(e);return Cr(e)?s:vs(s,r(e))};const Is=function(e){return _s(e,ts,bs)};const As=function(e){return _s(e,ns,Ts)};const Ss=zt(bt,"DataView");const Cs=zt(bt,"Promise");const Os=zt(bt,"Set");const ks=zt(bt,"WeakMap");var Rs="[object Map]",Ds="[object Promise]",Ls="[object Set]",Ns="[object WeakMap]",xs="[object DataView]",Ms=Mt(Ss),js=Mt(qt),$s=Mt(Cs),Us=Mt(Os),Bs=Mt(ks),Gs=Ct;(Ss&&Gs(new Ss(new ArrayBuffer(1)))!=xs||qt&&Gs(new qt)!=Rs||Cs&&Gs(Cs.resolve())!=Ds||Os&&Gs(new Os)!=Ls||ks&&Gs(new ks)!=Ns)&&(Gs=function(e){var t=Ct(e),r="[object Object]"==t?e.constructor:void 0,s=r?Mt(r):"";if(s)switch(s){case Ms:return xs;case js:return Rs;case $s:return Ds;case Us:return Ls;case Bs:return Ns}return t});const Fs=Gs;var Vs=Object.prototype.hasOwnProperty;const Hs=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Vs.call(e,"index")&&(r.index=e.index,r.input=e.input),r};const zs=bt.Uint8Array;const qs=function(e){var t=new e.constructor(e.byteLength);return new zs(t).set(new zs(e)),t};const Ws=function(e,t){var r=t?qs(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var Xs=/\w*$/;const Ys=function(e){var t=new e.constructor(e.source,Xs.exec(e));return t.lastIndex=e.lastIndex,t};var Ks=Et?Et.prototype:void 0,Qs=Ks?Ks.valueOf:void 0;const Js=function(e){return Qs?Object(Qs.call(e)):{}};const Zs=function(e,t){var r=t?qs(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};const ei=function(e,t,r){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return qs(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return Ws(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Zs(e,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return Ys(e);case"[object Symbol]":return Js(e)}};var ti=Object.create;const ri=function(){function e(){}return function(t){if(!Ot(t))return{};if(ti)return ti(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const si=function(e){return"function"!=typeof e.constructor||Yr(e)?{}:ri(ws(e))};const ii=function(e){return Tr(e)&&"[object Map]"==Fs(e)};var oi=Vr&&Vr.isMap;const ni=oi?Ur(oi):ii;const ai=function(e){return Tr(e)&&"[object Set]"==Fs(e)};var ci=Vr&&Vr.isSet;const li=ci?Ur(ci):ai;var ui="[object Arguments]",pi="[object Function]",hi="[object Object]",di={};di[ui]=di["[object Array]"]=di["[object ArrayBuffer]"]=di["[object DataView]"]=di["[object Boolean]"]=di["[object Date]"]=di["[object Float32Array]"]=di["[object Float64Array]"]=di["[object Int8Array]"]=di["[object Int16Array]"]=di["[object Int32Array]"]=di["[object Map]"]=di["[object Number]"]=di[hi]=di["[object RegExp]"]=di["[object Set]"]=di["[object String]"]=di["[object Symbol]"]=di["[object Uint8Array]"]=di["[object Uint8ClampedArray]"]=di["[object Uint16Array]"]=di["[object Uint32Array]"]=!0,di["[object Error]"]=di[pi]=di["[object WeakMap]"]=!1;const mi=function e(t,r,s,i,o,n){var a,c=1&r,l=2&r,u=4&r;if(s&&(a=o?s(t,i,o,n):s(t)),void 0!==a)return a;if(!Ot(t))return t;var p=Cr(t);if(p){if(a=Hs(t),!c)return ds(t,a)}else{var h=Fs(t),d=h==pi||"[object GeneratorFunction]"==h;if(Lr(t))return hs(t,c);if(h==hi||h==ui||d&&!o){if(a=l||d?{}:si(t),!c)return l?Ps(t,as(a,t)):Es(t,rs(a,t))}else{if(!di[h])return o?t:{};a=ei(t,h,c)}}n||(n=new mr);var m=n.get(t);if(m)return m;n.set(t,a),li(t)?t.forEach((function(i){a.add(e(i,r,s,i,t,n))})):ni(t)&&t.forEach((function(i,o){a.set(o,e(i,r,s,o,t,n))}));var f=p?void 0:(u?l?As:Is:l?ns:ts)(t);return fr(f||t,(function(i,o){f&&(i=t[o=i]),Er(a,o,e(i,r,s,o,t,n))})),a};const fi=function(e){return mi(e,5)};class yi{static get Instance(){return this._instance||(this._instance=new this)}constructor(){this._messageListener=null,this._sourceChannel=null,this._messageChannelToTargetInfoMap=new Map}setSourceChannel(e){this._sourceChannel&&oe.assert(this._sourceChannel===e),this._sourceChannel=e}addTarget(e,t){this._messageChannelToTargetInfoMap.set(e,t)}removeTarget(e){this._messageChannelToTargetInfoMap.delete(e)}hasTarget(e){return this._messageChannelToTargetInfoMap.has(e)}getTarget(e){return this._messageChannelToTargetInfoMap.get(e)}sendMessage(e,t,r){if(oe.assert(this._sourceChannel),!ee())return!1;const s=this._messageChannelToTargetInfoMap.get(e);return!!s&&(s.target.postMessage({sourceChannel:this._sourceChannel,requestId:r,message:t},s.origin),!0)}addListener(e){if(!ee())return;if(!e)return;const t=t=>{const{sourceChannel:r,requestId:s,message:i}=t.data,o=this._messageChannelToTargetInfoMap.get(r);(null==o?void 0:o.origin)===t.origin&&e.didGetMessage(i,s)};window.addEventListener("message",t),this._messageListener=t}removeListener(){ee()&&this._messageListener&&(window.removeEventListener("message",this._messageListener),this._messageListener=null)}}class gi{constructor(e,t=!1){this._filterRequestIdMismatch=t,yi.Instance.setSourceChannel(e),yi.Instance.addListener(this),this._messageTypeToListeners=new Map,this._channelTypeToListeners=new Map}reset(){this._messageTypeToListeners=new Map,this._channelTypeToListeners=new Map}didGetMessage(e,t){if(this._filterRequestIdMismatch&&t&&this._requestId&&t!==this._requestId)return;const r=this._messageTypeToListeners.get(e.type);if(!r)return;const s=Array.from(r);for(const t in s){const r=s[t][1];if(r&&!1===r(e))continue;(0,s[t][0])(e)}}setTarget(e,t){yi.Instance.addTarget(e,t),this._didAddTarget(e)}removeTarget(e){yi.Instance.removeTarget(e)}hasTarget(e){return yi.Instance.hasTarget(e)}getTarget(e){return yi.Instance.getTarget(e)}addListenerForTarget(e,t){this._channelTypeToListeners.has(e)||this._channelTypeToListeners.set(e,new Array),this._channelTypeToListeners.get(e).push(t)}sendMessage(e,t){return this._isSimpleMessageType(t)?yi.Instance.sendMessage(e,{type:t},this._requestId):"CC_EVERYWHERE_SELF"===e?(this.didGetMessage(t,this._requestId),!0):yi.Instance.sendMessage(e,t,this._requestId)}sendMessageCompat(e,t){return oe.assert("CC_EVERYWHERE_SELF"!==e),yi.Instance.sendMessage(e,t,this._requestId)}addListener(e,t,r){this._messageTypeToListeners.has(e)||this._messageTypeToListeners.set(e,new Array),this._messageTypeToListeners.get(e).push([t,r])}removeListener(e,t){const r=this._messageTypeToListeners.get(e);if(!r||!t)return;const s=r.findIndex((e=>t===e[0]));-1!==s&&r.splice(s,1)}setRequestId(e){this._requestId=e}_isSimpleMessageType(e){return"string"==typeof e}_didAddTarget(e){var t;this._channelTypeToListeners.has(e)&&(null===(t=this._channelTypeToListeners.get(e))||void 0===t||t.forEach((e=>e())))}}function bi(e,t,r){return[[ae.CONFIG.CLIENTS.CCX.QUERY_PARAMS.KEYS.EMBED,"true"],[ae.CONFIG.CLIENTS.CCX.QUERY_PARAMS.KEYS.CC_EVERYWHERE_PROTOCOL_VERSION,e],[ae.CONFIG.CLIENTS.CCX.QUERY_PARAMS.KEYS.CC_EVERYWHERE_HOST_CLIENT_ID,t],[ae.CONFIG.CLIENTS.CCX.QUERY_PARAMS.KEYS.REFERRER,r]]}function Ei(e){return function(e){const t=new URLSearchParams;return e.forEach((([e,r])=>{t.append(e,decodeURIComponent(r))})),t}(e).toString()}function vi(e){const t=function(e){if(window.location.search.length>0){const t=new URLSearchParams(window.location.search);if(t.has(e))return t.get(e)}if(window.location.hash.length>0){const t=window.location.hash.indexOf("?");return new URLSearchParams(window.location.hash.substring(t)).get(e)}return null}(e);if(t)return t;const r=window.CCEverywhereDebug||{};return r[e]?r[e]:null}function wi(e,t,r,s,i){const o=function(e,t){let r,s;switch(e){case A.LAUNCH_TARGET:s=ae.CONFIG.CLIENTS.CCX.EDITOR.BASE,r=`${ae.CONFIG.CLIENTS.CCX.EDITOR.PATHS.NEW_PROJECT}?`+Ei(_i({}));break;case A.CREATE_DESIGN:{const e=t.inputParams;s=ae.CONFIG.CLIENTS.CCX.EDITOR.BASE,r=`${ae.CONFIG.CLIENTS.CCX.EDITOR.PATHS.NEW_PROJECT}?`+Ei(_i(e));break}case A.EDIT_DESIGN:{const e=t.inputParams,i=`${ae.CONFIG.CLIENTS.CCX.EDITOR.PATHS.EDIT_PROJECT}/${e.projectId}`;s=ae.CONFIG.CLIENTS.CCX.EDITOR.BASE,r=`${i}?`+Ei(function(e){const{editorPanelView:t,panelSearchText:r}=e,s=[];t&&s.push(...Pi(t,r));return s}(e));break}case A.QUICK_ACTION:{const{modalParams:e}=t;s=ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.BASE,r=ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.PATH+`${t.id}?`+Ei(function(e){const t=[];(null==e?void 0:e.spectrumTheme)&&t.push([ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.QUERY_PARAMS.KEYS.SPECTRUM_THEME,null==e?void 0:e.spectrumTheme]);(null==e?void 0:e.colorTheme)&&t.push([ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.QUERY_PARAMS.KEYS.COLOR_SCHEME,e.colorTheme]);if(ae.CONFIG.ENVIRONMENT===g.DEV){const e=vi(ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.QUERY_PARAMS.KEYS.ENTRY),r=vi(ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.QUERY_PARAMS.KEYS.SHARED);e&&t.push([ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.QUERY_PARAMS.KEYS.ENTRY,e]),r&&t.push([ae.CONFIG.CLIENTS.CCX.QUICK_ACTION.QUERY_PARAMS.KEYS.SHARED,r])}return t}(e));break}default:throw Q.create(Je.INVALID_WORKFLOW)}return s+r}(e,s);return Ti(o,t,r,i)}function Ti(e,t,r,s,i=!0){var o;const n=function(e,t,r,s,i){const o=[...bi(e,t,r),[ae.CONFIG.CLIENTS.CCX.QUERY_PARAMS.KEYS.LOCALE,s||E.ENGLISH]];return i&&o.push([ae.CONFIG.CLIENTS.CCX.QUERY_PARAMS.KEYS.USER_ID,i]),o}(Ne,t.clientId,t.referrer,r.locale,null===(o=null==s?void 0:s.profile)||void 0===o?void 0:o.userId),a=i?Ei(n):function(e){return e.map((([e,t])=>`${e}=${t}`)).reduce(((e,t)=>`${e}&${t}`))}(n);let c=e.indexOf("?")>0?"&":"?";return c="?"===e.slice(-1)?"":c,`${e}${c}${a}`}function Pi(e,t){const r=[[ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.CATEGORY,e]];return t&&_[e]&&r.push([ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.SEARCH_CATEGORY,_[e]],[ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.SEARCH_TEXT,t]),r}function _i(e){return[...Ii(e)]}function Ii(e){const t=[],{canvasSize:r,editorPanelView:s,templateType:i,panelSearchText:o}=e;if(r){const e=ue.isSize(r)?r:C[r];ue.isSize(r)||t.push([ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.TASK_ID,C[r].taskId]),t.push(...(n=e,[[ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.WIDTH,n.width.toString()],[ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.HEIGHT,n.height.toString()],[ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.UNIT,n.unit]]))}var n;return s&&t.push(...Pi(s,o)),i&&t.push([ae.CONFIG.CLIENTS.CCX.EDITOR.QUERY_PARAMS.KEYS.TEMPLATE_TYPE,i]),t}class Ai{constructor(e){this._hostCallbacks=e||null}onLoadStart(){var e;this._safeInvokeHostCallback(null===(e=this._hostCallbacks)||void 0===e?void 0:e.onLoadStart)}onLoad(){var e;this._safeInvokeHostCallback(null===(e=this._hostCallbacks)||void 0===e?void 0:e.onLoad)}onCancel(){var e;this._safeInvokeHostCallback(null===(e=this._hostCallbacks)||void 0===e?void 0:e.onCancel)}onPublishStart(){var e;this._safeInvokeHostCallback(null===(e=this._hostCallbacks)||void 0===e?void 0:e.onPublishStart)}onPublish(e){this._safeInvokeHostCallback((()=>{var t;return(null===(t=this._hostCallbacks)||void 0===t?void 0:t.onPublish)?this._hostCallbacks.onPublish(e):null}))}onError(e){this._safeInvokeHostCallback((()=>{var t;return(null===(t=this._hostCallbacks)||void 0===t?void 0:t.onError)?this._hostCallbacks.onError(e):null}))}onEvent(e){this._safeInvokeHostCallback((()=>{var t;return(null===(t=this._hostCallbacks)||void 0===t?void 0:t.onEvent)?this._hostCallbacks.onEvent(e):null}))}_safeInvokeHostCallback(e){try{e&&e()}catch(e){et.warn(e)}}}const Si=new class{sendParamsResponseToAgent(e,t,r){const{designParams:s,configParams:i}=t.params,{clientId:o,appName:n,appVersion:a,platformCategory:c}=t.hostInfo,l={clientId:o,appName:n,appVersion:a,platformCategory:c},u=Xe.getActiveRequestId(),p={type:D.PARAMS_RESPONSE,data:{status:s?O.SUCCESS:O.FAILURE,visitorId:t.analyticsManager.getVisitorId(),requestId:u,hostInfo:l,workflow:e,inputParams:s.inputParams||{},outputParams:s.outputParams||{},modalParams:s.modalParams||{},configParams:i,featureFlags:{}}};r.sendMessage("CC_EVERYWHERE_AGENT",p)}isRecoverableError(e){switch(e.code){case Qe.INVALID_TOKEN:case Qe.VALIDATE_TOKEN_FAILED:case Qe.LOGIN_ERROR:return!0;default:return!1}}};var Ci;!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.STARTED=1]="STARTED",e[e.TERMINATING=2]="TERMINATING",e[e.TERMINATED=3]="TERMINATED"}(Ci||(Ci={}));class Oi{constructor(e,t,r){this._channelMessageListener=e,this._messageTypes=t,this._messageListener=r,this._isAttached=!1}attachListeners(){this._isAttached||(this._messageTypes.forEach((e=>{this._channelMessageListener.addListener(e,this._messageListener)})),this._isAttached=!0)}detachListeners(){this._messageTypes.forEach((e=>{this._channelMessageListener.removeListener(e,this._messageListener)})),this._isAttached=!1}}class ki{constructor(e){this._perfActionsMap={},this._analyticsManager=e}startMarker(e){try{oe.assert(!this._perfActionsMap[e]),this._perfActionsMap[e]=performance.now()}catch(t){this._errorHandler(t,e)}}endMarker(e){try{oe.assert(this._perfActionsMap[e]);const t=performance.now()-this._perfActionsMap[e];this.removeMarker(e);const r={perfActionDuration:t,perfActionId:e,workflow:"Debug"};this._analyticsManager.debug(r)}catch(t){this._errorHandler(t,e)}}removeMarker(e){try{oe.assert(this._perfActionsMap[e]),delete this._perfActionsMap[e]}catch(t){this._errorHandler(t,e)}}_errorHandler(e,t){const r=Q.create(Je.PERFORMANCE_LOGGING_ERROR,e,t);X.error(r),this._logError("PerformanceMarker.end",Qe.PERFORMANCE_LOGGING_ERROR,e,t)}_logError(e,t,r,s){const i={subcategory:e,subtype:t,perfActionId:s,value:null==r?void 0:r.stack,workflow:"Debug"};this._analyticsManager.debug(i)}}class Ri{constructor(e,t,r,s,i,o){this.context=e,this.workflow=t,this.analyticsWorkflow=r,this._isCancellable=s,this.actionProperties=o,this._currentState=Ci.NOT_STARTED,this.actionListener=new Oi(e.channelMessageListener,i,this.didReceiveMessage.bind(this)),this.performanceLogger=new ki(e.analyticsManager)}close(e="HOST"){var t;this._currentState=Ci.TERMINATED,this.actionListener.detachListeners();const r="ERROR"===e||"CLOSED_BY_SDK"===e||"CLOSED_BY_AGENT"===e||(null===(t=this.actionProperties)||void 0===t?void 0:t.shouldCloseOnPublishOrCancel);this.context.containerManager.close(r)}isActive(){return this._currentState===Ci.STARTED}isTerminating(){return this._currentState===Ci.TERMINATING}isTerminated(){return this._currentState===Ci.TERMINATED}setState(e){oe.assert(e>this._currentState),this._currentState=e}isCancellable(){return this._isCancellable}getAnalyticsStageEvent([e,t],r){switch(e){case"Error":return this._getAnalyticsErrorEvent(r,t);case"Cancel":return this._getAnalyticsCancelEvent(r,t);default:return r}}getAnalyticsCustomProperties(){return{}}_getAnalyticsErrorEvent(e,t){return Object.assign({},e,{errorCode:t.code},{errorDesc:t.toString()},this.getAnalyticsCustomProperties())}_getAnalyticsCancelEvent(e,t){return Object.assign({},e,{value:t},this.getAnalyticsCustomProperties())}}var Di=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};const Li=m.LIGHT,Ni=f.EXPRESS,xi=y.MEDIUM;class Mi extends Ri{constructor(e,t,r,s){super(e,t,r,!1,[D.PARAMS_REQUEST,D.WILL_TARGET_LOAD,D.DID_TARGET_LOAD,D.WILL_PUBLISH,D.DID_PUBLISH,D.DID_COMPLETE,D.EVENT,D.CANCEL,D.ERROR],s),this.hostCallbackHandler=new Ai(this.context.params.designParams.callbacks)}execute(){return Di(this,void 0,void 0,(function*(){this.setState(Ci.STARTED);try{this.context.analyticsManager.start(this.analyticsWorkflow,(e=>this.getAnalyticsStageEvent(["Start",void 0],e))),yield this.validate(),yield this.launchTarget()}catch(e){throw this.close("ERROR"),this.logErrorAndInvokeHostCallback(e),e}}))}close(e="HOST"){switch(super.close(e),e){case"DOM_REMOVAL":case"CLOSE_BUTTON":case"CLOSE_TAB":case"HOST":case"SDK_TERMINATED":this._logCancelAnalyticsAndInvokeHostCallback(e);break;case"WORKFLOW_CHANGED":this._logCancelAnalyticsAndInvokeHostCallback(e,!1)}}getTargetInfoInternal(){const{hostInfo:e,params:t,userInfo:r}=this.context,{configParams:s,designParams:i,targetUrl:o}=t,n=o?Ti(o,e,s,r):wi(this.workflow,e,s,i,r);return{clientId:de[this.workflow],url:n}}didCloseButtonClick(){oe.assert(this.isActive()),this.close("CLOSE_BUTTON")}didContainerRemove(){oe.assert(this.isActive()),this.setState(Ci.TERMINATED),this.actionListener.detachListeners(),this._logCancelAnalyticsAndInvokeHostCallback("DOM_REMOVAL")}didReceiveMessage(e){switch(e.type){case D.PARAMS_REQUEST:return this.didParamsRequest();case D.WILL_TARGET_LOAD:return this.willTargetLoad();case D.DID_TARGET_LOAD:return this.didTargetLoad(e.data);case D.WILL_PUBLISH:return this.willPublish();case D.DID_PUBLISH:return this.didPublish(e.data);case D.DID_COMPLETE:return this.didComplete();case D.EVENT:return this.didEvent(e.data);case D.CANCEL:return this.didCancel(e.data);case D.ERROR:return this.didError(e.data)}}didParamsRequest(){Si.sendParamsResponseToAgent(this.workflow,this.context,this.context.channelMessageListener)}willTargetLoad(){this.hostCallbackHandler.onLoadStart()}didTargetLoad(e){e.status===k.SUCCESS&&this.hostCallbackHandler.onLoad()}didCancel(e){this.hideContainer();const t=e.reason;t!==R.OTHER&&this._logCancelAnalyticsAndInvokeHostCallback(t)}didComplete(){oe.assert(this.actionProperties),this.actionProperties.shouldCloseOnPublishOrCancel&&this.close("WORKFLOW_COMPLETE")}didError(e){const t=re(e);Si.isRecoverableError(t)?this._didAuthenticationFail(t):(this.close("ERROR"),this.logErrorAndInvokeHostCallback(t))}didEvent(e){switch(e.type){case L.TEMPLATE_BATCH_LOADED:case L.MEDIA_BATCH_LOADED:case L.ELEMENT_BATCH_LOADED:case L.URL_INFO:this.hostCallbackHandler.onEvent(e);break;case L.DOWNLOAD_COMPLETE:this._handleDownloadComplete(e);case L.UPDATE_CLOSE_BUTTON:case L.WORKFLOW_CHANGED:}}willPublish(){this.context.performanceLogger.startMarker("PUBLISH_ASSET"),this.hostCallbackHandler.onPublishStart()}didPublish(e){oe.assert(this.actionProperties),this.actionProperties.shouldCloseOnPublishOrCancel?(this.hideContainer(),this.context.analyticsManager.end(this.analyticsWorkflow,"Success",(t=>this.getAnalyticsStageEvent(["Success",e],t)))):this._logExportSuccessEvent(e),this.context.performanceLogger.endMarker("PUBLISH_ASSET"),this.hostCallbackHandler.onPublish(e)}validate(){return Di(this,void 0,void 0,(function*(){const{params:e,validator:t}=this.context;if(!Se.instance().isOnline)throw Q.create(Je.NO_INTERNET);t.validate(this.workflow,e.designParams)}))}logErrorAndInvokeHostCallback(e,t){Object.values(Qe).includes(e.code)||(e=Q.create(Je.GENERIC_ERROR,e)),t&&t(),this.context.analyticsManager.end(this.analyticsWorkflow,"Error",(t=>this.getAnalyticsStageEvent(["Error",e],t))),this.hostCallbackHandler.onError(e)}initializeDefaultParams(e){const t=e.modalParams||{};t.colorTheme=t.colorTheme||Li,t.spectrumTheme=t.spectrumTheme||Ni,t.scale=t.scale||xi,e.modalParams=t}hideContainer(){this.setState(Ci.TERMINATING),this.context.containerManager.close(!1)}launchTarget(){return Di(this,void 0,void 0,(function*(){this.initializeDefaultParams(this.context.params.designParams);const{containerManager:e,params:t}=this.context;this.actionListener.attachListeners(),oe.assert(this.actionProperties);const r=Object.assign(Object.assign({},this.actionProperties.containerProperties),{modalParams:t.designParams.modalParams});return e.open(r,this)}))}_logExportSuccessEvent(e){const t=$e[this.analyticsWorkflow].Success;oe.assert(t);const r=this.getAnalyticsStageEvent(["Success",e],t);this.context.analyticsManager.logEvent(r)}_logCancelAnalyticsAndInvokeHostCallback(e,t=!0){t&&this.hostCallbackHandler.onCancel(),this.context.analyticsManager.end(this.analyticsWorkflow,"Cancel",(t=>this.getAnalyticsStageEvent(["Cancel",e],t)))}_didAuthenticationFail(e){const{authController:t}=this.context;if(this.close("ERROR"),t.doesSupportSignInWorkflow())t.resetAuthAndProfileInfo();else{const r=()=>{t.resetAuthAndProfileInfo()};this.logErrorAndInvokeHostCallback(e,r)}}_handleDownloadComplete(e){var t;(null===(t=e.data)||void 0===t?void 0:t.closeContainer)&&this.hideContainer(),this.hostCallbackHandler.onEvent(e)}}const ji={iframeContainerMinHeight:"625px",iframeContainerMinWidth:"1112px",iframeContainerMaxHeight:"625px",iframeContainerMaxWidth:"1112px"},$i={iframeContainerMinHeight:"690px",iframeContainerMinWidth:"990px",iframeContainerMaxHeight:"none",iframeContainerMaxWidth:"none"};var Ui;function Bi(e,t){for(const r of e)if(r.optionType===h.BUTTON_GROUP){const e=r;for(const r of e.buttons)if(r.id===t)return r}else if(r.id===t)return r}!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.LOADING=1]="LOADING",e[e.IFRAME_LOADED=2]="IFRAME_LOADED",e[e.LOADED=3]="LOADED",e[e.TERMINATED=4]="TERMINATED"}(Ui||(Ui={}));var Gi=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class Fi extends Mi{constructor(e){const t={shouldCloseOnPublishOrCancel:!0,containerProperties:Object.assign(Object.assign({},$i),{showCloseButton:!1})};super(e,A.CREATE_DESIGN,"CREATE_DESIGN",t)}shouldReuseTarget(){return!1}didPublish(e){const t=Object.create(null,{didPublish:{get:()=>super.didPublish}});var r;return Gi(this,void 0,void 0,(function*(){(null===(r=this.context.params.designParams.outputParams)||void 0===r?void 0:r.outputType)===i.URL&&(yield ie(e.asset)),e.exportButtonId&&this._updateCloseTarget(e.exportButtonId),t.didPublish.call(this,e)}))}getAnalyticsStageEvent(e,t){const[r,s]=e;switch(r){case"Start":return this._getAnalyticsStartEvent(t);case"Success":return this._getAnalyticsSuccessEvent(t,s);default:return super.getAnalyticsStageEvent(e,t)}}validate(){const e=Object.create(null,{validate:{get:()=>super.validate}});return Gi(this,void 0,void 0,(function*(){yield e.validate.call(this);const{inputParams:r}=this.context.params.designParams;if((null==r?void 0:r.asset)&&r.asset.type!==t.IMAGE)throw Q.create(Je.INVALID_IMAGE_DATA_URL)}))}initializeDefaultParams(e){var t,r,s;super.initializeDefaultParams(e);const i=e.inputParams||{};i.canvasSize=null!==(t=i.canvasSize)&&void 0!==t?t:"Instagram",i.editorPanelView=null!==(r=i.editorPanelView)&&void 0!==r?r:"templates",e.inputParams=i;const o=e.outputParams||{};o.multiPage=null===(s=o.multiPage)||void 0===s||s,e.outputParams=o}_updateCloseTarget(e){var t;oe.assert(this.actionProperties);const r=null===(t=this.context.params.designParams.inputParams)||void 0===t?void 0:t.exportOptions;if(!r)return;const s=Bi(r,e);!1===(null==s?void 0:s.closeTargetOnExport)&&(this.actionProperties.shouldCloseOnPublishOrCancel=!1)}_getAnalyticsStartEvent(e){const{outputParams:t}=this.context.params.designParams;return Object.assign({},e,(null==t?void 0:t.allowedFileTypes)?{contentExtension:t.allowedFileTypes}:null)}_getAnalyticsSuccessEvent(e,t){const{asset:r,projectId:s}=t;return Object.assign({},e,{contentId:s},{contentExtension:r[0].fileType})}}function Vi(e){return new class extends he{didTimeout(){return Q.create(Je.TARGET_LOAD_TIMED_OUT)}watch(){return new Promise(((t,r)=>{const s=(e=>{e(Q.create(Je.NO_INTERNET))}).bind(null,r);Se.instance().addListener("offline",s);const i=new Oi(e,[D.DID_TARGET_LOAD],((e,t,r)=>{oe.assert(r.type===D.DID_TARGET_LOAD),Se.instance().removeListener("offline",s),i.detachListeners(),this._takeActionOnLoadStatus(e,t,r.data)}).bind(null,t,r));i.attachListeners()}))}_takeActionOnLoadStatus(e,t,r){switch(r.status){case k.SUCCESS:return e({loadTime:r.loadTime,url:r.url});case k.FAILURE:return e({error:this._getErrorForFailureCase(r),loadTime:r.loadTime,url:r.url});default:t(Q.create(Je.TARGET_LOAD_ERROR))}}_getErrorForFailureCase(e){const t=e.error,r=t?Je[t]:Je.TARGET_LOAD_FAILED;return Q.create(r,null==e?void 0:e.errorDesc)}}}const Hi=window,zi=Hi.ShadowRoot&&(void 0===Hi.ShadyCSS||Hi.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,qi=Symbol(),Wi=new WeakMap;class Xi{constructor(e,t,r){if(this._$cssResult$=!0,r!==qi)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(zi&&void 0===e){const r=void 0!==t&&1===t.length;r&&(e=Wi.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Wi.set(t,e))}return e}toString(){return this.cssText}}const Yi=zi?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return(e=>new Xi("string"==typeof e?e:e+"",void 0,qi))(t)})(e):e;var Ki;const Qi=window,Ji=Qi.trustedTypes,Zi=Ji?Ji.emptyScript:"",eo=Qi.reactiveElementPolyfillSupport,to={toAttribute(e,t){switch(t){case Boolean:e=e?Zi:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},ro=(e,t)=>t!==e&&(t==t||e==e),so={attribute:!0,type:String,converter:to,reflect:!1,hasChanged:ro},io="finalized";class oo extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,r)=>{const s=this._$Ep(r,t);void 0!==s&&(this._$Ev.set(s,r),e.push(s))})),e}static createProperty(e,t=so){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const r="symbol"==typeof e?Symbol():"__"+e,s=this.getPropertyDescriptor(e,r,t);void 0!==s&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(s){const i=this[e];this[t]=s,this.requestUpdate(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||so}static finalize(){if(this.hasOwnProperty(io))return!1;this[io]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const r of t)this.createProperty(r,e[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const e of r)t.unshift(Yi(e))}else void 0!==e&&t.push(Yi(e));return t}static _$Ep(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,r;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(r=e.hostConnected)||void 0===r||r.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{zi?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{const r=document.createElement("style"),s=Hi.litNonce;void 0!==s&&r.setAttribute("nonce",s),r.textContent=t.cssText,e.appendChild(r)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=so){var s;const i=this.constructor._$Ep(e,r);if(void 0!==i&&!0===r.reflect){const o=(void 0!==(null===(s=r.converter)||void 0===s?void 0:s.toAttribute)?r.converter:to).toAttribute(t,r.type);this._$El=e,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(e,t){var r;const s=this.constructor,i=s._$Ev.get(e);if(void 0!==i&&this._$El!==i){const e=s.getPropertyOptions(i),o="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(r=e.converter)||void 0===r?void 0:r.fromAttribute)?e.converter:to;this._$El=i,this[i]=o.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,r){let s=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||ro)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,r))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(r)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}var no;oo[io]=!0,oo.elementProperties=new Map,oo.elementStyles=[],oo.shadowRootOptions={mode:"open"},null==eo||eo({ReactiveElement:oo}),(null!==(Ki=Qi.reactiveElementVersions)&&void 0!==Ki?Ki:Qi.reactiveElementVersions=[]).push("1.6.2");const ao=window,co=ao.trustedTypes,lo=co?co.createPolicy("lit-html",{createHTML:e=>e}):void 0,uo="$lit$",po=`lit$${(Math.random()+"").slice(9)}$`,ho="?"+po,mo=`<${ho}>`,fo=document,yo=()=>fo.createComment(""),go=e=>null===e||"object"!=typeof e&&"function"!=typeof e,bo=Array.isArray,Eo=e=>bo(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]),vo="[ \t\n\f\r]",wo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,To=/-->/g,Po=/>/g,_o=RegExp(`>|${vo}(?:([^\\s"'>=/]+)(${vo}*=${vo}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Io=/'/g,Ao=/"/g,So=/^(?:script|style|textarea|title)$/i,Co=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),Oo=Co(1),ko=(Co(2),Symbol.for("lit-noChange")),Ro=Symbol.for("lit-nothing"),Do=new WeakMap,Lo=fo.createTreeWalker(fo,129,null,!1);function No(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==lo?lo.createHTML(t):t}const xo=(e,t)=>{const r=e.length-1,s=[];let i,o=2===t?"<svg>":"",n=wo;for(let t=0;t<r;t++){const r=e[t];let a,c,l=-1,u=0;for(;u<r.length&&(n.lastIndex=u,c=n.exec(r),null!==c);)u=n.lastIndex,n===wo?"!--"===c[1]?n=To:void 0!==c[1]?n=Po:void 0!==c[2]?(So.test(c[2])&&(i=RegExp("</"+c[2],"g")),n=_o):void 0!==c[3]&&(n=_o):n===_o?">"===c[0]?(n=null!=i?i:wo,l=-1):void 0===c[1]?l=-2:(l=n.lastIndex-c[2].length,a=c[1],n=void 0===c[3]?_o:'"'===c[3]?Ao:Io):n===Ao||n===Io?n=_o:n===To||n===Po?n=wo:(n=_o,i=void 0);const p=n===_o&&e[t+1].startsWith("/>")?" ":"";o+=n===wo?r+mo:l>=0?(s.push(a),r.slice(0,l)+uo+r.slice(l)+po+p):r+po+(-2===l?(s.push(void 0),t):p)}return[No(e,o+(e[r]||"<?>")+(2===t?"</svg>":"")),s]};class Mo{constructor({strings:e,_$litType$:t},r){let s;this.parts=[];let i=0,o=0;const n=e.length-1,a=this.parts,[c,l]=xo(e,t);if(this.el=Mo.createElement(c,r),Lo.currentNode=this.el.content,2===t){const e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(s=Lo.nextNode())&&a.length<n;){if(1===s.nodeType){if(s.hasAttributes()){const e=[];for(const t of s.getAttributeNames())if(t.endsWith(uo)||t.startsWith(po)){const r=l[o++];if(e.push(t),void 0!==r){const e=s.getAttribute(r.toLowerCase()+uo).split(po),t=/([.?@])?(.*)/.exec(r);a.push({type:1,index:i,name:t[2],strings:e,ctor:"."===t[1]?Go:"?"===t[1]?Vo:"@"===t[1]?Ho:Bo})}else a.push({type:6,index:i})}for(const t of e)s.removeAttribute(t)}if(So.test(s.tagName)){const e=s.textContent.split(po),t=e.length-1;if(t>0){s.textContent=co?co.emptyScript:"";for(let r=0;r<t;r++)s.append(e[r],yo()),Lo.nextNode(),a.push({type:2,index:++i});s.append(e[t],yo())}}}else if(8===s.nodeType)if(s.data===ho)a.push({type:2,index:i});else{let e=-1;for(;-1!==(e=s.data.indexOf(po,e+1));)a.push({type:7,index:i}),e+=po.length-1}i++}}static createElement(e,t){const r=fo.createElement("template");return r.innerHTML=e,r}}function jo(e,t,r=e,s){var i,o,n,a;if(t===ko)return t;let c=void 0!==s?null===(i=r._$Co)||void 0===i?void 0:i[s]:r._$Cl;const l=go(t)?void 0:t._$litDirective$;return(null==c?void 0:c.constructor)!==l&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===l?c=void 0:(c=new l(e),c._$AT(e,r,s)),void 0!==s?(null!==(n=(a=r)._$Co)&&void 0!==n?n:a._$Co=[])[s]=c:r._$Cl=c),void 0!==c&&(t=jo(e,c._$AS(e,t.values),c,s)),t}class $o{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:r},parts:s}=this._$AD,i=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:fo).importNode(r,!0);Lo.currentNode=i;let o=Lo.nextNode(),n=0,a=0,c=s[0];for(;void 0!==c;){if(n===c.index){let t;2===c.type?t=new Uo(o,o.nextSibling,this,e):1===c.type?t=new c.ctor(o,c.name,c.strings,this,e):6===c.type&&(t=new zo(o,this,e)),this._$AV.push(t),c=s[++a]}n!==(null==c?void 0:c.index)&&(o=Lo.nextNode(),n++)}return Lo.currentNode=fo,i}v(e){let t=0;for(const r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class Uo{constructor(e,t,r,s){var i;this.type=2,this._$AH=Ro,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=s,this._$Cp=null===(i=null==s?void 0:s.isConnected)||void 0===i||i}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=jo(this,e,t),go(e)?e===Ro||null==e||""===e?(this._$AH!==Ro&&this._$AR(),this._$AH=Ro):e!==this._$AH&&e!==ko&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):Eo(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Ro&&go(this._$AH)?this._$AA.nextSibling.data=e:this.$(fo.createTextNode(e)),this._$AH=e}g(e){var t;const{values:r,_$litType$:s}=e,i="number"==typeof s?this._$AC(e):(void 0===s.el&&(s.el=Mo.createElement(No(s.h,s.h[0]),this.options)),s);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.v(r);else{const e=new $o(i,this),t=e.u(this.options);e.v(r),this.$(t),this._$AH=e}}_$AC(e){let t=Do.get(e.strings);return void 0===t&&Do.set(e.strings,t=new Mo(e)),t}T(e){bo(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,s=0;for(const i of e)s===t.length?t.push(r=new Uo(this.k(yo()),this.k(yo()),this,this.options)):r=t[s],r._$AI(i),s++;s<t.length&&(this._$AR(r&&r._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var r;for(null===(r=this._$AP)||void 0===r||r.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class Bo{constructor(e,t,r,s,i){this.type=1,this._$AH=Ro,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Ro}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){const i=this.strings;let o=!1;if(void 0===i)e=jo(this,e,t,0),o=!go(e)||e!==this._$AH&&e!==ko,o&&(this._$AH=e);else{const s=e;let n,a;for(e=i[0],n=0;n<i.length-1;n++)a=jo(this,s[r+n],t,n),a===ko&&(a=this._$AH[n]),o||(o=!go(a)||a!==this._$AH[n]),a===Ro?e=Ro:e!==Ro&&(e+=(null!=a?a:"")+i[n+1]),this._$AH[n]=a}o&&!s&&this.j(e)}j(e){e===Ro?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class Go extends Bo{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ro?void 0:e}}const Fo=co?co.emptyScript:"";class Vo extends Bo{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Ro?this.element.setAttribute(this.name,Fo):this.element.removeAttribute(this.name)}}class Ho extends Bo{constructor(e,t,r,s,i){super(e,t,r,s,i),this.type=5}_$AI(e,t=this){var r;if((e=null!==(r=jo(this,e,t,0))&&void 0!==r?r:Ro)===ko)return;const s=this._$AH,i=e===Ro&&s!==Ro||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Ro&&(s===Ro||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==r?r:this.element,e):this._$AH.handleEvent(e)}}class zo{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){jo(this,e)}}const qo=ao.litHtmlPolyfillSupport;null==qo||qo(Mo,Uo),(null!==(no=ao.litHtmlVersions)&&void 0!==no?no:ao.litHtmlVersions=[]).push("2.7.5");var Wo,Xo;class Yo extends oo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const r=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,r)=>{var s,i;const o=null!==(s=null==r?void 0:r.renderBefore)&&void 0!==s?s:t;let n=o._$litPart$;if(void 0===n){const e=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;o._$litPart$=n=new Uo(t.insertBefore(yo(),e),e,void 0,null!=r?r:{})}return n._$AI(e),n})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return ko}}Yo.finalized=!0,Yo._$litElement$=!0,null===(Wo=globalThis.litElementHydrateSupport)||void 0===Wo||Wo.call(globalThis,{LitElement:Yo});const Ko=globalThis.litElementPolyfillSupport;null==Ko||Ko({LitElement:Yo});(null!==(Xo=globalThis.litElementVersions)&&void 0!==Xo?Xo:globalThis.litElementVersions=[]).push("3.3.2");const Qo=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(r){r.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function Jo(e){return(t,r)=>void 0!==r?((e,t,r)=>{t.constructor.createProperty(r,e)})(e,t,r):Qo(e,t)}function Zo(e,t){return(({finisher:e,descriptor:t})=>(r,s)=>{var i;if(void 0===s){const s=null!==(i=r.originalKey)&&void 0!==i?i:r.key,o=null!=t?{kind:"method",placement:"prototype",key:s,descriptor:t(r.key)}:{...r,key:s};return null!=e&&(o.finisher=function(t){e(t,s)}),o}{const i=r.constructor;void 0!==t&&Object.defineProperty(r,s,t(s)),null==e||e(i,s)}})({descriptor:r=>{const s={get(){var t,r;return null!==(r=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==r?r:null},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof r?Symbol():"__"+r;s.get=function(){var r,s;return void 0===this[t]&&(this[t]=null!==(s=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelector(e))&&void 0!==s?s:null),this[t]}}return s}})}var en;null===(en=window.HTMLSlotElement)||void 0===en||en.prototype.assignedElements;console.warn("The main 'lit-element' module entrypoint is deprecated. Please update your imports to use the 'lit' package: 'lit' and 'lit/decorators.ts' or import from 'lit-element/lit-element.ts'. See https://lit.dev/msg/deprecated-import-path for more information.");const tn=1,rn=e=>(...t)=>({_$litDirective$:e,values:t});class sn{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}const on=rn(class extends sn{constructor(e){var t;if(super(e),e.type!==tn||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){var r,s;if(void 0===this.it){this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!(null===(r=this.nt)||void 0===r?void 0:r.has(e))&&this.it.add(e);return this.render(t)}const i=e.element.classList;this.it.forEach((e=>{e in t||(i.remove(e),this.it.delete(e))}));for(const e in t){const r=!!t[e];r===this.it.has(e)||(null===(s=this.nt)||void 0===s?void 0:s.has(e))||(r?(i.add(e),this.it.add(e)):(i.remove(e),this.it.delete(e)))}return ko}}),nn="important",an=" !"+nn,cn=rn(class extends sn{constructor(e){var t;if(super(e),e.type!==tn||"style"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,r)=>{const s=e[r];return null==s?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s};`}),"")}update(e,[t]){const{style:r}=e.element;if(void 0===this.ut){this.ut=new Set;for(const e in t)this.ut.add(e);return this.render(t)}this.ut.forEach((e=>{null==t[e]&&(this.ut.delete(e),e.includes("-")?r.removeProperty(e):r[e]="")}));for(const e in t){const s=t[e];if(null!=s){this.ut.add(e);const t="string"==typeof s&&s.endsWith(an);e.includes("-")||t?r.setProperty(e,t?s.slice(0,-11):s,t?nn:""):r[e]=s}}return ko}}),ln=((e,...t)=>{const r=1===e.length?e[0]:t.reduce(((t,r,s)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[s+1]),e[0]);return new Xi(r,e,qi)})`
  :host {
    --closeButtonSize: 32px;

    --gray-50: #ffffff;
    --gray-200: #eaeaea;
    --gray-400: #cacaca;
    --gray-900: #2c2c2c;

    --cb-background-color: var(--gray-50);
    --cb-shadow: rgba(0, 0, 0, 0.1);
    --cb-x-color: #000000;
  }

  .lightest {
    --loader-border-color: #eaeaea;
    --loader-border-top-color: #2680eb;
  }

  .light {
    --loader-border-color: #e1e1e1;
    --loader-border-top-color: #1473e6;
  }

  .dark {
    --loader-border-color: #4a4a4a;
    --loader-border-top-color: #378ef0;

    --gray-75: #2f2f2f;
    --gray-200: #3e3e3e;
    --gray-400: #5a5a5a;
    --gray-700: #b9b9b9;
    --gray-900: #ffffff;

    --cb-background-color: var(--gray-75);
    --cb-shadow: rgba(255, 255, 255, 0.1);
    --cb-x-color: var(--gray-700);
  }

  .darkest {
    --loader-border-color: #393939;
    --loader-border-top-color: #2680eb;

    --gray-75: #2f2f2f;
    --gray-200: #3e3e3e;
    --gray-400: #5a5a5a;
    --gray-700: #b9b9b9;
    --gray-900: #ffffff;

    --cb-background-color: var(--gray-75);
    --cb-shadow: rgba(255, 255, 255, 0.1);
    --cb-x-color: var(--gray-700);
  }

  :host * {
    box-sizing: border-box;
  }

  .cc-everywhere-root {
    overflow: auto;
    display: flex;
    inset: 0;
    z-index : 99999;

    padding: max(3vh, 36px) max(2vw, 24px);

    background-color: rgba(0, 0, 0, 0.5);
  }

  .cc-everywhere-root-default-parent {
    height: 100vh;
    width: 100vw;
    position: fixed;
  }

  .cc-everywhere-root-custom-parent {
    height: 100%;
    width: 100%;
    position: relative;
  }

  .cc-everywhere-loader {
    position: absolute;
    width: 64px;
    height: 64px;
    top: calc(50% - (64px / 2));
    left: calc(50% - (64px / 2));
    border: 4px solid;
    border-radius: 50%;
    border-right-color: var(--loader-border-color);
    border-bottom-color: var(--loader-border-color);
    border-left-color: var(--loader-border-color);
    border-top-color: var(--loader-border-top-color);
    animation: spin 2s linear infinite;
    z-index: 1;
    //TODO: use spectrum wait component for animation
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  .cc-everywhere-iframe-container {
    flex: 0 1 auto;
    margin: auto;
    display: flex;

    height: 100%;
    width: 100%;

    min-height: var(--iframeContainerMinHeight);
    min-width: var(--iframeContainerMinWidth);

    max-height: var(--iframeContainerMaxHeight);
    max-width: var(--iframeContainerMaxWidth);
  }
  .cc-everywhere-iframe-close-button {
    position: relative;
    cursor: pointer;
    background-color: var(--cb-background-color);
    width: var(--closeButtonSize);
    height: var(--closeButtonSize);
    border-radius: calc(var(--closeButtonSize) * 0.5);
    box-shadow: 0px 0px 5px var(--cb-shadow);
    border: 1px solid var(--gray-200);
    padding: 0;
  }
  .cc-everywhere-iframe-close-button:hover {
    border: 1px solid var(--gray-400);
  }
  .cc-everywhere-iframe-close-button:focus {
    border: 1px solid var(--gray-900);
  }
  .cc-everywhere-iframe-close-button > svg {
    width: 100%;
    height: 100%;
  }
  .cc-everywhere-iframe-close-button path {
    fill: var(--cb-x-color);
  }

  .cc-everywhere-iframe {
    flex-grow: 1;
    padding: 0px;
    border: 0;
    border-radius: 16px;
  }

  /**
   * Iframe styling when close button is visible
   */
  .cc-everywhere-close-button .cc-everywhere-iframe {
    position: relative;

    /* Shift iframe towards right by 12px, to make it partially overlap with close button */
    left: calc(var(--closeButtonSize) * 0.5);

    /* margin-top is required to give vertical space to close button to shift 12px top */
    margin-top: calc(var(--closeButtonSize) * 0.5);
  }

  .cc-everywhere-hidden {
    display: none;
  }

  .cc-everywhere-visibility-hidden {
    visibility: hidden;
  }
`;var un=function(e,t,r,s){var i,o=arguments.length,n=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(n=(o<3?i(n):o>3?i(t,r,n):i(t,r))||n);return o>3&&n&&Object.defineProperty(t,r,n),n};let pn=class extends Yo{get properties(){return this._properties}get state(){return this._state}set state(e){var t,r;switch(e){case Ui.NOT_STARTED:case Ui.LOADING:this._showCloseButton=!1;break;case Ui.IFRAME_LOADED:this._showCloseButton=!0;break;case Ui.LOADED:this._showCloseButton=!!(null===(t=this._properties)||void 0===t?void 0:t.showCloseButton),null===(r=this._iframeElement.contentWindow)||void 0===r||r.focus();break;case Ui.TERMINATED:this._showCloseButton=!1}this._state=e}set closeButton(e){this._showCloseButton=e}static get styles(){return ln}constructor(e){super(),this._channelMessageListener=e,this._state=Ui.NOT_STARTED,this._initializeWithDefaultValues()}firstUpdated(){this._setChannelMessengerTarget()}open(e,t,r){var s,i;if(oe.assert(r),this._callbacks=r,this.state=Ui.LOADING,this._iframeEndpoint=this._iframeEndpoint===e?"about:blank":e,setTimeout((()=>{this._iframeEndpoint!==e&&(this._iframeEndpoint=e)})),this._updateProperties(t),this.isConnected)return this.updateAndUnhide(t);const o=document.getElementById((null===(i=null===(s=this._properties)||void 0===s?void 0:s.modalParams)||void 0===i?void 0:i.parentElementId)||"");this._hasCustomParent=null!==o,o?o.appendChild(this):document.body.append(this)}updateAndUnhide(e){this._setChannelMessengerTarget(),oe.assert(this.isConnected),this._updateProperties(e),this._rootElement.classList.remove("cc-everywhere-hidden"),this.requestUpdate()}hide(){this.isConnected&&this._rootElement.classList.add("cc-everywhere-hidden")}reset(){this.isConnected&&(this.hide(),this._iframeEndpoint="about:blank",this.state=Ui.NOT_STARTED)}destroy(){oe.assert(this.isConnected),this._state=Ui.TERMINATED,this._channelMessageListener.removeTarget("CC_EVERYWHERE_AGENT"),this.remove()}disconnectedCallback(){var e,t;super.disconnectedCallback(),this.state!==Ui.TERMINATED&&((null===(e=this._channelMessageListener.getTarget("CC_EVERYWHERE_AGENT"))||void 0===e?void 0:e.target.closed)&&this._channelMessageListener.removeTarget("CC_EVERYWHERE_AGENT"),this._state=Ui.TERMINATED,null===(t=this._callbacks)||void 0===t||t.didContainerRemove(),this._initializeWithDefaultValues())}render(){var e,t,r,s,i;const{iframe:o,container:n,root:a}=this._dynamicStyles;return Oo`
      <div
        id="cc-everywhere-root"
        class="cc-everywhere-root ${(null===(t=null===(e=this._properties)||void 0===e?void 0:e.modalParams)||void 0===t?void 0:t.colorTheme)||m.LIGHTEST} ${this._hasCustomParent?"cc-everywhere-root-custom-parent":"cc-everywhere-root-default-parent"}
          ${(null===(r=this._properties)||void 0===r?void 0:r.keepTargetHidden)?"cc-everywhere-visibility-hidden":""}"
        style=${cn(a)}
      >
        ${!1!==(null===(i=null===(s=this._properties)||void 0===s?void 0:s.modalParams)||void 0===i?void 0:i.showLoader)?Oo`<div
              class="cc-everywhere-loader ${on({"cc-everywhere-hidden":this._state>Ui.LOADING})}"
              id="cc-everywhere-loader"
            ></div>`:Oo``}
        <div
          class="cc-everywhere-iframe-container ${on({"cc-everywhere-close-button":this._showCloseButton,"cc-everywhere-hidden":this.state<Ui.IFRAME_LOADED})}"
          id="cc-everywhere-iframe-container"
          style=${cn(n)}
        >
          <iframe
            allowfullscreen
            class="cc-everywhere-iframe"
            id="cc-everywhere-iframe"
            style=${cn(o)}
            src=${this._iframeEndpoint}
            allow="microphone; clipboard-write"
          ></iframe>
          <button
            class="cc-everywhere-iframe-close-button ${on({"cc-everywhere-hidden":!this._showCloseButton})}"
            id="cc-everywhere-iframe-close-button"
            @click=${this._onCloseButtonHandler}
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
              <path
                d="M14.155,12.725l-2.7-2.7,2.7-2.7a.778.778,0,1,0-1.1-1.1h0l-2.7,2.7-2.7-2.7a.778.778,0,1,0-1.1,1.1h0l2.7,2.7-2.7,2.7a.778.778,0,0,0,1.1,1.1h0l2.7-2.7,2.7,2.7a.778.778,0,0,0,1.1-1.1Z"
              />
            </svg>
          </button>
        </div>
      </div>
    `}_updateProperties(e){this._properties=e,this.style.setProperty("--iframeContainerMinHeight",e.iframeContainerMinHeight),this.style.setProperty("--iframeContainerMinWidth",e.iframeContainerMinWidth),this.style.setProperty("--iframeContainerMaxHeight",e.iframeContainerMaxHeight),this.style.setProperty("--iframeContainerMaxWidth",e.iframeContainerMaxWidth)}_initializeWithDefaultValues(){this._iframeEndpoint="",this._showCloseButton=!0,this._hasCustomParent=!1,this._callbacks=null,this._properties=null}_onCloseButtonHandler(){var e;null===(e=this._callbacks)||void 0===e||e.didCloseButtonClick()}_setChannelMessengerTarget(){oe.assert(this._callbacks);const e=new URL(this._callbacks.getTargetInfoInternal().url);this._channelMessageListener.setTarget("CC_EVERYWHERE_AGENT",{target:this._iframeElement.contentWindow,origin:e.origin})}get _dynamicStyles(){var e;const{padding:t,size:r,minSize:s,borderRadius:i,backgroundColor:o}=(null===(e=this._properties)||void 0===e?void 0:e.modalParams)||{};return{root:{padding:void 0!==t?`${t}px`:null,minHeight:s?`${s.height}px`:null,minWidth:s?`${s.width}px`:null,backgroundColor:o||null},container:{height:r?`${r.height}px`:null,width:r?`${r.width}px`:null,minHeight:s?`${s.height}px`:null,minWidth:s?`${s.width}px`:null},iframe:{borderRadius:void 0!==i?`${i}px`:null,backgroundColor:"white"}}}};un([Zo("#cc-everywhere-iframe")],pn.prototype,"_iframeElement",void 0),un([Zo("#cc-everywhere-root")],pn.prototype,"_rootElement",void 0),un([Jo()],pn.prototype,"_iframeEndpoint",void 0),un([Jo()],pn.prototype,"_showCloseButton",void 0),un([Jo()],pn.prototype,"_state",void 0),pn=un([(e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:r,elements:s}=t;return{kind:r,elements:s,finisher(t){customElements.define(e,t)}}})(e,t))(`cc-everywhere-container-${Date.now().toString(16)}`)],pn);const hn=pn;var dn=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class mn{constructor(e,t,r,s){this._analyticsManager=e,this._performanceLogger=s,this._authController=t,this._channelMessageListener=r,this._container=new hn(this._channelMessageListener),this._isTargetLoadedOnce=!1,this._messageListener=new Oi(this._channelMessageListener,[D.WILL_TARGET_LOAD,D.DID_TARGET_LOAD,D.EVENT,D.ERROR],this._didMessage.bind(this)),this._messageListener.attachListeners()}open(e,t){return dn(this,void 0,void 0,(function*(){let r,s,i;this._performanceLogger.startMarker("TARGET_LOAD");try{this._containerDelegate=t;const o=this._containerDelegate.getTargetInfoInternal();s=o.url,this.shouldRecreateContainer(e)&&(this._container.isConnected&&this._container.destroy(),this._container=new hn(this._channelMessageListener),this._isTargetLoadedOnce=!1);const n=this._container.state===Ui.LOADED&&(null==t?void 0:t.shouldReuseTarget(this._lastTargetEndpoint)),a=this._getTargetLoadTimeout(n,e);i=!this._authController.shouldSkipJump(this._isTargetLoadedOnce),this._targetLoadWatcher=Vi(this._channelMessageListener),r=this._targetLoadWatcher.start(a),n?(this._container.updateAndUnhide(e),this._navigateInTarget(s)):yield this._openInIframe(o,e)}catch(e){throw this._performanceLogger.removeMarker("TARGET_LOAD"),e}try{const e=yield r;this._logAnalyticsEvent(e.url,e.error,i,e.loadTime),this._lastTargetEndpoint=s}catch(e){if(this._logAnalyticsEvent(s,e,i),e.code!==Ye.TARGET_LOAD_CANCELLED)throw e}}))}close(e){var t;(null===(t=this._targetLoadWatcher)||void 0===t?void 0:t.isRunning())&&this._targetLoadWatcher.interrupt(Q.create(Je.TARGET_LOAD_CANCELLED,"CLOSED_BY_SDK")),e?this._container.reset():this._container.hide()}terminate(){this._messageListener.detachListeners()}didCloseButtonClick(){var e;(null===(e=this._targetLoadWatcher)||void 0===e?void 0:e.isRunning())&&this._targetLoadWatcher.interrupt(Q.create(Je.TARGET_LOAD_CANCELLED,"CLOSE_BUTTON")),this._containerDelegate&&(this._containerDelegate.didCloseButtonClick(),this._containerDelegate=void 0)}didContainerRemove(){var e;(null===(e=this._targetLoadWatcher)||void 0===e?void 0:e.isRunning())&&this._targetLoadWatcher.interrupt(Q.create(Je.TARGET_LOAD_CANCELLED,"DOM_REMOVAL")),this._containerDelegate&&(this._containerDelegate.didContainerRemove(),this._containerDelegate=void 0)}shouldReuseTarget(){throw new Error("Method not implemented.")}getTargetInfoInternal(){return oe.assert(this._containerDelegate),this._containerDelegate.getTargetInfoInternal()}_didMessage(e){switch(e.type){case D.WILL_TARGET_LOAD:return this.willTargetLoad();case D.DID_TARGET_LOAD:return this.didTargetLoad(e.data);case D.EVENT:return this.didEvent(e.data);case D.ERROR:return this.didError(e.data)}}willTargetLoad(){this._container.state=Ui.IFRAME_LOADED}didTargetLoad(e){e.status===k.SUCCESS&&(this._isTargetLoadedOnce=!0,this._container.state=Ui.LOADED)}didEvent(e){e.type===L.UPDATE_CLOSE_BUTTON&&(this._container.closeButton=e.data.showCloseButton)}didError(e){re(e).code===Qe.LOGIN_ERROR&&(this._isTargetLoadedOnce=!1)}shouldRecreateContainer(e){var t,r,s;if(this._container.state===Ui.TERMINATED)return!0;return(null===(r=null===(t=this._container.properties)||void 0===t?void 0:t.modalParams)||void 0===r?void 0:r.parentElementId)!==(null===(s=null==e?void 0:e.modalParams)||void 0===s?void 0:s.parentElementId)}_openInIframe(e,t){return dn(this,void 0,void 0,(function*(){const r=this._authController.shouldSkipJump(this._isTargetLoadedOnce),s=yield this._authController.getTargetUrl(e,r);this._container.open(s,t,this)}))}_navigateInTarget(e){const t=Xe.getActiveRequestId()||Xe.createRequestId(),r={type:D.NAVIGATION_REQUEST,data:{targetEndpoint:e,requestId:t}};this._channelMessageListener.sendMessage("CC_EVERYWHERE_AGENT",r)}_logAnalyticsEvent(e,t,r,s){try{let i;i=void 0===t?$e.LOAD.Success:(null==t?void 0:t.code)===Ye.TARGET_LOAD_CANCELLED?Object.assign({},$e.LOAD.Cancel,{value:t.toData().subError}):Object.assign($e.LOAD.Error,{errorCode:t.code,errorType:t.toData().subError,errorDesc:t.toString()});const o=new URL(e);i.pagename=o.pathname,i.jumpFlow=null==r?void 0:r.toString(),s&&(i.workflowTime=s),this._performanceLogger.endMarker("TARGET_LOAD"),this._analyticsManager.logEvent(i)}catch(t){this._analyticsManager.logError("Analytics.log",Qe.ANALYTICS_ERROR,t)}}_getTargetLoadTimeout(e,t){var r;return e?5e3:(null===(r=t.modalParams)||void 0===r?void 0:r.loadTimeout)||9e4}}var fn=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};const yn={major:0,minor:0},gn=v.WEB,bn=E.ENGLISH,En=g.PRODUCTION,vn=b.OPTED_IN;class wn{constructor(e,t,r,s,i,o){i=fi(i),o=fi(o),r.appVersion=r.appVersion||yn,r.platformCategory=r.platformCategory||gn,(i=i||{profile:null}).piipStatus=i.piipStatus||vn,s.env=s.env||En,s.locale=s.locale||bn,this.configParams=s;const n=Object.assign(Object.assign({},r),function(e){let t,r;const{clientId:s,referrer:i}=e;switch(!0){case s===ae.CONFIG.CLIENTS.ACROBAT.DESKTOP.CLIENT_ID:case 0===s.search(ae.CONFIG.CLIENTS.ACROBAT.WEB.CLIENT_ID_REGEX):t=T.FIRST_PARTY,r=w.ACROBAT;break;case s.startsWith(ae.CONFIG.CLIENTS.CCD.CLIENT_ID_PREFIX):t=T.FIRST_PARTY,r=w.CCD;break;case s===ae.CONFIG.CLIENTS.CONTENT_CAL.CLIENT_ID:t=T.FIRST_PARTY,r=w.CONTENT_CAL;break;case s===ae.CONFIG.CLIENTS.STOCK.CLIENT_ID:t=T.FIRST_PARTY,r=w.STOCK;break;case s===ae.CONFIG.CLIENTS.AEM_ASSETS.CLIENT_ID:t=T.FIRST_PARTY,r=w.AEM_ASSETS;break;case s===ae.CONFIG.CLIENTS.TEST_APP.FIRST_PARTY_CLIENT_ID:t=T.FIRST_PARTY,r=w.ACROBAT;break;default:t=T.THIRD_PARTY,r=w.OTHER}return{referrer:i,isFirstPartyHost:t===T.FIRST_PARTY,type:t,id:r}}({clientId:r.clientId,referrer:window.location.origin})),a=new tt(i,n,this.configParams.locale),c=new ki(a);c.startMarker("INITIALISE_SDK");const l=new gi("CC_EVERYWHERE_SDK",!0),u=new t(a,c,l,n,s.locale,i,o),p=new mn(a,u,l,c);this.context={analyticsManager:a,authController:u,channelMessageListener:l,containerManager:p,performanceLogger:c,validator:e,hostInfo:n,userInfo:i},wn._activeInstance=this,c.endMarker("INITIALISE_SDK"),a.logEvent(je),Xe.attachUpdateListener(this)}static get activeInstance(){return this._activeInstance}get version(){return De}close(){return void 0===this._activeAction?(et.error(Q.create(Je.NO_ACTIVE_WORKFLOW)),!1):(this._activeAction.close("HOST"),!0)}terminate(){var e,t;wn._activeInstance=null;const{authController:r,channelMessageListener:s,containerManager:i}=this.context;null===(e=this._activeAction)||void 0===e||e.close("SDK_TERMINATED"),this._activeAction=void 0,null===(t=this._messageListener)||void 0===t||t.detachListeners(),Xe.detachUpdateListener(this),r.resetAuthAndProfileInfo(),s.reset(),i.terminate()}onRequestIdUpdate(e){this.context.channelMessageListener.setRequestId(e)}launchAction(e,t,r){var s,i,o;return fn(this,void 0,void 0,(function*(){if(null===wn._activeInstance||wn._activeInstance!==this)throw new Q(Qe.SDK_NOT_INITIALIZED);(null===(s=this._activeAction)||void 0===s?void 0:s.isActive())&&this._cancelActiveActionOrThrowIfNotCancellable(),(null===(i=this._activeAction)||void 0===i?void 0:i.isTerminating())&&(null===(o=this._activeAction)||void 0===o||o.close("CLOSED_BY_SDK")),t=fi(t);const{configParams:n}=this,a=Object.assign(Object.assign({},this.context),{params:{configParams:n,designParams:t,targetUrl:r}}),{channelMessageListener:c}=this.context;this._messageListener&&this._messageListener.detachListeners(),this._messageListener=new Oi(c,[D.EVENT],this._didReceiveEvent.bind(this,t)),this._messageListener.attachListeners(),Xe.createRequestId();const l=new e(a),u=l.execute();return this._activeAction=l,u}))}_cancelActiveActionOrThrowIfNotCancellable(){var e;if(!(null===(e=this._activeAction)||void 0===e?void 0:e.isCancellable())){const e=Q.create(Je.WORKFLOW_ALREADY_IN_PROGRESS);throw this.context.analyticsManager.logError("launchAction",Qe.WORKFLOW_ALREADY_IN_PROGRESS,e),e}this._activeAction.close("WORKFLOW_CHANGED")}_didReceiveEvent(e,t){var r,s;oe.assert(t.type===D.EVENT);const i=t.data;if(i.type!==L.WORKFLOW_CHANGED)return;const{oldWorkflow:o,newWorkflow:n,newWorkflowUrl:a}=i.data;oe.assert(this._getAllowedWorkflowAfterChange(o)===n),oe.assert(null===(r=this._activeAction)||void 0===r?void 0:r.isActive()),null===(s=this._activeAction)||void 0===s||s.close("WORKFLOW_CHANGED");const{outputParams:c,modalParams:l,callbacks:u}=e;this.launchAction(Fi,{outputParams:c,modalParams:l,callbacks:u},a)}_getAllowedWorkflowAfterChange(e){if(e===A.QUICK_ACTION)return A.CREATE_DESIGN;oe.assert(!1)}}wn._activeInstance=null;var Tn,Pn=r(4155),_n=function(e,t,r){if(r||2===arguments.length)for(var s,i=0,o=t.length;i<o;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},In=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},An=function(e){this.version=e,this.type="node",this.name="node",this.os=Pn.platform},Sn=function(e,t,r,s){this.name=e,this.version=t,this.os=r,this.bot=s,this.type="bot-device"},Cn=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},On=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},kn=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Rn=3,Dn=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ln=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Nn(e){return e?Mn(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new On:"undefined"!=typeof navigator?Mn(navigator.userAgent):void 0!==Pn&&Pn.version?new An(Pn.version.slice(1)):null}function xn(e){return""!==e&&Dn.reduce((function(t,r){var s=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[s,o]}),!1)}function Mn(e){var t=xn(e);if(!t)return null;var r=t[0],s=t[1];if("searchbot"===r)return new Cn;var i=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);i?i.length<Rn&&(i=_n(_n([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(Rn-i.length),!0)):i=[];var o=i.join("."),n=function(e){for(var t=0,r=Ln.length;t<r;t++){var s=Ln[t],i=s[0];if(s[1].exec(e))return i}return null}(e),a=kn.exec(e);return a&&a[1]?new Sn(r,o,n,a[1]):new In(r,o,n)}!function(e){e.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED"}(Tn||(Tn={}));const jn=JSON.parse('{"chrome":"100.0.0","edge":"107.0.0","edge-chromium":"107.0.0","safari":"16.0.0"}');var $n,Un,Bn,Gn,Fn=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};function Vn(e){return Fn(this,void 0,void 0,(function*(){const t=Nn();if("browser"!==(null==t?void 0:t.type)||!t.name)return;const r=yield function(e){return Fn(this,void 0,void 0,(function*(){const t=`v${null==Re?void 0:Re.major}/browsers_config.json`,r=function(e,t){const{FIRST_PARTY_BASE:r,THIRD_PARTY_BASE:s}=ae.CONFIG.CLIENTS.CC_EVERYWHERE_SDK;return`${e?r:s}/${t}`}(e,t);try{return yield se(r)}catch(e){return jn}}))}(e),s=r[t.name];if(!(s&&(0,ce.compare)(t.version,s)>=0))throw Q.create(Je.SDK_NOT_SUPPORTED,Tn.BROWSER_NOT_SUPPORTED,{[t.name]:s})}))}!function(e){e.IMAGE="Edit Image",e.VIDEO="Edit Video"}($n||($n={})),function(e){e.CONVERT_TO_JPEG="convert-to-jpg",e.CONVERT_TO_PNG="convert-to-png",e.CONVERT_TO_SVG="convert-to-svg",e.IMAGE_CROP="crop-image",e.IMAGE_RESIZE="resize-image",e.REMOVE_BACKGROUND="remove-background"}(Un||(Un={})),function(e){e.CONVERT_TO_GIF="convert-to-gif",e.CONVERT_TO_MP4="convert-to-mp4",e.CROP_VIDEO="crop-video",e.MERGE_VIDEOS="merge-videos",e.RESIZE_VIDEO="resize-video",e.TRIM_VIDEO="trim-video",e.ANIMATE_FROM_AUDIO="animate-from-audio"}(Bn||(Bn={})),function(e){e.CONVERT_TO_PDF="convert-to-pdf",e.EXPORT_PDF="convert-from-pdf",e.ORGANIZE_PDF="organize-pdf",e.COMBINE_PDF="combine-pdf",e.EDIT_PDF="edit-pdf"}(Gn||(Gn={}));var Hn=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class zn extends Mi{constructor(e){const t={shouldCloseOnPublishOrCancel:!1,containerProperties:Object.assign(Object.assign({},ji),{showCloseButton:!0})};super(e,A.QUICK_ACTION,"QUICK_ACTION",t)}shouldReuseTarget(){return!1}didPublish(e){const t=Object.create(null,{didPublish:{get:()=>super.didPublish}});return Hn(this,void 0,void 0,(function*(){oe.assert(e.asset);const{id:r,outputParams:s}=this.context.params.designParams;Array.isArray(e.asset)||(e.asset=[e.asset]),this._getQuickActionSubCategory(r)!==$n.VIDEO&&(null==s?void 0:s.outputType)===i.URL&&(yield ie(e.asset)),e.targetInfo&&e.targetInfo.url&&(e.targetInfo.clientId=ae.CONFIG.CLIENTS.CCX.EDITOR.CLIENT_ID),this._updateCloseTarget(e.exportButtonId),t.didPublish.call(this,e)}))}getAnalyticsStageEvent(e,t){const[r,s]=e;switch(r){case"Start":return this._getAnalyticsStartEvent(t);case"Success":return this._getAnalyticsSuccessEvent(t,s);default:return super.getAnalyticsStageEvent(e,t)}}getAnalyticsCustomProperties(){const{id:e}=this.context.params.designParams;return{subcategory:this._getQuickActionSubCategory(e),contentName:e}}validate(){const e=Object.create(null,{validate:{get:()=>super.validate}});return Hn(this,void 0,void 0,(function*(){yield e.validate.call(this);const{id:r,inputParams:s}=this.context.params.designParams,i=this._getQuickActionSubCategory(r);if(s&&s.asset){if(i===$n.VIDEO&&!Array.isArray(s.asset))throw Q.create(Je.INVALID_ASSET_TYPE);if(i===$n.IMAGE&&(Array.isArray(s.asset)||s.asset.type!==t.IMAGE))throw Q.create(Je.INVALID_IMAGE_DATA_URL)}}))}_updateCloseTarget(e){var t,r;oe.assert(this.actionProperties);const s=null===(t=this.context.params.designParams.inputParams)||void 0===t?void 0:t.exportOptions;oe.assert(s&&s.length>0);const i=Bi(s,e);this.actionProperties.shouldCloseOnPublishOrCancel=null!==(r=null==i?void 0:i.closeTargetOnExport)&&void 0!==r&&r}_getAnalyticsStartEvent(e){return Object.assign({},e,this.getAnalyticsCustomProperties())}_getAnalyticsSuccessEvent(e,t){const{asset:r}=t;oe.assert(r);return Object.assign({},e,{contentExtension:r[0].fileType},this.getAnalyticsCustomProperties())}_getQuickActionSubCategory(e){switch(!0){case Object.values(Un).includes(e):return $n.IMAGE;case Object.values(Bn).includes(e):return $n.VIDEO;default:oe.assert(!1)}}}var qn=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class Wn extends Mi{constructor(e){const t={shouldCloseOnPublishOrCancel:!0,containerProperties:Object.assign(Object.assign({},$i),{showCloseButton:!1})};super(e,A.EDIT_DESIGN,"EDIT_DESIGN",t)}shouldReuseTarget(){return!1}didPublish(e){const t=Object.create(null,{didPublish:{get:()=>super.didPublish}});var r;return qn(this,void 0,void 0,(function*(){(null===(r=this.context.params.designParams.outputParams)||void 0===r?void 0:r.outputType)===i.URL&&(yield ie(e.asset)),e.exportButtonId&&this._updateCloseTarget(e.exportButtonId),t.didPublish.call(this,e)}))}initializeDefaultParams(e){var t,r;super.initializeDefaultParams(e);const s=e.inputParams||{};s.editorPanelView=null!==(t=s.editorPanelView)&&void 0!==t?t:"templates",e.inputParams=s;const i=e.outputParams||{};i.multiPage=null===(r=i.multiPage)||void 0===r||r,e.outputParams=i}getAnalyticsStageEvent(e,t){const[r,s]=e;switch(r){case"Start":return this._getAnalyticsStartEvent(t);case"Success":return this._getAnalyticsSuccessEvent(t,s);default:return super.getAnalyticsStageEvent(e,t)}}_updateCloseTarget(e){var t;oe.assert(this.actionProperties);const r=null===(t=this.context.params.designParams.inputParams)||void 0===t?void 0:t.exportOptions;if(!r)return;const s=Bi(r,e);!1===(null==s?void 0:s.closeTargetOnExport)&&(this.actionProperties.shouldCloseOnPublishOrCancel=!1)}_getAnalyticsStartEvent(e){const{outputParams:t,inputParams:r}=this.context.params.designParams;return Object.assign({},e,{contentId:r.projectId},(null==t?void 0:t.allowedFileTypes)?{contentExtension:t.allowedFileTypes}:null)}_getAnalyticsSuccessEvent(e,t){const{asset:r,projectId:s}=t;return Object.assign({},e,{contentId:s},{contentExtension:r[0].fileType})}}const Xn=te((function e(t,{instancePath:r="",parentData:s,parentDataProperty:i,rootData:o=t}={}){let n=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==t.modalParams){const e=a;Jn(t.modalParams,{instancePath:r+"/modalParams",parentData:t,parentDataProperty:"modalParams",rootData:o})||(n=null===n?Jn.errors:n.concat(Jn.errors),a=n.length);var c=e===a}else c=!0;if(c){if(void 0!==t.inputParams){const e=a;la(t.inputParams,{instancePath:r+"/inputParams",parentData:t,parentDataProperty:"inputParams",rootData:o})||(n=null===n?la.errors:n.concat(la.errors),a=n.length);c=e===a}else c=!0;if(c){if(void 0!==t.outputParams){let s=t.outputParams;const i=a;if(a===a){if(!s||"object"!=typeof s||Array.isArray(s))return e.errors=[{instancePath:r+"/outputParams",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==s.allowedFileTypes){let t=s.allowedFileTypes;const i=a;if(a===i){if(!Array.isArray(t))return e.errors=[{instancePath:r+"/outputParams/allowedFileTypes",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/allowedFileTypes/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const s=t.length;for(let i=0;i<s;i++){let s=t[i];const o=a;if("string"!=typeof s)return e.errors=[{instancePath:r+"/outputParams/allowedFileTypes/"+i,schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/allowedFileTypes/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("application/pdf"!==s&&"image/jpeg"!==s&&"image/png"!==s&&"video/mp4"!==s)return e.errors=[{instancePath:r+"/outputParams/allowedFileTypes/"+i,schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/allowedFileTypes/items/enum",keyword:"enum",params:{allowedValues:Yn.properties.allowedFileTypes.items.enum},message:"must be equal to one of the allowed values"}],!1;if(!(o===a))break}}}var l=i===a}else l=!0;if(l){if(void 0!==s.multiPage){const t=a;if("boolean"!=typeof s.multiPage)return e.errors=[{instancePath:r+"/outputParams/multiPage",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/multiPage/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;l=t===a}else l=!0;if(l){if(void 0!==s.imageQuality){let t=s.imageQuality;const i=a;if(a===i){if("number"!=typeof t||!isFinite(t))return e.errors=[{instancePath:r+"/outputParams/imageQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/imageQuality/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(t>1||isNaN(t))return e.errors=[{instancePath:r+"/outputParams/imageQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/imageQuality/maximum",keyword:"maximum",params:{comparison:"<=",limit:1},message:"must be <= 1"}],!1;if(t<0||isNaN(t))return e.errors=[{instancePath:r+"/outputParams/imageQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/imageQuality/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}l=i===a}else l=!0;if(l){if(void 0!==s.videoQuality){let t=s.videoQuality;const i=a;if("number"!=typeof t||!isFinite(t))return e.errors=[{instancePath:r+"/outputParams/videoQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/videoQuality/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(1280!==t&&1920!==t&&2160!==t)return e.errors=[{instancePath:r+"/outputParams/videoQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/videoQuality/enum",keyword:"enum",params:{allowedValues:Yn.properties.videoQuality.enum},message:"must be equal to one of the allowed values"}],!1;l=i===a}else l=!0;if(l)if(void 0!==s.outputType){let t=s.outputType;const i=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/outputType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("base64"!==t&&"url"!==t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/outputType/enum",keyword:"enum",params:{allowedValues:Yn.properties.outputType.enum},message:"must be equal to one of the allowed values"}],!1;l=i===a}else l=!0}}}}c=i===a}else c=!0;if(c)if(void 0!==t.callbacks){let s=t.callbacks;const i=a;if(a===a&&(!s||"object"!=typeof s||Array.isArray(s)))return e.errors=[{instancePath:r+"/callbacks",schemaPath:"#/definitions/Callbacks.b6fdcbb5/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;c=i===a}else c=!0}}}return e.errors=n,0===a}),"CreateDesignParams"),Yn={description:"Desired output options when exporting the asset from CCX.",type:"object",properties:{allowedFileTypes:{description:"Specify the list of filetypes that the user can download.\nThis can be used to limit the download options as per file types for end users.\nThis limitation is applied to both native download and custom download scenarios.",type:"array",items:{enum:["application/pdf","image/jpeg","image/png","video/mp4"],type:"string"}},multiPage:{default:!0,type:"boolean"},imageQuality:{description:"Value between 0 and 1 to control the quality of the image.\nCurrently, only supported for ImageFileType.JPEG and for getRendition API.",minimum:0,maximum:1,type:"number"},videoQuality:{description:"Currently, only supported for getRendition API.",enum:[1280,1920,2160],type:"number"},outputType:{description:"Desired asset data type for images.\nFor image output types, host can set this property to either base64 or url. Default type for images is base64.\nFor videos, we will always send output as url irrespective of this property.",default:"base64",enum:["base64","url"],type:"string"}}},Kn={description:"Parameters to define CCX Editor UI & Modal dialog constraints.",type:"object",properties:{parentElementId:{description:"Id of element to which iframe must be appended. By default it is appended to body.",type:"string"},size:{$ref:"#/definitions/PixelSize.83e9f592"},minSize:{$ref:"#/definitions/PixelSize.83e9f592"},padding:{type:"number"},borderRadius:{type:"number"},backgroundColor:{type:"string"},colorTheme:{enum:["dark","darkest","light","lightest"],type:"string"},spectrumTheme:{enum:["express","spectrum"],type:"string"},scale:{enum:["large","medium"],type:"string"},loadTimeout:{description:"If target app does't open within this time (in ms, same as of setTimeout),\nthe error callback is invoked with error code TARGET_LOAD_TIMED_OUT.",type:"number"},showLoader:{description:"Show spinner while loading target app. Default is true.",type:"boolean"}}},Qn={type:"object",properties:{unit:{type:"string",enum:["px"]},width:{minimum:0,type:"number"},height:{minimum:0,type:"number"}},required:["height","unit","width"]};function Jn(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Jn.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.parentElementId){const r=0;if("string"!=typeof e.parentElementId)return Jn.errors=[{instancePath:t+"/parentElementId",schemaPath:"#/properties/parentElementId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.size){let r=e.size;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Jn.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Jn.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Jn.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Jn.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:Qn.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var n=0===s}else n=!0;if(n){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Jn.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Jn.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0;if(n)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Jn.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Jn.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.minSize){let r=e.minSize;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Jn.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Jn.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Jn.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Jn.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:Qn.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var a=0===s}else a=!0;if(a){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Jn.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Jn.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0;if(a)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Jn.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Jn.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.padding){let r=e.padding;const s=0;if("number"!=typeof r||!isFinite(r))return Jn.errors=[{instancePath:t+"/padding",schemaPath:"#/properties/padding/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.borderRadius){let r=e.borderRadius;const s=0;if("number"!=typeof r||!isFinite(r))return Jn.errors=[{instancePath:t+"/borderRadius",schemaPath:"#/properties/borderRadius/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.backgroundColor){const r=0;if("string"!=typeof e.backgroundColor)return Jn.errors=[{instancePath:t+"/backgroundColor",schemaPath:"#/properties/backgroundColor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.colorTheme){let r=e.colorTheme;const s=0;if("string"!=typeof r)return Jn.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dark"!==r&&"darkest"!==r&&"light"!==r&&"lightest"!==r)return Jn.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/enum",keyword:"enum",params:{allowedValues:Kn.properties.colorTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.spectrumTheme){let r=e.spectrumTheme;const s=0;if("string"!=typeof r)return Jn.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("express"!==r&&"spectrum"!==r)return Jn.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/enum",keyword:"enum",params:{allowedValues:Kn.properties.spectrumTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.scale){let r=e.scale;const s=0;if("string"!=typeof r)return Jn.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("large"!==r&&"medium"!==r)return Jn.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/enum",keyword:"enum",params:{allowedValues:Kn.properties.scale.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.loadTimeout){let r=e.loadTimeout;const s=0;if("number"!=typeof r||!isFinite(r))return Jn.errors=[{instancePath:t+"/loadTimeout",schemaPath:"#/properties/loadTimeout/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o)if(void 0!==e.showLoader){const r=0;if("boolean"!=typeof e.showLoader)return Jn.errors=[{instancePath:t+"/showLoader",schemaPath:"#/properties/showLoader/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}}}}return Jn.errors=null,!0}const Zn={description:"Input parameters to create a design.",type:"object",properties:{canvasSize:{description:"Canvas and template size or aspect ratio.",anyOf:[{$ref:"#/definitions/Size.04c53e0a"},{enum:["AlbumCover","BannerPrint","BannerWeb","BlogGraphic","BlogHeader","BookCover","Bookmark","Brochure","BusinessCard","Calendar","CardGreeting","Certificate","Checklist","ClassSchedule","ComicStrip","ConceptMap","CouponSheet","CoverPage","DisplayAd","DividerPage","EbookCover","EmailHeader","EtsyCover","EtsyShopBanner","EventbriteEventImage","Facebook","FacebookAd","FacebookEventCover","FacebookGroupCover","FacebookPageCover","FacebookProfileCover","FacebookShopCover","FacebookStory","FlashCard","FlashCardSheet","Flyer","GiftCertificate","GiftTag","GoogleClassroomBanner","Graph","GraphicOrganizer","IdCard","Infographic","Instagram","InstagramAd","InstagramCarousel","InstagramLandscape","InstagramPortraitPost","InstagramReel","InstagramStory","InstagramStoryAd","Invitation","Invoice","Label","LabelSheet","LeafletTrifold","LessonPlan","Letter","Letterhead","LinkedInBlogPost","LinkedInProfileCover","LinkedinPost","Logo","Magazine","MediaKit","Meme","Memo","Menu","Mindmap","MobileVideo","Mug","NameTag","Newsletter","Pamphlet","PhotoBook","Pinterest","PinterestIdeaPin","PinterestSquare","PinterestVertical","PlaceCard","Planner","PlaylistCover","PodcastCover","Postcard","Poster","Presentation","PrintAd","Program","Proposal","RecipeCard","RedditCover","Report","ReportCard","Resume","Rubric","SnapchatAd","SnapchatStory","SoundcloudBanner","TableOfContents","Ticket","TiktokAd","TiktokVideo","Tshirt","TumblrBanner","TwitchBanner","TwitchOverlay","Twitter","TwitterHeader","TwitterVideo","Video","WallpaperDesktop","WallpaperMobile","Worksheet","YouTubeChannelArt","YoutubeDisplayAds","YoutubeProfilePhoto","YoutubeShorts","YoutubeThumbnail","YoutubeVideo","YoutubeVideoAd","ZoomBackground"],type:"string"}]},templateType:{description:"Canvas template type",enum:["brochure","business-card","card-greeting","facebook-post","facebook-profile-cover","facebook-story","flyer","graphic-organizer","infographic","instagram-carousel","instagram-reel","instagram-square-post","instagram-story","invitation","invoice","linkedin-profile-cover","logo","meme","menu","mobile-video","newsletter","photo-book","poster","presentation","resume","tiktok-video","video","wallpaper-desktop","worksheet","youtube-profile-photo","youtube-thumbnail","youtube-video"],type:"string"},asset:{description:"Asset from the host application to start editing with.",$ref:"#/definitions/Asset.a5663331"},editorPanelView:{description:"Category to show by default",enum:["elements","media","search","templates","text","yourStuff"],type:"string"},panelSearchText:{description:"Search text to pass in the editor for selected panel.",type:"string"},exportOptions:{description:"Export options for the asset that is created. These options would be visible in the embed header.\nIf no export options are specified, the editor falls back to the default layout options.",type:"array",items:{description:"Export options relavant for Editor use case in Project X.",anyOf:[{$ref:'#/definitions/Omit<NativeExportButton,"optionType"|"context"|"featureList"|"iconUrl">.b804a04a'},{$ref:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a'}]}}}},ea={type:"object",properties:{label:{description:"Localized text of the export button.",type:"string"},buttonType:{description:"Type of the export button",type:"string",enum:["custom"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},target:{description:"Quick action will use target to render a custom button",type:"string",enum:["Host"]},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","label","target"]},ta={enum:["cm","in","mm","px"],type:"string"};function ra(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return ra.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.height&&(r="height")||void 0===e.unit&&(r="unit")||void 0===e.width&&(r="width"))return ra.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.width){let r=e.width;const s=0;if(0===s){if("number"!=typeof r||!isFinite(r))return ra.errors=[{instancePath:t+"/width",schemaPath:"#/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(r<0||isNaN(r))return ra.errors=[{instancePath:t+"/width",schemaPath:"#/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var o=0===s}else o=!0;if(o){if(void 0!==e.height){let r=e.height;const s=0;if(0===s){if("number"!=typeof r||!isFinite(r))return ra.errors=[{instancePath:t+"/height",schemaPath:"#/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(r<0||isNaN(r))return ra.errors=[{instancePath:t+"/height",schemaPath:"#/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}o=0===s}else o=!0;if(o)if(void 0!==e.unit){let r=e.unit;const s=0;if("string"!=typeof r)return ra.errors=[{instancePath:t+"/unit",schemaPath:"#/definitions/SizeUnit.90df1722/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("cm"!==r&&"in"!==r&&"mm"!==r&&"px"!==r)return ra.errors=[{instancePath:t+"/unit",schemaPath:"#/definitions/SizeUnit.90df1722/enum",keyword:"enum",params:{allowedValues:ta.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0}}return ra.errors=null,!0}const sa={description:"File format supported for design operations",enum:["image","pdf","video"],type:"string"},ia={enum:["base64","url"],type:"string"};function oa(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return oa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.data&&(r="data")||void 0===e.dataType&&(r="dataType")||void 0===e.type&&(r="type"))return oa.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.type){let r=e.type;const s=0;if("string"!=typeof r)return oa.errors=[{instancePath:t+"/type",schemaPath:"#/definitions/AssetType.2beee339/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("image"!==r&&"pdf"!==r&&"video"!==r)return oa.errors=[{instancePath:t+"/type",schemaPath:"#/definitions/AssetType.2beee339/enum",keyword:"enum",params:{allowedValues:sa.enum},message:"must be equal to one of the allowed values"}],!1;var o=0===s}else o=!0;if(o){if(void 0!==e.dataType){let r=e.dataType;const s=0;if("string"!=typeof r)return oa.errors=[{instancePath:t+"/dataType",schemaPath:"#/definitions/AssetDataType.ec6109d0/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("base64"!==r&&"url"!==r)return oa.errors=[{instancePath:t+"/dataType",schemaPath:"#/definitions/AssetDataType.ec6109d0/enum",keyword:"enum",params:{allowedValues:ia.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o)if(void 0!==e.data){const r=0;if("string"!=typeof e.data)return oa.errors=[{instancePath:t+"/data",schemaPath:"#/properties/data/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0}}return oa.errors=null,!0}const na={type:"object",properties:{label:{description:"Localized text of the export button.",type:"string"},buttonType:{description:"Type of the export button",type:"string",enum:["native"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},target:{$ref:"#/definitions/NativeExportTarget.36083532"},getEditorUrl:{description:"Fetch the Express Editor Url for the edited asset instead of asset info. This is only applicable when target is Editor.\nBy default this will be false",type:"boolean"},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","target"]},aa={description:"Allows the Quick Task to determine the type of native export button.",enum:["Download","Editor"],type:"string"};function ca(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return ca.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.buttonType&&(r="buttonType")||void 0===e.id&&(r="id")||void 0===e.target&&(r="target"))return ca.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.label){const r=0;if("string"!=typeof e.label)return ca.errors=[{instancePath:t+"/label",schemaPath:"#/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.buttonType){let r=e.buttonType;const s=0;if("string"!=typeof r)return ca.errors=[{instancePath:t+"/buttonType",schemaPath:"#/properties/buttonType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("native"!==r)return ca.errors=[{instancePath:t+"/buttonType",schemaPath:"#/properties/buttonType/enum",keyword:"enum",params:{allowedValues:na.properties.buttonType.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.variant){let r=e.variant;const s=0;if("string"!=typeof r)return ca.errors=[{instancePath:t+"/variant",schemaPath:"#/properties/variant/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("accent"!==r&&"cta"!==r&&"primary"!==r&&"secondary"!==r)return ca.errors=[{instancePath:t+"/variant",schemaPath:"#/properties/variant/enum",keyword:"enum",params:{allowedValues:na.properties.variant.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.target){let r=e.target;const s=0;if("string"!=typeof r)return ca.errors=[{instancePath:t+"/target",schemaPath:"#/definitions/NativeExportTarget.36083532/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Download"!==r&&"Editor"!==r)return ca.errors=[{instancePath:t+"/target",schemaPath:"#/definitions/NativeExportTarget.36083532/enum",keyword:"enum",params:{allowedValues:aa.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.getEditorUrl){const r=0;if("boolean"!=typeof e.getEditorUrl)return ca.errors=[{instancePath:t+"/getEditorUrl",schemaPath:"#/properties/getEditorUrl/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.id){const r=0;if("string"!=typeof e.id)return ca.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o)if(void 0!==e.closeTargetOnExport){const r=0;if("boolean"!=typeof e.closeTargetOnExport)return ca.errors=[{instancePath:t+"/closeTargetOnExport",schemaPath:"#/properties/closeTargetOnExport/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}return ca.errors=null,!0}function la(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){let o=null,n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return la.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.canvasSize){let r=e.canvasSize;const s=n,l=n;let u=!1;const p=n;ra(r,{instancePath:t+"/canvasSize",parentData:e,parentDataProperty:"canvasSize",rootData:i})||(o=null===o?ra.errors:o.concat(ra.errors),n=o.length);var a=p===n;if(u=u||a,!u){const e=n;if("string"!=typeof r){const e={instancePath:t+"/canvasSize",schemaPath:"#/properties/canvasSize/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("AlbumCover"!==r&&"BannerPrint"!==r&&"BannerWeb"!==r&&"BlogGraphic"!==r&&"BlogHeader"!==r&&"BookCover"!==r&&"Bookmark"!==r&&"Brochure"!==r&&"BusinessCard"!==r&&"Calendar"!==r&&"CardGreeting"!==r&&"Certificate"!==r&&"Checklist"!==r&&"ClassSchedule"!==r&&"ComicStrip"!==r&&"ConceptMap"!==r&&"CouponSheet"!==r&&"CoverPage"!==r&&"DisplayAd"!==r&&"DividerPage"!==r&&"EbookCover"!==r&&"EmailHeader"!==r&&"EtsyCover"!==r&&"EtsyShopBanner"!==r&&"EventbriteEventImage"!==r&&"Facebook"!==r&&"FacebookAd"!==r&&"FacebookEventCover"!==r&&"FacebookGroupCover"!==r&&"FacebookPageCover"!==r&&"FacebookProfileCover"!==r&&"FacebookShopCover"!==r&&"FacebookStory"!==r&&"FlashCard"!==r&&"FlashCardSheet"!==r&&"Flyer"!==r&&"GiftCertificate"!==r&&"GiftTag"!==r&&"GoogleClassroomBanner"!==r&&"Graph"!==r&&"GraphicOrganizer"!==r&&"IdCard"!==r&&"Infographic"!==r&&"Instagram"!==r&&"InstagramAd"!==r&&"InstagramCarousel"!==r&&"InstagramLandscape"!==r&&"InstagramPortraitPost"!==r&&"InstagramReel"!==r&&"InstagramStory"!==r&&"InstagramStoryAd"!==r&&"Invitation"!==r&&"Invoice"!==r&&"Label"!==r&&"LabelSheet"!==r&&"LeafletTrifold"!==r&&"LessonPlan"!==r&&"Letter"!==r&&"Letterhead"!==r&&"LinkedInBlogPost"!==r&&"LinkedInProfileCover"!==r&&"LinkedinPost"!==r&&"Logo"!==r&&"Magazine"!==r&&"MediaKit"!==r&&"Meme"!==r&&"Memo"!==r&&"Menu"!==r&&"Mindmap"!==r&&"MobileVideo"!==r&&"Mug"!==r&&"NameTag"!==r&&"Newsletter"!==r&&"Pamphlet"!==r&&"PhotoBook"!==r&&"Pinterest"!==r&&"PinterestIdeaPin"!==r&&"PinterestSquare"!==r&&"PinterestVertical"!==r&&"PlaceCard"!==r&&"Planner"!==r&&"PlaylistCover"!==r&&"PodcastCover"!==r&&"Postcard"!==r&&"Poster"!==r&&"Presentation"!==r&&"PrintAd"!==r&&"Program"!==r&&"Proposal"!==r&&"RecipeCard"!==r&&"RedditCover"!==r&&"Report"!==r&&"ReportCard"!==r&&"Resume"!==r&&"Rubric"!==r&&"SnapchatAd"!==r&&"SnapchatStory"!==r&&"SoundcloudBanner"!==r&&"TableOfContents"!==r&&"Ticket"!==r&&"TiktokAd"!==r&&"TiktokVideo"!==r&&"Tshirt"!==r&&"TumblrBanner"!==r&&"TwitchBanner"!==r&&"TwitchOverlay"!==r&&"Twitter"!==r&&"TwitterHeader"!==r&&"TwitterVideo"!==r&&"Video"!==r&&"WallpaperDesktop"!==r&&"WallpaperMobile"!==r&&"Worksheet"!==r&&"YouTubeChannelArt"!==r&&"YoutubeDisplayAds"!==r&&"YoutubeProfilePhoto"!==r&&"YoutubeShorts"!==r&&"YoutubeThumbnail"!==r&&"YoutubeVideo"!==r&&"YoutubeVideoAd"!==r&&"ZoomBackground"!==r){const e={instancePath:t+"/canvasSize",schemaPath:"#/properties/canvasSize/anyOf/1/enum",keyword:"enum",params:{allowedValues:Zn.properties.canvasSize.anyOf[1].enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}a=e===n;u=u||a}if(!u){const e={instancePath:t+"/canvasSize",schemaPath:"#/properties/canvasSize/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),n++,la.errors=o,!1}n=l,null!==o&&(l?o.length=l:o=null);var c=s===n}else c=!0;if(c){if(void 0!==e.templateType){let r=e.templateType;const s=n;if("string"!=typeof r)return la.errors=[{instancePath:t+"/templateType",schemaPath:"#/properties/templateType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("brochure"!==r&&"business-card"!==r&&"card-greeting"!==r&&"facebook-post"!==r&&"facebook-profile-cover"!==r&&"facebook-story"!==r&&"flyer"!==r&&"graphic-organizer"!==r&&"infographic"!==r&&"instagram-carousel"!==r&&"instagram-reel"!==r&&"instagram-square-post"!==r&&"instagram-story"!==r&&"invitation"!==r&&"invoice"!==r&&"linkedin-profile-cover"!==r&&"logo"!==r&&"meme"!==r&&"menu"!==r&&"mobile-video"!==r&&"newsletter"!==r&&"photo-book"!==r&&"poster"!==r&&"presentation"!==r&&"resume"!==r&&"tiktok-video"!==r&&"video"!==r&&"wallpaper-desktop"!==r&&"worksheet"!==r&&"youtube-profile-photo"!==r&&"youtube-thumbnail"!==r&&"youtube-video"!==r)return la.errors=[{instancePath:t+"/templateType",schemaPath:"#/properties/templateType/enum",keyword:"enum",params:{allowedValues:Zn.properties.templateType.enum},message:"must be equal to one of the allowed values"}],!1;c=s===n}else c=!0;if(c){if(void 0!==e.asset){const r=n;oa(e.asset,{instancePath:t+"/asset",parentData:e,parentDataProperty:"asset",rootData:i})||(o=null===o?oa.errors:o.concat(oa.errors),n=o.length);c=r===n}else c=!0;if(c){if(void 0!==e.editorPanelView){let r=e.editorPanelView;const s=n;if("string"!=typeof r)return la.errors=[{instancePath:t+"/editorPanelView",schemaPath:"#/properties/editorPanelView/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("elements"!==r&&"media"!==r&&"search"!==r&&"templates"!==r&&"text"!==r&&"yourStuff"!==r)return la.errors=[{instancePath:t+"/editorPanelView",schemaPath:"#/properties/editorPanelView/enum",keyword:"enum",params:{allowedValues:Zn.properties.editorPanelView.enum},message:"must be equal to one of the allowed values"}],!1;c=s===n}else c=!0;if(c){if(void 0!==e.panelSearchText){const r=n;if("string"!=typeof e.panelSearchText)return la.errors=[{instancePath:t+"/panelSearchText",schemaPath:"#/properties/panelSearchText/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=r===n}else c=!0;if(c)if(void 0!==e.exportOptions){let r=e.exportOptions;const s=n;if(n===s){if(!Array.isArray(r))return la.errors=[{instancePath:t+"/exportOptions",schemaPath:"#/properties/exportOptions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const a=n,c=n;let p=!1;const h=n;ca(e,{instancePath:t+"/exportOptions/"+s,parentData:r,parentDataProperty:s,rootData:i})||(o=null===o?ca.errors:o.concat(ca.errors),n=o.length);var l=h===n;if(p=p||l,!p){const r=n;if(n===n)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.buttonType&&(r="buttonType")||void 0===e.id&&(r="id")||void 0===e.label&&(r="label")||void 0===e.target&&(r="target")){const e={instancePath:t+"/exportOptions/"+s,schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/required',keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),n++}else{if(void 0!==e.label){const r=n;if("string"!=typeof e.label){const e={instancePath:t+"/exportOptions/"+s+"/label",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/label/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}var u=r===n}else u=!0;if(u){if(void 0!==e.buttonType){let r=e.buttonType;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/buttonType",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/buttonType/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("custom"!==r){const e={instancePath:t+"/exportOptions/"+s+"/buttonType",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/buttonType/enum',keyword:"enum",params:{allowedValues:ea.properties.buttonType.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}u=i===n}else u=!0;if(u){if(void 0!==e.variant){let r=e.variant;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/variant",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/variant/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("accent"!==r&&"cta"!==r&&"primary"!==r&&"secondary"!==r){const e={instancePath:t+"/exportOptions/"+s+"/variant",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/variant/enum',keyword:"enum",params:{allowedValues:ea.properties.variant.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}u=i===n}else u=!0;if(u){if(void 0!==e.target){let r=e.target;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/target/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("Host"!==r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/target/enum',keyword:"enum",params:{allowedValues:ea.properties.target.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}u=i===n}else u=!0;if(u){if(void 0!==e.id){const r=n;if("string"!=typeof e.id){const e={instancePath:t+"/exportOptions/"+s+"/id",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/id/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}u=r===n}else u=!0;if(u)if(void 0!==e.closeTargetOnExport){const r=n;if("boolean"!=typeof e.closeTargetOnExport){const e={instancePath:t+"/exportOptions/"+s+"/closeTargetOnExport",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/closeTargetOnExport/type',keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),n++}u=r===n}else u=!0}}}}}}else{const e={instancePath:t+"/exportOptions/"+s,schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/type',keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),n++}l=r===n;p=p||l}if(!p){const e={instancePath:t+"/exportOptions/"+s,schemaPath:"#/properties/exportOptions/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),n++,la.errors=o,!1}if(n=c,null!==o&&(c?o.length=c:o=null),!(a===n))break}}}c=s===n}else c=!0}}}}}return la.errors=o,0===n}const ua=te((function e(t,{instancePath:r="",parentData:s,parentDataProperty:i,rootData:o=t}={}){let n=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let s;if(void 0===t.inputParams&&(s="inputParams"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:s},message:"must have required property '"+s+"'"}],!1;if(void 0!==t.modalParams){const e=a;ma(t.modalParams,{instancePath:r+"/modalParams",parentData:t,parentDataProperty:"modalParams",rootData:o})||(n=null===n?ma.errors:n.concat(ma.errors),a=n.length);var c=e===a}else c=!0;if(c){if(void 0!==t.inputParams){const e=a;va(t.inputParams,{instancePath:r+"/inputParams",parentData:t,parentDataProperty:"inputParams",rootData:o})||(n=null===n?va.errors:n.concat(va.errors),a=n.length);c=e===a}else c=!0;if(c){if(void 0!==t.outputParams){let s=t.outputParams;const i=a;if(a===a){if(!s||"object"!=typeof s||Array.isArray(s))return e.errors=[{instancePath:r+"/outputParams",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==s.allowedFileTypes){let t=s.allowedFileTypes;const i=a;if(a===i){if(!Array.isArray(t))return e.errors=[{instancePath:r+"/outputParams/allowedFileTypes",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/allowedFileTypes/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const s=t.length;for(let i=0;i<s;i++){let s=t[i];const o=a;if("string"!=typeof s)return e.errors=[{instancePath:r+"/outputParams/allowedFileTypes/"+i,schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/allowedFileTypes/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("application/pdf"!==s&&"image/jpeg"!==s&&"image/png"!==s&&"video/mp4"!==s)return e.errors=[{instancePath:r+"/outputParams/allowedFileTypes/"+i,schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/allowedFileTypes/items/enum",keyword:"enum",params:{allowedValues:pa.properties.allowedFileTypes.items.enum},message:"must be equal to one of the allowed values"}],!1;if(!(o===a))break}}}var l=i===a}else l=!0;if(l){if(void 0!==s.multiPage){const t=a;if("boolean"!=typeof s.multiPage)return e.errors=[{instancePath:r+"/outputParams/multiPage",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/multiPage/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;l=t===a}else l=!0;if(l){if(void 0!==s.imageQuality){let t=s.imageQuality;const i=a;if(a===i){if("number"!=typeof t||!isFinite(t))return e.errors=[{instancePath:r+"/outputParams/imageQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/imageQuality/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(t>1||isNaN(t))return e.errors=[{instancePath:r+"/outputParams/imageQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/imageQuality/maximum",keyword:"maximum",params:{comparison:"<=",limit:1},message:"must be <= 1"}],!1;if(t<0||isNaN(t))return e.errors=[{instancePath:r+"/outputParams/imageQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/imageQuality/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}l=i===a}else l=!0;if(l){if(void 0!==s.videoQuality){let t=s.videoQuality;const i=a;if("number"!=typeof t||!isFinite(t))return e.errors=[{instancePath:r+"/outputParams/videoQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/videoQuality/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(1280!==t&&1920!==t&&2160!==t)return e.errors=[{instancePath:r+"/outputParams/videoQuality",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/videoQuality/enum",keyword:"enum",params:{allowedValues:pa.properties.videoQuality.enum},message:"must be equal to one of the allowed values"}],!1;l=i===a}else l=!0;if(l)if(void 0!==s.outputType){let t=s.outputType;const i=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/outputType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("base64"!==t&&"url"!==t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/CCXOutputParams.06f3acc3/properties/outputType/enum",keyword:"enum",params:{allowedValues:pa.properties.outputType.enum},message:"must be equal to one of the allowed values"}],!1;l=i===a}else l=!0}}}}c=i===a}else c=!0;if(c)if(void 0!==t.callbacks){let s=t.callbacks;const i=a;if(a===a&&(!s||"object"!=typeof s||Array.isArray(s)))return e.errors=[{instancePath:r+"/callbacks",schemaPath:"#/definitions/Callbacks.b6fdcbb5/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;c=i===a}else c=!0}}}}return e.errors=n,0===a}),"EditDesignParams"),pa={description:"Desired output options when exporting the asset from CCX.",type:"object",properties:{allowedFileTypes:{description:"Specify the list of filetypes that the user can download.\nThis can be used to limit the download options as per file types for end users.\nThis limitation is applied to both native download and custom download scenarios.",type:"array",items:{enum:["application/pdf","image/jpeg","image/png","video/mp4"],type:"string"}},multiPage:{default:!0,type:"boolean"},imageQuality:{description:"Value between 0 and 1 to control the quality of the image.\nCurrently, only supported for ImageFileType.JPEG and for getRendition API.",minimum:0,maximum:1,type:"number"},videoQuality:{description:"Currently, only supported for getRendition API.",enum:[1280,1920,2160],type:"number"},outputType:{description:"Desired asset data type for images.\nFor image output types, host can set this property to either base64 or url. Default type for images is base64.\nFor videos, we will always send output as url irrespective of this property.",default:"base64",enum:["base64","url"],type:"string"}}},ha={description:"Parameters to define CCX Editor UI & Modal dialog constraints.",type:"object",properties:{parentElementId:{description:"Id of element to which iframe must be appended. By default it is appended to body.",type:"string"},size:{$ref:"#/definitions/PixelSize.83e9f592"},minSize:{$ref:"#/definitions/PixelSize.83e9f592"},padding:{type:"number"},borderRadius:{type:"number"},backgroundColor:{type:"string"},colorTheme:{enum:["dark","darkest","light","lightest"],type:"string"},spectrumTheme:{enum:["express","spectrum"],type:"string"},scale:{enum:["large","medium"],type:"string"},loadTimeout:{description:"If target app does't open within this time (in ms, same as of setTimeout),\nthe error callback is invoked with error code TARGET_LOAD_TIMED_OUT.",type:"number"},showLoader:{description:"Show spinner while loading target app. Default is true.",type:"boolean"}}},da={type:"object",properties:{unit:{type:"string",enum:["px"]},width:{minimum:0,type:"number"},height:{minimum:0,type:"number"}},required:["height","unit","width"]};function ma(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return ma.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.parentElementId){const r=0;if("string"!=typeof e.parentElementId)return ma.errors=[{instancePath:t+"/parentElementId",schemaPath:"#/properties/parentElementId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.size){let r=e.size;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return ma.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return ma.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return ma.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return ma.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:da.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var n=0===s}else n=!0;if(n){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return ma.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return ma.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0;if(n)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return ma.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return ma.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.minSize){let r=e.minSize;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return ma.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return ma.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return ma.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return ma.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:da.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var a=0===s}else a=!0;if(a){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return ma.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return ma.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0;if(a)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return ma.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return ma.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.padding){let r=e.padding;const s=0;if("number"!=typeof r||!isFinite(r))return ma.errors=[{instancePath:t+"/padding",schemaPath:"#/properties/padding/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.borderRadius){let r=e.borderRadius;const s=0;if("number"!=typeof r||!isFinite(r))return ma.errors=[{instancePath:t+"/borderRadius",schemaPath:"#/properties/borderRadius/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.backgroundColor){const r=0;if("string"!=typeof e.backgroundColor)return ma.errors=[{instancePath:t+"/backgroundColor",schemaPath:"#/properties/backgroundColor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.colorTheme){let r=e.colorTheme;const s=0;if("string"!=typeof r)return ma.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dark"!==r&&"darkest"!==r&&"light"!==r&&"lightest"!==r)return ma.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/enum",keyword:"enum",params:{allowedValues:ha.properties.colorTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.spectrumTheme){let r=e.spectrumTheme;const s=0;if("string"!=typeof r)return ma.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("express"!==r&&"spectrum"!==r)return ma.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/enum",keyword:"enum",params:{allowedValues:ha.properties.spectrumTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.scale){let r=e.scale;const s=0;if("string"!=typeof r)return ma.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("large"!==r&&"medium"!==r)return ma.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/enum",keyword:"enum",params:{allowedValues:ha.properties.scale.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.loadTimeout){let r=e.loadTimeout;const s=0;if("number"!=typeof r||!isFinite(r))return ma.errors=[{instancePath:t+"/loadTimeout",schemaPath:"#/properties/loadTimeout/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o)if(void 0!==e.showLoader){const r=0;if("boolean"!=typeof e.showLoader)return ma.errors=[{instancePath:t+"/showLoader",schemaPath:"#/properties/showLoader/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}}}}return ma.errors=null,!0}const fa={description:"Input parameters to edit a design.",type:"object",properties:{projectId:{description:"Project Id of the asset returned from onPublish callback when createDesign API was invoked.",type:"string"},editorPanelView:{description:"Category to show by default",enum:["elements","media","search","templates","text","yourStuff"],type:"string"},panelSearchText:{description:"Search text to pass in the editor for selected panel.",type:"string"},exportOptions:{description:"Export options for the asset that is created. These options would be visible in the embed header.\nIf no export options are specified, the editor falls back to the default layout options.",type:"array",items:{description:"Export options relavant for Editor use case in Project X.",anyOf:[{$ref:'#/definitions/Omit<NativeExportButton,"optionType"|"context"|"featureList"|"iconUrl">.b804a04a'},{$ref:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a'}]}}},required:["projectId"]},ya={type:"object",properties:{label:{description:"Localized text of the export button.",type:"string"},buttonType:{description:"Type of the export button",type:"string",enum:["custom"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},target:{description:"Quick action will use target to render a custom button",type:"string",enum:["Host"]},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","label","target"]},ga={type:"object",properties:{label:{description:"Localized text of the export button.",type:"string"},buttonType:{description:"Type of the export button",type:"string",enum:["native"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},target:{$ref:"#/definitions/NativeExportTarget.36083532"},getEditorUrl:{description:"Fetch the Express Editor Url for the edited asset instead of asset info. This is only applicable when target is Editor.\nBy default this will be false",type:"boolean"},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","target"]},ba={description:"Allows the Quick Task to determine the type of native export button.",enum:["Download","Editor"],type:"string"};function Ea(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Ea.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.buttonType&&(r="buttonType")||void 0===e.id&&(r="id")||void 0===e.target&&(r="target"))return Ea.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.label){const r=0;if("string"!=typeof e.label)return Ea.errors=[{instancePath:t+"/label",schemaPath:"#/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.buttonType){let r=e.buttonType;const s=0;if("string"!=typeof r)return Ea.errors=[{instancePath:t+"/buttonType",schemaPath:"#/properties/buttonType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("native"!==r)return Ea.errors=[{instancePath:t+"/buttonType",schemaPath:"#/properties/buttonType/enum",keyword:"enum",params:{allowedValues:ga.properties.buttonType.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.variant){let r=e.variant;const s=0;if("string"!=typeof r)return Ea.errors=[{instancePath:t+"/variant",schemaPath:"#/properties/variant/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("accent"!==r&&"cta"!==r&&"primary"!==r&&"secondary"!==r)return Ea.errors=[{instancePath:t+"/variant",schemaPath:"#/properties/variant/enum",keyword:"enum",params:{allowedValues:ga.properties.variant.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.target){let r=e.target;const s=0;if("string"!=typeof r)return Ea.errors=[{instancePath:t+"/target",schemaPath:"#/definitions/NativeExportTarget.36083532/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Download"!==r&&"Editor"!==r)return Ea.errors=[{instancePath:t+"/target",schemaPath:"#/definitions/NativeExportTarget.36083532/enum",keyword:"enum",params:{allowedValues:ba.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.getEditorUrl){const r=0;if("boolean"!=typeof e.getEditorUrl)return Ea.errors=[{instancePath:t+"/getEditorUrl",schemaPath:"#/properties/getEditorUrl/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.id){const r=0;if("string"!=typeof e.id)return Ea.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o)if(void 0!==e.closeTargetOnExport){const r=0;if("boolean"!=typeof e.closeTargetOnExport)return Ea.errors=[{instancePath:t+"/closeTargetOnExport",schemaPath:"#/properties/closeTargetOnExport/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}return Ea.errors=null,!0}function va(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){let o=null,n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return va.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.projectId&&(r="projectId"))return va.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.projectId){const r=n;if("string"!=typeof e.projectId)return va.errors=[{instancePath:t+"/projectId",schemaPath:"#/properties/projectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=r===n}else a=!0;if(a){if(void 0!==e.editorPanelView){let r=e.editorPanelView;const s=n;if("string"!=typeof r)return va.errors=[{instancePath:t+"/editorPanelView",schemaPath:"#/properties/editorPanelView/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("elements"!==r&&"media"!==r&&"search"!==r&&"templates"!==r&&"text"!==r&&"yourStuff"!==r)return va.errors=[{instancePath:t+"/editorPanelView",schemaPath:"#/properties/editorPanelView/enum",keyword:"enum",params:{allowedValues:fa.properties.editorPanelView.enum},message:"must be equal to one of the allowed values"}],!1;a=s===n}else a=!0;if(a){if(void 0!==e.panelSearchText){const r=n;if("string"!=typeof e.panelSearchText)return va.errors=[{instancePath:t+"/panelSearchText",schemaPath:"#/properties/panelSearchText/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=r===n}else a=!0;if(a)if(void 0!==e.exportOptions){let r=e.exportOptions;const s=n;if(n===s){if(!Array.isArray(r))return va.errors=[{instancePath:t+"/exportOptions",schemaPath:"#/properties/exportOptions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const a=n,u=n;let p=!1;const h=n;Ea(e,{instancePath:t+"/exportOptions/"+s,parentData:r,parentDataProperty:s,rootData:i})||(o=null===o?Ea.errors:o.concat(Ea.errors),n=o.length);var c=h===n;if(p=p||c,!p){const r=n;if(n===n)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.buttonType&&(r="buttonType")||void 0===e.id&&(r="id")||void 0===e.label&&(r="label")||void 0===e.target&&(r="target")){const e={instancePath:t+"/exportOptions/"+s,schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/required',keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),n++}else{if(void 0!==e.label){const r=n;if("string"!=typeof e.label){const e={instancePath:t+"/exportOptions/"+s+"/label",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/label/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}var l=r===n}else l=!0;if(l){if(void 0!==e.buttonType){let r=e.buttonType;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/buttonType",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/buttonType/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("custom"!==r){const e={instancePath:t+"/exportOptions/"+s+"/buttonType",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/buttonType/enum',keyword:"enum",params:{allowedValues:ya.properties.buttonType.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}l=i===n}else l=!0;if(l){if(void 0!==e.variant){let r=e.variant;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/variant",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/variant/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("accent"!==r&&"cta"!==r&&"primary"!==r&&"secondary"!==r){const e={instancePath:t+"/exportOptions/"+s+"/variant",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/variant/enum',keyword:"enum",params:{allowedValues:ya.properties.variant.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}l=i===n}else l=!0;if(l){if(void 0!==e.target){let r=e.target;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/target/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("Host"!==r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/target/enum',keyword:"enum",params:{allowedValues:ya.properties.target.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}l=i===n}else l=!0;if(l){if(void 0!==e.id){const r=n;if("string"!=typeof e.id){const e={instancePath:t+"/exportOptions/"+s+"/id",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/id/type',keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}l=r===n}else l=!0;if(l)if(void 0!==e.closeTargetOnExport){const r=n;if("boolean"!=typeof e.closeTargetOnExport){const e={instancePath:t+"/exportOptions/"+s+"/closeTargetOnExport",schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/properties/closeTargetOnExport/type',keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),n++}l=r===n}else l=!0}}}}}}else{const e={instancePath:t+"/exportOptions/"+s,schemaPath:'#/definitions/Omit<CustomExportButton,"optionType"|"featureList"|"iconUrl">.b804a04a/type',keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),n++}c=r===n;p=p||c}if(!p){const e={instancePath:t+"/exportOptions/"+s,schemaPath:"#/properties/exportOptions/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),n++,va.errors=o,!1}if(n=u,null!==o&&(u?o.length=u:o=null),!(a===n))break}}}a=s===n}else a=!0}}}}return va.errors=o,0===n}const wa=te((function e(t,{instancePath:r="",parentData:s,parentDataProperty:i,rootData:o=t}={}){let n=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==t.modalParams){let e=t.modalParams;const s=a,i=a;if(Ia(e,{instancePath:r+"/modalParams",parentData:t,parentDataProperty:"modalParams",rootData:o})||(n=null===n?Ia.errors:n.concat(Ia.errors),a=n.length),i===a){Sa(e,{instancePath:r+"/modalParams",parentData:t,parentDataProperty:"modalParams",rootData:o})||(n=null===n?Sa.errors:n.concat(Sa.errors),a=n.length)}var c=s===a}else c=!0;if(c){if(void 0!==t.inputParams){let s=t.inputParams;const i=a;if(!s||"object"!=typeof s||Array.isArray(s))return e.errors=[{instancePath:r+"/inputParams",schemaPath:"#/definitions/InputParams.99291ea7/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;c=i===a}else c=!0;if(c){if(void 0!==t.outputParams){let s=t.outputParams;const i=a;if(a===a){if(!s||"object"!=typeof s||Array.isArray(s))return e.errors=[{instancePath:r+"/outputParams",schemaPath:"#/definitions/OutputParams.dc24076f/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==s.outputType){let t=s.outputType;if("string"!=typeof t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/OutputParams.dc24076f/properties/outputType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("base64"!==t&&"url"!==t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/OutputParams.dc24076f/properties/outputType/enum",keyword:"enum",params:{allowedValues:Ta.properties.outputType.enum},message:"must be equal to one of the allowed values"}],!1}}c=i===a}else c=!0;if(c)if(void 0!==t.callbacks){let s=t.callbacks;const i=a;if(a===a&&(!s||"object"!=typeof s||Array.isArray(s)))return e.errors=[{instancePath:r+"/callbacks",schemaPath:"#/definitions/Callbacks.b6fdcbb5/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;c=i===a}else c=!0}}}return e.errors=n,0===a}),"TargetParams"),Ta={description:"Base class for output params",type:"object",properties:{outputType:{description:"Desired asset data type for images.\nFor image output types, host can set this property to either base64 or url. Default type for images is base64.\nFor videos, we will always send output as url irrespective of this property.",default:"base64",enum:["base64","url"],type:"string"}}},Pa={type:"object",properties:{editorTitle:{type:"string"},publishModalTitle:{type:"string"},publishErrorModalTitle:{type:"string"},parentElementId:{description:"Id of element to which iframe must be appended. By default it is appended to body.",type:"string"},size:{$ref:"#/definitions/PixelSize.83e9f592"},minSize:{$ref:"#/definitions/PixelSize.83e9f592"},padding:{type:"number"},borderRadius:{type:"number"},backgroundColor:{type:"string"},colorTheme:{enum:["dark","darkest","light","lightest"],type:"string"},spectrumTheme:{enum:["express","spectrum"],type:"string"},scale:{enum:["large","medium"],type:"string"},loadTimeout:{description:"If target app does't open within this time (in ms, same as of setTimeout),\nthe error callback is invoked with error code TARGET_LOAD_TIMED_OUT.",type:"number"},showLoader:{description:"Show spinner while loading target app. Default is true.",type:"boolean"}}},_a={type:"object",properties:{unit:{type:"string",enum:["px"]},width:{minimum:0,type:"number"},height:{minimum:0,type:"number"}},required:["height","unit","width"]};function Ia(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Ia.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.editorTitle){const r=0;if("string"!=typeof e.editorTitle)return Ia.errors=[{instancePath:t+"/editorTitle",schemaPath:"#/properties/editorTitle/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.publishModalTitle){const r=0;if("string"!=typeof e.publishModalTitle)return Ia.errors=[{instancePath:t+"/publishModalTitle",schemaPath:"#/properties/publishModalTitle/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.publishErrorModalTitle){const r=0;if("string"!=typeof e.publishErrorModalTitle)return Ia.errors=[{instancePath:t+"/publishErrorModalTitle",schemaPath:"#/properties/publishErrorModalTitle/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.parentElementId){const r=0;if("string"!=typeof e.parentElementId)return Ia.errors=[{instancePath:t+"/parentElementId",schemaPath:"#/properties/parentElementId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.size){let r=e.size;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Ia.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Ia.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Ia.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Ia.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:_a.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var n=0===s}else n=!0;if(n){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ia.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ia.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0;if(n)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ia.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ia.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.minSize){let r=e.minSize;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Ia.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Ia.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Ia.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Ia.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:_a.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var a=0===s}else a=!0;if(a){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ia.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ia.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0;if(a)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ia.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ia.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.padding){let r=e.padding;const s=0;if("number"!=typeof r||!isFinite(r))return Ia.errors=[{instancePath:t+"/padding",schemaPath:"#/properties/padding/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.borderRadius){let r=e.borderRadius;const s=0;if("number"!=typeof r||!isFinite(r))return Ia.errors=[{instancePath:t+"/borderRadius",schemaPath:"#/properties/borderRadius/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.backgroundColor){const r=0;if("string"!=typeof e.backgroundColor)return Ia.errors=[{instancePath:t+"/backgroundColor",schemaPath:"#/properties/backgroundColor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.colorTheme){let r=e.colorTheme;const s=0;if("string"!=typeof r)return Ia.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dark"!==r&&"darkest"!==r&&"light"!==r&&"lightest"!==r)return Ia.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/enum",keyword:"enum",params:{allowedValues:Pa.properties.colorTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.spectrumTheme){let r=e.spectrumTheme;const s=0;if("string"!=typeof r)return Ia.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("express"!==r&&"spectrum"!==r)return Ia.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/enum",keyword:"enum",params:{allowedValues:Pa.properties.spectrumTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.scale){let r=e.scale;const s=0;if("string"!=typeof r)return Ia.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("large"!==r&&"medium"!==r)return Ia.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/enum",keyword:"enum",params:{allowedValues:Pa.properties.scale.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.loadTimeout){let r=e.loadTimeout;const s=0;if("number"!=typeof r||!isFinite(r))return Ia.errors=[{instancePath:t+"/loadTimeout",schemaPath:"#/properties/loadTimeout/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o)if(void 0!==e.showLoader){const r=0;if("boolean"!=typeof e.showLoader)return Ia.errors=[{instancePath:t+"/showLoader",schemaPath:"#/properties/showLoader/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}}}}}}}return Ia.errors=null,!0}const Aa={description:"Parameters to define CCX Editor UI & Modal dialog constraints.",type:"object",properties:{parentElementId:{description:"Id of element to which iframe must be appended. By default it is appended to body.",type:"string"},size:{$ref:"#/definitions/PixelSize.83e9f592"},minSize:{$ref:"#/definitions/PixelSize.83e9f592"},padding:{type:"number"},borderRadius:{type:"number"},backgroundColor:{type:"string"},colorTheme:{enum:["dark","darkest","light","lightest"],type:"string"},spectrumTheme:{enum:["express","spectrum"],type:"string"},scale:{enum:["large","medium"],type:"string"},loadTimeout:{description:"If target app does't open within this time (in ms, same as of setTimeout),\nthe error callback is invoked with error code TARGET_LOAD_TIMED_OUT.",type:"number"},showLoader:{description:"Show spinner while loading target app. Default is true.",type:"boolean"}}};function Sa(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Sa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.parentElementId){const r=0;if("string"!=typeof e.parentElementId)return Sa.errors=[{instancePath:t+"/parentElementId",schemaPath:"#/properties/parentElementId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.size){let r=e.size;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Sa.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Sa.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Sa.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Sa.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:_a.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var n=0===s}else n=!0;if(n){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Sa.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Sa.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0;if(n)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Sa.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Sa.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.minSize){let r=e.minSize;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Sa.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Sa.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Sa.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Sa.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:_a.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var a=0===s}else a=!0;if(a){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Sa.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Sa.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0;if(a)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Sa.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Sa.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.padding){let r=e.padding;const s=0;if("number"!=typeof r||!isFinite(r))return Sa.errors=[{instancePath:t+"/padding",schemaPath:"#/properties/padding/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.borderRadius){let r=e.borderRadius;const s=0;if("number"!=typeof r||!isFinite(r))return Sa.errors=[{instancePath:t+"/borderRadius",schemaPath:"#/properties/borderRadius/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.backgroundColor){const r=0;if("string"!=typeof e.backgroundColor)return Sa.errors=[{instancePath:t+"/backgroundColor",schemaPath:"#/properties/backgroundColor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.colorTheme){let r=e.colorTheme;const s=0;if("string"!=typeof r)return Sa.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dark"!==r&&"darkest"!==r&&"light"!==r&&"lightest"!==r)return Sa.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/enum",keyword:"enum",params:{allowedValues:Aa.properties.colorTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.spectrumTheme){let r=e.spectrumTheme;const s=0;if("string"!=typeof r)return Sa.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("express"!==r&&"spectrum"!==r)return Sa.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/enum",keyword:"enum",params:{allowedValues:Aa.properties.spectrumTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.scale){let r=e.scale;const s=0;if("string"!=typeof r)return Sa.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("large"!==r&&"medium"!==r)return Sa.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/enum",keyword:"enum",params:{allowedValues:Aa.properties.scale.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.loadTimeout){let r=e.loadTimeout;const s=0;if("number"!=typeof r||!isFinite(r))return Sa.errors=[{instancePath:t+"/loadTimeout",schemaPath:"#/properties/loadTimeout/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o)if(void 0!==e.showLoader){const r=0;if("boolean"!=typeof e.showLoader)return Sa.errors=[{instancePath:t+"/showLoader",schemaPath:"#/properties/showLoader/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}}}}return Sa.errors=null,!0}const Ca=te((function e(t,{instancePath:r="",parentData:s,parentDataProperty:i,rootData:o=t}={}){let n=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let s;if(void 0===t.id&&(s="id"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:s},message:"must have required property '"+s+"'"}],!1;if(void 0!==t.id){let s=t.id;const i=a;if("string"!=typeof s)return e.errors=[{instancePath:r+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("animate-from-audio"!==s&&"convert-to-gif"!==s&&"convert-to-jpg"!==s&&"convert-to-mp4"!==s&&"convert-to-png"!==s&&"convert-to-svg"!==s&&"crop-image"!==s&&"crop-video"!==s&&"merge-videos"!==s&&"remove-background"!==s&&"resize-image"!==s&&"resize-video"!==s&&"trim-video"!==s)return e.errors=[{instancePath:r+"/id",schemaPath:"#/properties/id/enum",keyword:"enum",params:{allowedValues:Oa.properties.id.enum},message:"must be equal to one of the allowed values"}],!1;var c=i===a}else c=!0;if(c){if(void 0!==t.inputParams){const e=a;Ga(t.inputParams,{instancePath:r+"/inputParams",parentData:t,parentDataProperty:"inputParams",rootData:o})||(n=null===n?Ga.errors:n.concat(Ga.errors),a=n.length);c=e===a}else c=!0;if(c){if(void 0!==t.outputParams){let s=t.outputParams;const i=a;if(a===a){if(!s||"object"!=typeof s||Array.isArray(s))return e.errors=[{instancePath:r+"/outputParams",schemaPath:"#/definitions/OutputParams.dc24076f/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==s.outputType){let t=s.outputType;if("string"!=typeof t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/OutputParams.dc24076f/properties/outputType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("base64"!==t&&"url"!==t)return e.errors=[{instancePath:r+"/outputParams/outputType",schemaPath:"#/definitions/OutputParams.dc24076f/properties/outputType/enum",keyword:"enum",params:{allowedValues:ka.properties.outputType.enum},message:"must be equal to one of the allowed values"}],!1}}c=i===a}else c=!0;if(c){if(void 0!==t.modalParams){const e=a;Ha(t.modalParams,{instancePath:r+"/modalParams",parentData:t,parentDataProperty:"modalParams",rootData:o})||(n=null===n?Ha.errors:n.concat(Ha.errors),a=n.length);c=e===a}else c=!0;if(c)if(void 0!==t.callbacks){let s=t.callbacks;const i=a;if(a===a&&(!s||"object"!=typeof s||Array.isArray(s)))return e.errors=[{instancePath:r+"/callbacks",schemaPath:"#/definitions/Callbacks.b6fdcbb5/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;c=i===a}else c=!0}}}}}return e.errors=n,0===a}),"QuickActionParams"),Oa={type:"object",properties:{id:{description:"Type of quick action to invoke.",enum:["animate-from-audio","convert-to-gif","convert-to-jpg","convert-to-mp4","convert-to-png","convert-to-svg","crop-image","crop-video","merge-videos","remove-background","resize-image","resize-video","trim-video"],type:"string"},inputParams:{description:"Params related to asset, export options etc.",$ref:"#/definitions/QuickActionInputParams.7a561e3b"},outputParams:{description:"Base class for output params",$ref:"#/definitions/OutputParams.dc24076f"},modalParams:{description:"Parameters to define target editor modal dialog UI constraints.",$ref:"#/definitions/ModalParams.9bf64307"},callbacks:{$ref:"#/definitions/Callbacks.b6fdcbb5"}},required:["id"],definitions:{"QuickActionInputParams.7a561e3b":{description:"Input parameters to take quick action on the asset.",type:"object",properties:{exportOptions:{description:"Export options for the asset that is created. These options would be visible in the quick action editor",type:"array",items:{description:"This type describes the all the possible Export options in input params.",anyOf:[{$ref:"#/definitions/CustomExportButton.8927c6e4"},{$ref:"#/definitions/CustomExportLink.86ebef60"},{$ref:"#/definitions/NativeExportButton.1945ecc8"},{$ref:"#/definitions/ExportButtonGroup.a6d1bfae"}]}},asset:{description:"Asset from the host application to start editing with.\nMulti Asset support is only supported for Video QA like Merge Videos. For all other QA, host application must send single Asset object\nSending a single asset object in an array will not work in case of IQA",anyOf:[{$ref:"#/definitions/Asset.a5663331"},{type:"array",items:{$ref:"#/definitions/Asset.a5663331"}}]},receiveTargetErrors:{description:"Boolean that tells whether to receive target application errors or not to client.",type:"boolean"}}},"CustomExportButton.8927c6e4":{description:"This interface describes the object that is used to render a custom\nbutton once the quick action has completed the action.\n\nUse this interface if you want to have a custom button click handler.",type:"object",properties:{buttonType:{description:"Type of the export button",type:"string",enum:["custom"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},optionType:{description:"Quick action will render a standalone single button",type:"string",enum:["button"]},featureList:{type:"array",items:{type:"string"}},iconUrl:{type:"string"},label:{description:"Localized text of the export button.",type:"string"},target:{description:"Quick action will use target to render a custom button",type:"string",enum:["Host"]},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","label","optionType","target"]},"CustomExportLink.86ebef60":{description:'This interface describes the object that is used to render custom export\nlink once the quick action has completed the action.\n\nUse this interface if you want to have a custom export link handler.\n\nEx: If we want to create a download label with some clickable area.\n   We can use a special literal like < > to indicate the clickable area.\n   label = "click <here> to download"',type:"object",properties:{optionType:{description:"Quick action will render text with hyperlink to export asset",type:"string",enum:["link"]},label:{description:"Localized text of the export button.",type:"string"},target:{description:"Quick action will use target to render a custom button",type:"string",enum:["Host"]},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["id","label","optionType","target"]},"NativeExportButton.1945ecc8":{description:"This interface describes the object that is used to render a native\nbutton once the quick action has completed the action.\n\nYou will not be notified when the button is clicked. If you want to\nbe notified via a custom click handler use [[`CustomExportButton`]].",type:"object",properties:{buttonType:{description:"Type of the export button",type:"string",enum:["native"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},optionType:{description:"Quick action will render a standalone single button",type:"string",enum:["button"]},featureList:{type:"array",items:{type:"string"}},iconUrl:{type:"string"},label:{description:"Localized text of the export button.",type:"string"},target:{$ref:"#/definitions/NativeExportTarget.36083532"},getEditorUrl:{description:"Fetch the Express Editor Url for the edited asset instead of asset info. This is only applicable when target is Editor.\nBy default this will be false",type:"boolean"},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","optionType","target"]},"NativeExportTarget.36083532":{description:"Allows the Quick Task to determine the type of native export button.",enum:["Download","Editor"],type:"string"},"ExportButtonGroup.a6d1bfae":{description:"This interface describes the object that is used to render a group\nof buttons which will be shown as a drop down under a parent button.",type:"object",properties:{label:{description:"Localized text of the export group.",type:"string"},buttons:{description:"List of buttons to show as a list under the dropdown",type:"array",items:{anyOf:[{$ref:"#/definitions/CustomExportButton.8927c6e4"},{$ref:"#/definitions/NativeExportButton.1945ecc8"}]}},optionType:{description:"Quick action will render a drop-down button",type:"string",enum:["group"]}},required:["buttons","optionType"]},"Asset.a5663331":{description:"Base class for information related to asset.",type:"object",properties:{type:{$ref:"#/definitions/AssetType.2beee339"},dataType:{$ref:"#/definitions/AssetDataType.ec6109d0"},data:{type:"string"}},required:["data","dataType","type"]},"AssetType.2beee339":{description:"File format supported for design operations",enum:["image","pdf","video"],type:"string"},"AssetDataType.ec6109d0":{enum:["base64","url"],type:"string"},"OutputParams.dc24076f":{description:"Base class for output params",type:"object",properties:{outputType:{description:"Desired asset data type for images.\nFor image output types, host can set this property to either base64 or url. Default type for images is base64.\nFor videos, we will always send output as url irrespective of this property.",default:"base64",enum:["base64","url"],type:"string"}}},"ModalParams.9bf64307":{description:"Parameters to define target editor modal dialog UI constraints.",type:"object",properties:{parentElementId:{description:"Id of element to which iframe must be appended. By default it is appended to body.",type:"string"},size:{$ref:"#/definitions/PixelSize.83e9f592"},minSize:{$ref:"#/definitions/PixelSize.83e9f592"},padding:{type:"number"},borderRadius:{type:"number"},backgroundColor:{type:"string"},colorTheme:{enum:["dark","darkest","light","lightest"],type:"string"},spectrumTheme:{enum:["express","spectrum"],type:"string"},scale:{enum:["large","medium"],type:"string"},loadTimeout:{description:"If target app does't open within this time (in ms, same as of setTimeout),\nthe error callback is invoked with error code TARGET_LOAD_TIMED_OUT.",type:"number"},showLoader:{description:"Show spinner while loading target app. Default is true.",type:"boolean"}}},"PixelSize.83e9f592":{type:"object",properties:{unit:{type:"string",enum:["px"]},width:{minimum:0,type:"number"},height:{minimum:0,type:"number"}},required:["height","unit","width"]},"Callbacks.b6fdcbb5":{type:"object",properties:{onLoadStart:{description:"Callback maybe invoked when target application has started loading.",typeof:"function"},onLoad:{description:"Callback maybe invoked when target application has finished loading.",typeof:"function"},onCancel:{description:"Callback maybe invoked when user cancels the workflow.",typeof:"function"},onPublishStart:{description:"Callback maybe invoked when user starts export of the asset to host app by click on save button.",typeof:"function"},onPublish:{description:"Callback maybe invoked when export of the asset finishes.",typeof:"function"},onError:{description:"Callback maybe invoked in case of error scenarios.",typeof:"function"},onEvent:{description:"Callback maybe invoked in case of some event like information events.",typeof:"function"}}}},$schema:"http://json-schema.org/draft-07/schema#"},ka={description:"Base class for output params",type:"object",properties:{outputType:{description:"Desired asset data type for images.\nFor image output types, host can set this property to either base64 or url. Default type for images is base64.\nFor videos, we will always send output as url irrespective of this property.",default:"base64",enum:["base64","url"],type:"string"}}},Ra={description:"This interface describes the object that is used to render a custom\nbutton once the quick action has completed the action.\n\nUse this interface if you want to have a custom button click handler.",type:"object",properties:{buttonType:{description:"Type of the export button",type:"string",enum:["custom"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},optionType:{description:"Quick action will render a standalone single button",type:"string",enum:["button"]},featureList:{type:"array",items:{type:"string"}},iconUrl:{type:"string"},label:{description:"Localized text of the export button.",type:"string"},target:{description:"Quick action will use target to render a custom button",type:"string",enum:["Host"]},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","label","optionType","target"]},Da={description:'This interface describes the object that is used to render custom export\nlink once the quick action has completed the action.\n\nUse this interface if you want to have a custom export link handler.\n\nEx: If we want to create a download label with some clickable area.\n   We can use a special literal like < > to indicate the clickable area.\n   label = "click <here> to download"',type:"object",properties:{optionType:{description:"Quick action will render text with hyperlink to export asset",type:"string",enum:["link"]},label:{description:"Localized text of the export button.",type:"string"},target:{description:"Quick action will use target to render a custom button",type:"string",enum:["Host"]},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["id","label","optionType","target"]},La={description:"This interface describes the object that is used to render a native\nbutton once the quick action has completed the action.\n\nYou will not be notified when the button is clicked. If you want to\nbe notified via a custom click handler use [[`CustomExportButton`]].",type:"object",properties:{buttonType:{description:"Type of the export button",type:"string",enum:["native"]},variant:{description:"Style of the export button.",enum:["accent","cta","primary","secondary"],type:"string"},optionType:{description:"Quick action will render a standalone single button",type:"string",enum:["button"]},featureList:{type:"array",items:{type:"string"}},iconUrl:{type:"string"},label:{description:"Localized text of the export button.",type:"string"},target:{$ref:"#/definitions/NativeExportTarget.36083532"},getEditorUrl:{description:"Fetch the Express Editor Url for the edited asset instead of asset info. This is only applicable when target is Editor.\nBy default this will be false",type:"boolean"},id:{description:"The id of the export button. On button click, this id will be passed\nback in [[`onPublish`]] callback along with the asset data.",type:"string"},closeTargetOnExport:{description:"The container will be closed after successful export based on this property.\n\nDefault value for Editor workflows:\n  In case of Native Buttons, this will be false and will NOT close the editor, pass as true if closing is required.\n  In case of Custom Buttons, this will be true and will close the editor, pass as false if closing is not required.\nDefault value for Quick Action workflows:\n  In case of Native Buttons, this property will NOT be considered and will not close the editor even if set as true.\n  In case of Custom Buttons, this will be false and will NOT close the editor, pass as true if closing is required.",type:"boolean"}},required:["buttonType","id","optionType","target"]},Na={description:"Allows the Quick Task to determine the type of native export button.",enum:["Download","Editor"],type:"string"};function xa(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return xa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.buttonType&&(r="buttonType")||void 0===e.id&&(r="id")||void 0===e.optionType&&(r="optionType")||void 0===e.target&&(r="target"))return xa.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.buttonType){let r=e.buttonType;const s=0;if("string"!=typeof r)return xa.errors=[{instancePath:t+"/buttonType",schemaPath:"#/properties/buttonType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("native"!==r)return xa.errors=[{instancePath:t+"/buttonType",schemaPath:"#/properties/buttonType/enum",keyword:"enum",params:{allowedValues:La.properties.buttonType.enum},message:"must be equal to one of the allowed values"}],!1;var o=0===s}else o=!0;if(o){if(void 0!==e.variant){let r=e.variant;const s=0;if("string"!=typeof r)return xa.errors=[{instancePath:t+"/variant",schemaPath:"#/properties/variant/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("accent"!==r&&"cta"!==r&&"primary"!==r&&"secondary"!==r)return xa.errors=[{instancePath:t+"/variant",schemaPath:"#/properties/variant/enum",keyword:"enum",params:{allowedValues:La.properties.variant.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.optionType){let r=e.optionType;const s=0;if("string"!=typeof r)return xa.errors=[{instancePath:t+"/optionType",schemaPath:"#/properties/optionType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("button"!==r)return xa.errors=[{instancePath:t+"/optionType",schemaPath:"#/properties/optionType/enum",keyword:"enum",params:{allowedValues:La.properties.optionType.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.featureList){let r=e.featureList;const s=0;if(0===s){if(!Array.isArray(r))return xa.errors=[{instancePath:t+"/featureList",schemaPath:"#/properties/featureList/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){const e=0;if("string"!=typeof r[s])return xa.errors=[{instancePath:t+"/featureList/"+s,schemaPath:"#/properties/featureList/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(0===e))break}}}o=0===s}else o=!0;if(o){if(void 0!==e.iconUrl){const r=0;if("string"!=typeof e.iconUrl)return xa.errors=[{instancePath:t+"/iconUrl",schemaPath:"#/properties/iconUrl/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.label){const r=0;if("string"!=typeof e.label)return xa.errors=[{instancePath:t+"/label",schemaPath:"#/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.target){let r=e.target;const s=0;if("string"!=typeof r)return xa.errors=[{instancePath:t+"/target",schemaPath:"#/definitions/NativeExportTarget.36083532/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Download"!==r&&"Editor"!==r)return xa.errors=[{instancePath:t+"/target",schemaPath:"#/definitions/NativeExportTarget.36083532/enum",keyword:"enum",params:{allowedValues:Na.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.getEditorUrl){const r=0;if("boolean"!=typeof e.getEditorUrl)return xa.errors=[{instancePath:t+"/getEditorUrl",schemaPath:"#/properties/getEditorUrl/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.id){const r=0;if("string"!=typeof e.id)return xa.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o)if(void 0!==e.closeTargetOnExport){const r=0;if("boolean"!=typeof e.closeTargetOnExport)return xa.errors=[{instancePath:t+"/closeTargetOnExport",schemaPath:"#/properties/closeTargetOnExport/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}}}}return xa.errors=null,!0}const Ma={description:"This interface describes the object that is used to render a group\nof buttons which will be shown as a drop down under a parent button.",type:"object",properties:{label:{description:"Localized text of the export group.",type:"string"},buttons:{description:"List of buttons to show as a list under the dropdown",type:"array",items:{anyOf:[{$ref:"#/definitions/CustomExportButton.8927c6e4"},{$ref:"#/definitions/NativeExportButton.1945ecc8"}]}},optionType:{description:"Quick action will render a drop-down button",type:"string",enum:["group"]}},required:["buttons","optionType"]};function ja(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){let o=null,n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return ja.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.buttons&&(r="buttons")||void 0===e.optionType&&(r="optionType"))return ja.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.label){const r=n;if("string"!=typeof e.label)return ja.errors=[{instancePath:t+"/label",schemaPath:"#/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=r===n}else a=!0;if(a){if(void 0!==e.buttons){let r=e.buttons;const s=n;if(n===s){if(!Array.isArray(r))return ja.errors=[{instancePath:t+"/buttons",schemaPath:"#/properties/buttons/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const a=n,u=n;let p=!1;const h=n;if(n===n)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.buttonType&&(r="buttonType")||void 0===e.id&&(r="id")||void 0===e.label&&(r="label")||void 0===e.optionType&&(r="optionType")||void 0===e.target&&(r="target")){const e={instancePath:t+"/buttons/"+s,schemaPath:"#/definitions/CustomExportButton.8927c6e4/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),n++}else{if(void 0!==e.buttonType){let r=e.buttonType;const i=n;if("string"!=typeof r){const e={instancePath:t+"/buttons/"+s+"/buttonType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/buttonType/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("custom"!==r){const e={instancePath:t+"/buttons/"+s+"/buttonType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/buttonType/enum",keyword:"enum",params:{allowedValues:Ra.properties.buttonType.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}var c=i===n}else c=!0;if(c){if(void 0!==e.variant){let r=e.variant;const i=n;if("string"!=typeof r){const e={instancePath:t+"/buttons/"+s+"/variant",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/variant/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("accent"!==r&&"cta"!==r&&"primary"!==r&&"secondary"!==r){const e={instancePath:t+"/buttons/"+s+"/variant",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/variant/enum",keyword:"enum",params:{allowedValues:Ra.properties.variant.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}c=i===n}else c=!0;if(c){if(void 0!==e.optionType){let r=e.optionType;const i=n;if("string"!=typeof r){const e={instancePath:t+"/buttons/"+s+"/optionType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/optionType/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("button"!==r){const e={instancePath:t+"/buttons/"+s+"/optionType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/optionType/enum",keyword:"enum",params:{allowedValues:Ra.properties.optionType.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}c=i===n}else c=!0;if(c){if(void 0!==e.featureList){let r=e.featureList;const i=n;if(n===i)if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){const e=n;if("string"!=typeof r[i]){const e={instancePath:t+"/buttons/"+s+"/featureList/"+i,schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/featureList/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if(!(e===n))break}}else{const e={instancePath:t+"/buttons/"+s+"/featureList",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/featureList/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),n++}c=i===n}else c=!0;if(c){if(void 0!==e.iconUrl){const r=n;if("string"!=typeof e.iconUrl){const e={instancePath:t+"/buttons/"+s+"/iconUrl",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/iconUrl/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}c=r===n}else c=!0;if(c){if(void 0!==e.label){const r=n;if("string"!=typeof e.label){const e={instancePath:t+"/buttons/"+s+"/label",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}c=r===n}else c=!0;if(c){if(void 0!==e.target){let r=e.target;const i=n;if("string"!=typeof r){const e={instancePath:t+"/buttons/"+s+"/target",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("Host"!==r){const e={instancePath:t+"/buttons/"+s+"/target",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/target/enum",keyword:"enum",params:{allowedValues:Ra.properties.target.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}c=i===n}else c=!0;if(c){if(void 0!==e.id){const r=n;if("string"!=typeof e.id){const e={instancePath:t+"/buttons/"+s+"/id",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}c=r===n}else c=!0;if(c)if(void 0!==e.closeTargetOnExport){const r=n;if("boolean"!=typeof e.closeTargetOnExport){const e={instancePath:t+"/buttons/"+s+"/closeTargetOnExport",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/closeTargetOnExport/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),n++}c=r===n}else c=!0}}}}}}}}}else{const e={instancePath:t+"/buttons/"+s,schemaPath:"#/definitions/CustomExportButton.8927c6e4/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),n++}var l=h===n;if(p=p||l,!p){const a=n;xa(e,{instancePath:t+"/buttons/"+s,parentData:r,parentDataProperty:s,rootData:i})||(o=null===o?xa.errors:o.concat(xa.errors),n=o.length);l=a===n;p=p||l}if(!p){const e={instancePath:t+"/buttons/"+s,schemaPath:"#/properties/buttons/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),n++,ja.errors=o,!1}if(n=u,null!==o&&(u?o.length=u:o=null),!(a===n))break}}}a=s===n}else a=!0;if(a)if(void 0!==e.optionType){let r=e.optionType;const s=n;if("string"!=typeof r)return ja.errors=[{instancePath:t+"/optionType",schemaPath:"#/properties/optionType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("group"!==r)return ja.errors=[{instancePath:t+"/optionType",schemaPath:"#/properties/optionType/enum",keyword:"enum",params:{allowedValues:Ma.properties.optionType.enum},message:"must be equal to one of the allowed values"}],!1;a=s===n}else a=!0}}}return ja.errors=o,0===n}const $a={description:"File format supported for design operations",enum:["image","pdf","video"],type:"string"},Ua={enum:["base64","url"],type:"string"};function Ba(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Ba.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.data&&(r="data")||void 0===e.dataType&&(r="dataType")||void 0===e.type&&(r="type"))return Ba.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.type){let r=e.type;const s=0;if("string"!=typeof r)return Ba.errors=[{instancePath:t+"/type",schemaPath:"#/definitions/AssetType.2beee339/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("image"!==r&&"pdf"!==r&&"video"!==r)return Ba.errors=[{instancePath:t+"/type",schemaPath:"#/definitions/AssetType.2beee339/enum",keyword:"enum",params:{allowedValues:$a.enum},message:"must be equal to one of the allowed values"}],!1;var o=0===s}else o=!0;if(o){if(void 0!==e.dataType){let r=e.dataType;const s=0;if("string"!=typeof r)return Ba.errors=[{instancePath:t+"/dataType",schemaPath:"#/definitions/AssetDataType.ec6109d0/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("base64"!==r&&"url"!==r)return Ba.errors=[{instancePath:t+"/dataType",schemaPath:"#/definitions/AssetDataType.ec6109d0/enum",keyword:"enum",params:{allowedValues:Ua.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o)if(void 0!==e.data){const r=0;if("string"!=typeof e.data)return Ba.errors=[{instancePath:t+"/data",schemaPath:"#/properties/data/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0}}return Ba.errors=null,!0}function Ga(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){let o=null,n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return Ga.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.exportOptions){let r=e.exportOptions;const s=n;if(n===s){if(!Array.isArray(r))return Ga.errors=[{instancePath:t+"/exportOptions",schemaPath:"#/properties/exportOptions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const u=n,p=n;let h=!1;const d=n;if(n===n)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.buttonType&&(r="buttonType")||void 0===e.id&&(r="id")||void 0===e.label&&(r="label")||void 0===e.optionType&&(r="optionType")||void 0===e.target&&(r="target")){const e={instancePath:t+"/exportOptions/"+s,schemaPath:"#/definitions/CustomExportButton.8927c6e4/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),n++}else{if(void 0!==e.buttonType){let r=e.buttonType;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/buttonType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/buttonType/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("custom"!==r){const e={instancePath:t+"/exportOptions/"+s+"/buttonType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/buttonType/enum",keyword:"enum",params:{allowedValues:Ra.properties.buttonType.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}var a=i===n}else a=!0;if(a){if(void 0!==e.variant){let r=e.variant;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/variant",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/variant/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("accent"!==r&&"cta"!==r&&"primary"!==r&&"secondary"!==r){const e={instancePath:t+"/exportOptions/"+s+"/variant",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/variant/enum",keyword:"enum",params:{allowedValues:Ra.properties.variant.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}a=i===n}else a=!0;if(a){if(void 0!==e.optionType){let r=e.optionType;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/optionType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/optionType/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("button"!==r){const e={instancePath:t+"/exportOptions/"+s+"/optionType",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/optionType/enum",keyword:"enum",params:{allowedValues:Ra.properties.optionType.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}a=i===n}else a=!0;if(a){if(void 0!==e.featureList){let r=e.featureList;const i=n;if(n===i)if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){const e=n;if("string"!=typeof r[i]){const e={instancePath:t+"/exportOptions/"+s+"/featureList/"+i,schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/featureList/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if(!(e===n))break}}else{const e={instancePath:t+"/exportOptions/"+s+"/featureList",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/featureList/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),n++}a=i===n}else a=!0;if(a){if(void 0!==e.iconUrl){const r=n;if("string"!=typeof e.iconUrl){const e={instancePath:t+"/exportOptions/"+s+"/iconUrl",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/iconUrl/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}a=r===n}else a=!0;if(a){if(void 0!==e.label){const r=n;if("string"!=typeof e.label){const e={instancePath:t+"/exportOptions/"+s+"/label",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}a=r===n}else a=!0;if(a){if(void 0!==e.target){let r=e.target;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("Host"!==r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/target/enum",keyword:"enum",params:{allowedValues:Ra.properties.target.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}a=i===n}else a=!0;if(a){if(void 0!==e.id){const r=n;if("string"!=typeof e.id){const e={instancePath:t+"/exportOptions/"+s+"/id",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}a=r===n}else a=!0;if(a)if(void 0!==e.closeTargetOnExport){const r=n;if("boolean"!=typeof e.closeTargetOnExport){const e={instancePath:t+"/exportOptions/"+s+"/closeTargetOnExport",schemaPath:"#/definitions/CustomExportButton.8927c6e4/properties/closeTargetOnExport/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),n++}a=r===n}else a=!0}}}}}}}}}else{const e={instancePath:t+"/exportOptions/"+s,schemaPath:"#/definitions/CustomExportButton.8927c6e4/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),n++}var c=d===n;if(h=h||c,!h){const a=n;if(n===n)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.id&&(r="id")||void 0===e.label&&(r="label")||void 0===e.optionType&&(r="optionType")||void 0===e.target&&(r="target")){const e={instancePath:t+"/exportOptions/"+s,schemaPath:"#/definitions/CustomExportLink.86ebef60/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),n++}else{if(void 0!==e.optionType){let r=e.optionType;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/optionType",schemaPath:"#/definitions/CustomExportLink.86ebef60/properties/optionType/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("link"!==r){const e={instancePath:t+"/exportOptions/"+s+"/optionType",schemaPath:"#/definitions/CustomExportLink.86ebef60/properties/optionType/enum",keyword:"enum",params:{allowedValues:Da.properties.optionType.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}var l=i===n}else l=!0;if(l){if(void 0!==e.label){const r=n;if("string"!=typeof e.label){const e={instancePath:t+"/exportOptions/"+s+"/label",schemaPath:"#/definitions/CustomExportLink.86ebef60/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}l=r===n}else l=!0;if(l){if(void 0!==e.target){let r=e.target;const i=n;if("string"!=typeof r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:"#/definitions/CustomExportLink.86ebef60/properties/target/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}if("Host"!==r){const e={instancePath:t+"/exportOptions/"+s+"/target",schemaPath:"#/definitions/CustomExportLink.86ebef60/properties/target/enum",keyword:"enum",params:{allowedValues:Da.properties.target.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),n++}l=i===n}else l=!0;if(l){if(void 0!==e.id){const r=n;if("string"!=typeof e.id){const e={instancePath:t+"/exportOptions/"+s+"/id",schemaPath:"#/definitions/CustomExportLink.86ebef60/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),n++}l=r===n}else l=!0;if(l)if(void 0!==e.closeTargetOnExport){const r=n;if("boolean"!=typeof e.closeTargetOnExport){const e={instancePath:t+"/exportOptions/"+s+"/closeTargetOnExport",schemaPath:"#/definitions/CustomExportLink.86ebef60/properties/closeTargetOnExport/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),n++}l=r===n}else l=!0}}}}}else{const e={instancePath:t+"/exportOptions/"+s,schemaPath:"#/definitions/CustomExportLink.86ebef60/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),n++}c=a===n;if(h=h||c,!h){const a=n;xa(e,{instancePath:t+"/exportOptions/"+s,parentData:r,parentDataProperty:s,rootData:i})||(o=null===o?xa.errors:o.concat(xa.errors),n=o.length);c=a===n;if(h=h||c,!h){const a=n;ja(e,{instancePath:t+"/exportOptions/"+s,parentData:r,parentDataProperty:s,rootData:i})||(o=null===o?ja.errors:o.concat(ja.errors),n=o.length);c=a===n;h=h||c}}}if(!h){const e={instancePath:t+"/exportOptions/"+s,schemaPath:"#/properties/exportOptions/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),n++,Ga.errors=o,!1}if(n=p,null!==o&&(p?o.length=p:o=null),!(u===n))break}}}var u=s===n}else u=!0;if(u){if(void 0!==e.asset){let r=e.asset;const s=n,a=n;let c=!1;const l=n;Ba(r,{instancePath:t+"/asset",parentData:e,parentDataProperty:"asset",rootData:i})||(o=null===o?Ba.errors:o.concat(Ba.errors),n=o.length);var p=l===n;if(c=c||p,!c){const e=n;if(n===e)if(Array.isArray(r)){const e=r.length;for(let s=0;s<e;s++){const e=n;if(Ba(r[s],{instancePath:t+"/asset/"+s,parentData:r,parentDataProperty:s,rootData:i})||(o=null===o?Ba.errors:o.concat(Ba.errors),n=o.length),!(e===n))break}}else{const e={instancePath:t+"/asset",schemaPath:"#/properties/asset/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),n++}p=e===n;c=c||p}if(!c){const e={instancePath:t+"/asset",schemaPath:"#/properties/asset/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),n++,Ga.errors=o,!1}n=a,null!==o&&(a?o.length=a:o=null);u=s===n}else u=!0;if(u)if(void 0!==e.receiveTargetErrors){const r=n;if("boolean"!=typeof e.receiveTargetErrors)return Ga.errors=[{instancePath:t+"/receiveTargetErrors",schemaPath:"#/properties/receiveTargetErrors/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;u=r===n}else u=!0}}return Ga.errors=o,0===n}const Fa={description:"Parameters to define target editor modal dialog UI constraints.",type:"object",properties:{parentElementId:{description:"Id of element to which iframe must be appended. By default it is appended to body.",type:"string"},size:{$ref:"#/definitions/PixelSize.83e9f592"},minSize:{$ref:"#/definitions/PixelSize.83e9f592"},padding:{type:"number"},borderRadius:{type:"number"},backgroundColor:{type:"string"},colorTheme:{enum:["dark","darkest","light","lightest"],type:"string"},spectrumTheme:{enum:["express","spectrum"],type:"string"},scale:{enum:["large","medium"],type:"string"},loadTimeout:{description:"If target app does't open within this time (in ms, same as of setTimeout),\nthe error callback is invoked with error code TARGET_LOAD_TIMED_OUT.",type:"number"},showLoader:{description:"Show spinner while loading target app. Default is true.",type:"boolean"}}},Va={type:"object",properties:{unit:{type:"string",enum:["px"]},width:{minimum:0,type:"number"},height:{minimum:0,type:"number"}},required:["height","unit","width"]};function Ha(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:i=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return Ha.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.parentElementId){const r=0;if("string"!=typeof e.parentElementId)return Ha.errors=[{instancePath:t+"/parentElementId",schemaPath:"#/properties/parentElementId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.size){let r=e.size;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Ha.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Ha.errors=[{instancePath:t+"/size",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Ha.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Ha.errors=[{instancePath:t+"/size/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:Va.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var n=0===s}else n=!0;if(n){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ha.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ha.errors=[{instancePath:t+"/size/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0;if(n)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ha.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ha.errors=[{instancePath:t+"/size/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}n=0===s}else n=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.minSize){let r=e.minSize;const s=0;if(0===0){if(!r||"object"!=typeof r||Array.isArray(r))return Ha.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.height&&(e="height")||void 0===r.unit&&(e="unit")||void 0===r.width&&(e="width"))return Ha.errors=[{instancePath:t+"/minSize",schemaPath:"#/definitions/PixelSize.83e9f592/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==r.unit){let e=r.unit;const s=0;if("string"!=typeof e)return Ha.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("px"!==e)return Ha.errors=[{instancePath:t+"/minSize/unit",schemaPath:"#/definitions/PixelSize.83e9f592/properties/unit/enum",keyword:"enum",params:{allowedValues:Va.properties.unit.enum},message:"must be equal to one of the allowed values"}],!1;var a=0===s}else a=!0;if(a){if(void 0!==r.width){let e=r.width;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ha.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ha.errors=[{instancePath:t+"/minSize/width",schemaPath:"#/definitions/PixelSize.83e9f592/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0;if(a)if(void 0!==r.height){let e=r.height;const s=0;if(0===s){if("number"!=typeof e||!isFinite(e))return Ha.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(e<0||isNaN(e))return Ha.errors=[{instancePath:t+"/minSize/height",schemaPath:"#/definitions/PixelSize.83e9f592/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}a=0===s}else a=!0}}}o=0===s}else o=!0;if(o){if(void 0!==e.padding){let r=e.padding;const s=0;if("number"!=typeof r||!isFinite(r))return Ha.errors=[{instancePath:t+"/padding",schemaPath:"#/properties/padding/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.borderRadius){let r=e.borderRadius;const s=0;if("number"!=typeof r||!isFinite(r))return Ha.errors=[{instancePath:t+"/borderRadius",schemaPath:"#/properties/borderRadius/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.backgroundColor){const r=0;if("string"!=typeof e.backgroundColor)return Ha.errors=[{instancePath:t+"/backgroundColor",schemaPath:"#/properties/backgroundColor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.colorTheme){let r=e.colorTheme;const s=0;if("string"!=typeof r)return Ha.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dark"!==r&&"darkest"!==r&&"light"!==r&&"lightest"!==r)return Ha.errors=[{instancePath:t+"/colorTheme",schemaPath:"#/properties/colorTheme/enum",keyword:"enum",params:{allowedValues:Fa.properties.colorTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.spectrumTheme){let r=e.spectrumTheme;const s=0;if("string"!=typeof r)return Ha.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("express"!==r&&"spectrum"!==r)return Ha.errors=[{instancePath:t+"/spectrumTheme",schemaPath:"#/properties/spectrumTheme/enum",keyword:"enum",params:{allowedValues:Fa.properties.spectrumTheme.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.scale){let r=e.scale;const s=0;if("string"!=typeof r)return Ha.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("large"!==r&&"medium"!==r)return Ha.errors=[{instancePath:t+"/scale",schemaPath:"#/properties/scale/enum",keyword:"enum",params:{allowedValues:Fa.properties.scale.enum},message:"must be equal to one of the allowed values"}],!1;o=0===s}else o=!0;if(o){if(void 0!==e.loadTimeout){let r=e.loadTimeout;const s=0;if("number"!=typeof r||!isFinite(r))return Ha.errors=[{instancePath:t+"/loadTimeout",schemaPath:"#/properties/loadTimeout/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;o=0===s}else o=!0;if(o)if(void 0!==e.showLoader){const r=0;if("boolean"!=typeof e.showLoader)return Ha.errors=[{instancePath:t+"/showLoader",schemaPath:"#/properties/showLoader/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;o=0===r}else o=!0}}}}}}}}}return Ha.errors=null,!0}const za=te((function e(t,{instancePath:r="",parentData:s,parentDataProperty:i,rootData:o=t}={}){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let s;if(void 0===t.appName&&(s="appName")||void 0===t.clientId&&(s="clientId"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:s},message:"must have required property '"+s+"'"}],!1;if(void 0!==t.clientId){const s=0;if("string"!=typeof t.clientId)return e.errors=[{instancePath:r+"/clientId",schemaPath:"#/properties/clientId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var n=0===s}else n=!0;if(n){if(void 0!==t.appName){const s=0;if("string"!=typeof t.appName)return e.errors=[{instancePath:r+"/appName",schemaPath:"#/properties/appName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;n=0===s}else n=!0;if(n){if(void 0!==t.appVersion){let s=t.appVersion;const i=0;if(0===0){if(!s||"object"!=typeof s||Array.isArray(s))return e.errors=[{instancePath:r+"/appVersion",schemaPath:"#/definitions/Version.52ee87ff/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===s.major&&(t="major")||void 0===s.minor&&(t="minor"))return e.errors=[{instancePath:r+"/appVersion",schemaPath:"#/definitions/Version.52ee87ff/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;if(void 0!==s.major){let t=s.major;const i=0;if("number"!=typeof t||!isFinite(t))return e.errors=[{instancePath:r+"/appVersion/major",schemaPath:"#/definitions/Version.52ee87ff/properties/major/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=0===i}else a=!0;if(a){if(void 0!==s.minor){let t=s.minor;const i=0;if("number"!=typeof t||!isFinite(t))return e.errors=[{instancePath:r+"/appVersion/minor",schemaPath:"#/definitions/Version.52ee87ff/properties/minor/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;a=0===i}else a=!0;if(a)if(void 0!==s.patch){let t=s.patch;const i=0;if("number"!=typeof t||!isFinite(t))return e.errors=[{instancePath:r+"/appVersion/patch",schemaPath:"#/definitions/Version.52ee87ff/properties/patch/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;a=0===i}else a=!0}}}n=0===i}else n=!0;if(n)if(void 0!==t.platformCategory){let s=t.platformCategory;const i=0;if("string"!=typeof s)return e.errors=[{instancePath:r+"/platformCategory",schemaPath:"#/properties/platformCategory/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("desktop"!==s&&"web"!==s)return e.errors=[{instancePath:r+"/platformCategory",schemaPath:"#/properties/platformCategory/enum",keyword:"enum",params:{allowedValues:qa.properties.platformCategory.enum},message:"must be equal to one of the allowed values"}],!1;n=0===i}else n=!0}}}return e.errors=null,!0}),"HostInfo"),qa={description:"This interface describes the properties provided by client.",type:"object",properties:{clientId:{description:"For 3P - Client id generated from dev console.\nFor 1P - Client id generated from IMSS portal. Environment(stage/prod) specific client id should be passed).",type:"string"},appName:{description:"Client's application name. This name may be used in creating folder for projects in target application.",type:"string"},appVersion:{description:"Client's current version.",$ref:"#/definitions/Version.52ee87ff"},platformCategory:{description:"Client's application type.",enum:["desktop","web"],type:"string"}},required:["appName","clientId"],definitions:{"Version.52ee87ff":{description:"Version details of any application.\nReference : https://semver.org/",type:"object",properties:{major:{type:"number"},minor:{type:"number"},patch:{type:"number"}},required:["major","minor"]}},$schema:"http://json-schema.org/draft-07/schema#"};const Wa=te((function e(t,{instancePath:r="",parentData:s,parentDataProperty:i,rootData:o=t}={}){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/definitions/ConfigParams_1.26695baf/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==t.env){let s=t.env;const i=0;if("string"!=typeof s)return e.errors=[{instancePath:r+"/env",schemaPath:"#/definitions/ConfigParams_1.26695baf/properties/env/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dev"!==s&&"preprod"!==s&&"prod"!==s&&"stage"!==s)return e.errors=[{instancePath:r+"/env",schemaPath:"#/definitions/ConfigParams_1.26695baf/properties/env/enum",keyword:"enum",params:{allowedValues:Xa.properties.env.enum},message:"must be equal to one of the allowed values"}],!1;var n=0===i}else n=!0;if(n){if(void 0!==t.locale){let s=t.locale;const i=0;if(0===i){if("string"!=typeof s)return e.errors=[{instancePath:r+"/locale",schemaPath:"#/definitions/ConfigParams_1.26695baf/properties/locale/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(s))return e.errors=[{instancePath:r+"/locale",schemaPath:"#/definitions/ConfigParams_1.26695baf/properties/locale/pattern",keyword:"pattern",params:{pattern:"^[a-z]{2}([_-]([A-Za-z]{2,4}))?([_-][A-Z]{2})?$"},message:'must match pattern "^[a-z]{2}([_-]([A-Za-z]{2,4}))?([_-][A-Z]{2})?$"'}],!1}n=0===i}else n=!0;if(n)if(void 0!==t.skipBrowserSupportCheck){const s=0;if("boolean"!=typeof t.skipBrowserSupportCheck)return e.errors=[{instancePath:r+"/skipBrowserSupportCheck",schemaPath:"#/definitions/ConfigParams_1.26695baf/properties/skipBrowserSupportCheck/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;n=0===s}else n=!0}if(0===0){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/definitions/ConfigParams_2.0e773733/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==t.loginMode){let s=t.loginMode;const i=0;if("string"!=typeof s)return e.errors=[{instancePath:r+"/loginMode",schemaPath:"#/definitions/ConfigParams_2.0e773733/properties/loginMode/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("delayed"!==s&&"upfront"!==s)return e.errors=[{instancePath:r+"/loginMode",schemaPath:"#/definitions/ConfigParams_2.0e773733/properties/loginMode/enum",keyword:"enum",params:{allowedValues:Ya.properties.loginMode.enum},message:"must be equal to one of the allowed values"}],!1;var a=0===i}else a=!0;if(a){if(void 0!==t.env){let s=t.env;const i=0;if("string"!=typeof s)return e.errors=[{instancePath:r+"/env",schemaPath:"#/definitions/ConfigParams_2.0e773733/properties/env/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dev"!==s&&"preprod"!==s&&"prod"!==s&&"stage"!==s)return e.errors=[{instancePath:r+"/env",schemaPath:"#/definitions/ConfigParams_2.0e773733/properties/env/enum",keyword:"enum",params:{allowedValues:Ya.properties.env.enum},message:"must be equal to one of the allowed values"}],!1;a=0===i}else a=!0;if(a){if(void 0!==t.locale){let s=t.locale;const i=0;if(0===i){if("string"!=typeof s)return e.errors=[{instancePath:r+"/locale",schemaPath:"#/definitions/ConfigParams_2.0e773733/properties/locale/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(s))return e.errors=[{instancePath:r+"/locale",schemaPath:"#/definitions/ConfigParams_2.0e773733/properties/locale/pattern",keyword:"pattern",params:{pattern:"^[a-z]{2}([_-]([A-Za-z]{2,4}))?([_-][A-Z]{2})?$"},message:'must match pattern "^[a-z]{2}([_-]([A-Za-z]{2,4}))?([_-][A-Z]{2})?$"'}],!1}a=0===i}else a=!0;if(a)if(void 0!==t.skipBrowserSupportCheck){const s=0;if("boolean"!=typeof t.skipBrowserSupportCheck)return e.errors=[{instancePath:r+"/skipBrowserSupportCheck",schemaPath:"#/definitions/ConfigParams_2.0e773733/properties/skipBrowserSupportCheck/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;a=0===s}else a=!0}}}return e.errors=null,!0}),"ConfigParams"),Xa={type:"object",properties:{env:{description:"1P only",enum:["dev","preprod","prod","stage"],type:"string"},locale:{pattern:"^[a-z]{2}([_-]([A-Za-z]{2,4}))?([_-][A-Z]{2})?$",type:"string"},skipBrowserSupportCheck:{type:"boolean"}}},Ya={type:"object",properties:{loginMode:{description:"3P only\nConfigure between upfront and delayed login.\nDefault value would be upfront login until delayed login is supported.\nDelayed login is not supported now.",enum:["delayed","upfront"],type:"string"},env:{description:"1P only",enum:["dev","preprod","prod","stage"],type:"string"},locale:{pattern:"^[a-z]{2}([_-]([A-Za-z]{2,4}))?([_-][A-Z]{2})?$",type:"string"},skipBrowserSupportCheck:{type:"boolean"}}},Ka=new RegExp("^[a-z]{2}([_-]([A-Za-z]{2,4}))?([_-][A-Z]{2})?$","u");class Qa{validateHostInfo(e){za(e)}validateConfigParams(e){Wa(e)}validate(e,t){switch(e){case A.LAUNCH_TARGET:wa(t);break;case A.CREATE_DESIGN:return void Xn(t);case A.EDIT_DESIGN:return void ua(t);case A.QUICK_ACTION:return void Ca(t);default:throw new Error(`Validator for ${e} not implemented`)}}}var Ja=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class Za extends ae{static setEnvironmentConfig(e,t){const r=Object.create(null,{setEnvironmentConfig:{get:()=>super.setEnvironmentConfig}});return Ja(this,void 0,void 0,(function*(){this.targetsBase=yield this._getTargetsBaseUrls(e,t),r.setEnvironmentConfig.call(this,e,t)}))}static _getTargetsBaseUrls(e,t){const r=Object.create(null,{_getTargetsBaseUrls:{get:()=>super._getTargetsBaseUrls}});return Ja(this,void 0,void 0,(function*(){const s=`${t?S[e][T.FIRST_PARTY]:S[e][T.THIRD_PARTY]}/v${null==Re?void 0:Re.major}/targets_config.json`;try{const e=yield se(s);return null==e?void 0:e.base}catch(t){return r._getTargetsBaseUrls.call(this,e)}}))}static getOverriddenBaseEndpoint(e,t){var r;switch(this._env){case g.DEV:case g.STAGE:case g.PREPROD:return null!==(r=vi(t))&&void 0!==r?r:e;case g.PRODUCTION:default:return e}}}var ec=function(e,t,r,s){return new(r||(r=Promise))((function(i,o){function n(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}c((s=s.apply(e,t||[])).next())}))};class tc extends wn{constructor(e,t,r){super(e,ye,t,r)}createDesign(e){this.launchAction(Fi,e).catch((e=>et.error(e)))}editDesign(e){this.launchAction(Wn,e).catch((e=>et.error(e)))}openQuickAction(e){this.launchAction(zn,e).catch((e=>et.error(e)))}}const rc={initialize:(e,t)=>ec(void 0,void 0,void 0,(function*(){var r;if(tc.activeInstance){const e=Q.create(Je.SDK_ALREADY_INITIALIZED);throw et.error(e),e}try{const s=new Qa;return s.validateHostInfo(e),t&&s.validateConfigParams(t),yield Za.setEnvironmentConfig(null!==(r=null==t?void 0:t.env)&&void 0!==r?r:g.PRODUCTION,!1),!0!==(null==t?void 0:t.skipBrowserSupportCheck)&&(yield Vn(!1)),new tc(s,e,t=t||{})}catch(e){throw et.error(e),e}}))}})(),s=s.default})()));